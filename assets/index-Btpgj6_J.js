var rL=Object.defineProperty;var O_=a=>{throw TypeError(a)};var oL=(a,t,e)=>t in a?rL(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var wt=(a,t,e)=>oL(a,typeof t!="symbol"?t+"":t,e),Xv=(a,t,e)=>t.has(a)||O_("Cannot "+e);var d=(a,t,e)=>(Xv(a,t,"read from private field"),e?e.call(a):t.get(a)),T=(a,t,e)=>t.has(a)?O_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),E=(a,t,e,n)=>(Xv(a,t,"write to private field"),n?n.call(a,e):t.set(a,e),e),_=(a,t,e)=>(Xv(a,t,"access private method"),e);var wi=(a,t,e,n)=>({set _(r){E(a,t,r,e)},get _(){return d(a,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function B1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Yv={exports:{}},kh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function lL(){if(k_)return kh;k_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:a,type:n,key:c,ref:r!==void 0?r:null,props:l}}return kh.Fragment=t,kh.jsx=e,kh.jsxs=e,kh}var P_;function cL(){return P_||(P_=1,Yv.exports=lL()),Yv.exports}var F=cL(),Kv={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function uL(){if(N_)return Lt;N_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=v&&k[v]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function M(k,J,ot){this.props=k,this.context=J,this.refs=w,this.updater=ot||A}M.prototype.isReactComponent={},M.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=M.prototype;function L(k,J,ot){this.props=k,this.context=J,this.refs=w,this.updater=ot||A}var O=L.prototype=new C;O.constructor=L,x(O,M.prototype),O.isPureReactComponent=!0;var j=Array.isArray,P={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function q(k,J,ot,at,nt,Et){return ot=Et.ref,{$$typeof:a,type:k,key:J,ref:ot!==void 0?ot:null,props:Et}}function I(k,J){return q(k.type,J,void 0,void 0,void 0,k.props)}function G(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function tt(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ot){return J[ot]})}var it=/\/+/g;function vt(k,J){return typeof k=="object"&&k!==null&&k.key!=null?tt(""+k.key):J.toString(36)}function ft(){}function ut(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ft,ft):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function mt(k,J,ot,at,nt){var Et=typeof k;(Et==="undefined"||Et==="boolean")&&(k=null);var ht=!1;if(k===null)ht=!0;else switch(Et){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(k.$$typeof){case a:case t:ht=!0;break;case g:return ht=k._init,mt(ht(k._payload),J,ot,at,nt)}}if(ht)return nt=nt(k),ht=at===""?"."+vt(k,0):at,j(nt)?(ot="",ht!=null&&(ot=ht.replace(it,"$&/")+"/"),mt(nt,J,ot,"",function(Gt){return Gt})):nt!=null&&(G(nt)&&(nt=I(nt,ot+(nt.key==null||k&&k.key===nt.key?"":(""+nt.key).replace(it,"$&/")+"/")+ht)),J.push(nt)),1;ht=0;var _t=at===""?".":at+":";if(j(k))for(var Dt=0;Dt<k.length;Dt++)at=k[Dt],Et=_t+vt(at,Dt),ht+=mt(at,J,ot,Et,nt);else if(Dt=b(k),typeof Dt=="function")for(k=Dt.call(k),Dt=0;!(at=k.next()).done;)at=at.value,Et=_t+vt(at,Dt++),ht+=mt(at,J,ot,Et,nt);else if(Et==="object"){if(typeof k.then=="function")return mt(ut(k),J,ot,at,nt);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ht}function $(k,J,ot){if(k==null)return k;var at=[],nt=0;return mt(k,at,"","",function(Et){return J.call(ot,Et,nt++)}),at}function Y(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(ot){(k._status===0||k._status===-1)&&(k._status=1,k._result=ot)},function(ot){(k._status===0||k._status===-1)&&(k._status=2,k._result=ot)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var Z=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function xt(){}return Lt.Children={map:$,forEach:function(k,J,ot){$(k,function(){J.apply(this,arguments)},ot)},count:function(k){var J=0;return $(k,function(){J++}),J},toArray:function(k){return $(k,function(J){return J})||[]},only:function(k){if(!G(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Lt.Component=M,Lt.Fragment=e,Lt.Profiler=r,Lt.PureComponent=L,Lt.StrictMode=n,Lt.Suspense=f,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Lt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Lt.cache=function(k){return function(){return k.apply(null,arguments)}},Lt.cloneElement=function(k,J,ot){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var at=x({},k.props),nt=k.key,Et=void 0;if(J!=null)for(ht in J.ref!==void 0&&(Et=void 0),J.key!==void 0&&(nt=""+J.key),J)!z.call(J,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&J.ref===void 0||(at[ht]=J[ht]);var ht=arguments.length-2;if(ht===1)at.children=ot;else if(1<ht){for(var _t=Array(ht),Dt=0;Dt<ht;Dt++)_t[Dt]=arguments[Dt+2];at.children=_t}return q(k.type,nt,void 0,void 0,Et,at)},Lt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Lt.createElement=function(k,J,ot){var at,nt={},Et=null;if(J!=null)for(at in J.key!==void 0&&(Et=""+J.key),J)z.call(J,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(nt[at]=J[at]);var ht=arguments.length-2;if(ht===1)nt.children=ot;else if(1<ht){for(var _t=Array(ht),Dt=0;Dt<ht;Dt++)_t[Dt]=arguments[Dt+2];nt.children=_t}if(k&&k.defaultProps)for(at in ht=k.defaultProps,ht)nt[at]===void 0&&(nt[at]=ht[at]);return q(k,Et,void 0,void 0,null,nt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(k){return{$$typeof:h,render:k}},Lt.isValidElement=G,Lt.lazy=function(k){return{$$typeof:g,_payload:{_status:-1,_result:k},_init:Y}},Lt.memo=function(k,J){return{$$typeof:p,type:k,compare:J===void 0?null:J}},Lt.startTransition=function(k){var J=P.T,ot={};P.T=ot;try{var at=k(),nt=P.S;nt!==null&&nt(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(xt,Z)}catch(Et){Z(Et)}finally{P.T=J}},Lt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Lt.use=function(k){return P.H.use(k)},Lt.useActionState=function(k,J,ot){return P.H.useActionState(k,J,ot)},Lt.useCallback=function(k,J){return P.H.useCallback(k,J)},Lt.useContext=function(k){return P.H.useContext(k)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(k,J){return P.H.useDeferredValue(k,J)},Lt.useEffect=function(k,J){return P.H.useEffect(k,J)},Lt.useId=function(){return P.H.useId()},Lt.useImperativeHandle=function(k,J,ot){return P.H.useImperativeHandle(k,J,ot)},Lt.useInsertionEffect=function(k,J){return P.H.useInsertionEffect(k,J)},Lt.useLayoutEffect=function(k,J){return P.H.useLayoutEffect(k,J)},Lt.useMemo=function(k,J){return P.H.useMemo(k,J)},Lt.useOptimistic=function(k,J){return P.H.useOptimistic(k,J)},Lt.useReducer=function(k,J,ot){return P.H.useReducer(k,J,ot)},Lt.useRef=function(k){return P.H.useRef(k)},Lt.useState=function(k){return P.H.useState(k)},Lt.useSyncExternalStore=function(k,J,ot){return P.H.useSyncExternalStore(k,J,ot)},Lt.useTransition=function(){return P.H.useTransition()},Lt.version="19.0.0",Lt}var F_;function eA(){return F_||(F_=1,Kv.exports=uL()),Kv.exports}var W=eA();const vl=B1(W);var Wv={exports:{}},Ph={},$v={exports:{}},Qv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function hL(){return j_||(j_=1,function(a){function t($,Y){var Z=$.length;$.push(Y);t:for(;0<Z;){var xt=Z-1>>>1,k=$[xt];if(0<r(k,Y))$[xt]=Y,$[Z]=k,Z=xt;else break t}}function e($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var Y=$[0],Z=$.pop();if(Z!==Y){$[0]=Z;t:for(var xt=0,k=$.length,J=k>>>1;xt<J;){var ot=2*(xt+1)-1,at=$[ot],nt=ot+1,Et=$[nt];if(0>r(at,Z))nt<k&&0>r(Et,at)?($[xt]=Et,$[nt]=Z,xt=nt):($[xt]=at,$[ot]=Z,xt=ot);else if(nt<k&&0>r(Et,Z))$[xt]=Et,$[nt]=Z,xt=nt;else break t}}return Y}function r($,Y){var Z=$.sortIndex-Y.sortIndex;return Z!==0?Z:$.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var f=[],p=[],g=1,v=null,b=3,A=!1,x=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O($){for(var Y=e(p);Y!==null;){if(Y.callback===null)n(p);else if(Y.startTime<=$)n(p),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=e(p)}}function j($){if(w=!1,O($),!x)if(e(f)!==null)x=!0,ut();else{var Y=e(p);Y!==null&&mt(j,Y.startTime-$)}}var P=!1,z=-1,q=5,I=-1;function G(){return!(a.unstable_now()-I<q)}function tt(){if(P){var $=a.unstable_now();I=$;var Y=!0;try{t:{x=!1,w&&(w=!1,C(z),z=-1),A=!0;var Z=b;try{e:{for(O($),v=e(f);v!==null&&!(v.expirationTime>$&&G());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,b=v.priorityLevel;var k=xt(v.expirationTime<=$);if($=a.unstable_now(),typeof k=="function"){v.callback=k,O($),Y=!0;break e}v===e(f)&&n(f),O($)}else n(f);v=e(f)}if(v!==null)Y=!0;else{var J=e(p);J!==null&&mt(j,J.startTime-$),Y=!1}}break t}finally{v=null,b=Z,A=!1}Y=void 0}}finally{Y?it():P=!1}}}var it;if(typeof L=="function")it=function(){L(tt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,ft=vt.port2;vt.port1.onmessage=tt,it=function(){ft.postMessage(null)}}else it=function(){M(tt,0)};function ut(){P||(P=!0,it())}function mt($,Y){z=M(function(){$(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_continueExecution=function(){x||A||(x=!0,ut())},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_getFirstCallbackNode=function(){return e(f)},a.unstable_next=function($){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var Z=b;b=Y;try{return $()}finally{b=Z}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=b;b=$;try{return Y()}finally{b=Z}},a.unstable_scheduleCallback=function($,Y,Z){var xt=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?xt+Z:xt):Z=xt,$){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Z+k,$={id:g++,callback:Y,priorityLevel:$,startTime:Z,expirationTime:k,sortIndex:-1},Z>xt?($.sortIndex=Z,t(p,$),e(f)===null&&$===e(p)&&(w?(C(z),z=-1):w=!0,mt(j,Z-xt))):($.sortIndex=k,t(f,$),x||A||(x=!0,ut())),$},a.unstable_shouldYield=G,a.unstable_wrapCallback=function($){var Y=b;return function(){var Z=b;b=Y;try{return $.apply(this,arguments)}finally{b=Z}}}}(Qv)),Qv}var B_;function dL(){return B_||(B_=1,$v.exports=hL()),$v.exports}var Zv={exports:{}},di={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function fL(){if(H_)return di;H_=1;var a=eA();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:p,implementation:g}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,di.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,g)},di.flushSync=function(f){var p=c.T,g=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=p,n.p=g,n.d.f()}},di.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(f,p))},di.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},di.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?n.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):g==="script"&&n.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},di.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);n.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(f)},di.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin);n.d.L(f,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},di.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);n.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(f)},di.requestFormReset=function(f){n.d.r(f)},di.unstable_batchedUpdates=function(f,p){return f(p)},di.useFormState=function(f,p,g){return c.H.useFormState(f,p,g)},di.useFormStatus=function(){return c.H.useHostTransitionStatus()},di.version="19.0.0",di}var z_;function pL(){if(z_)return Zv.exports;z_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Zv.exports=fL(),Zv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function mL(){if(V_)return Ph;V_=1;var a=dL(),t=eA(),e=pL();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),A=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function I(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case h:return"Portal";case g:return"Profiler";case p:return"StrictMode";case w:return"Suspense";case M:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case A:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case x:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:I(i.type)||"Memo";case L:s=i._payload,i=i._init;try{return I(i(s))}catch{}}return null}var G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=Object.assign,it,vt;function ft(i){if(it===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);it=s&&s[1]||"",vt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+i+vt}var ut=!1;function mt(i,s){if(!i||ut)return"";ut=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var U=X}Reflect.construct(i,[],et)}else{try{et.call()}catch(X){U=X}i.call(et.prototype)}}else{try{throw Error()}catch(X){U=X}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&U&&typeof X.stack=="string")return[X.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],R=y[1];if(S&&R){var D=S.split(`
`),B=R.split(`
`);for(m=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;if(u===D.length||m===B.length)for(u=D.length-1,m=B.length-1;1<=u&&0<=m&&D[u]!==B[m];)m--;for(;1<=u&&0<=m;u--,m--)if(D[u]!==B[m]){if(u!==1||m!==1)do if(u--,m--,0>m||D[u]!==B[m]){var K=`
`+D[u].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=u&&0<=m);break}}}finally{ut=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ft(o):""}function $(i){switch(i.tag){case 26:case 27:case 5:return ft(i.type);case 16:return ft("Lazy");case 13:return ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return i=mt(i.type,!1),i;case 11:return i=mt(i.type.render,!1),i;case 1:return i=mt(i.type,!0),i;default:return""}}function Y(i){try{var s="";do s+=$(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Z(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function xt(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function k(i){if(Z(i)!==i)throw Error(n(188))}function J(i){var s=i.alternate;if(!s){if(s=Z(i),s===null)throw Error(n(188));return s!==i?null:i}for(var o=i,u=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return k(m),i;if(y===u)return k(m),s;y=y.sibling}throw Error(n(188))}if(o.return!==u.return)o=m,u=y;else{for(var S=!1,R=m.child;R;){if(R===o){S=!0,o=m,u=y;break}if(R===u){S=!0,u=m,o=y;break}R=R.sibling}if(!S){for(R=y.child;R;){if(R===o){S=!0,o=y,u=m;break}if(R===u){S=!0,u=y,o=m;break}R=R.sibling}if(!S)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?i:s}function ot(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=ot(i),s!==null)return s;i=i.sibling}return null}var at=Array.isArray,nt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},ht=[],_t=-1;function Dt(i){return{current:i}}function Gt(i){0>_t||(i.current=ht[_t],ht[_t]=null,_t--)}function St(i,s){_t++,ht[_t]=i.current,i.current=s}var ci=Dt(null),Nn=Dt(null),zt=Dt(null),le=Dt(null);function we(i,s){switch(St(zt,s),St(Nn,i),St(ci,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?o_(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=o_(i),s=l_(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Gt(ci),St(ci,s)}function ce(){Gt(ci),Gt(Nn),Gt(zt)}function ns(i){i.memoizedState!==null&&St(le,i);var s=ci.current,o=l_(s,i.type);s!==o&&(St(Nn,i),St(ci,o))}function ss(i){Nn.current===i&&(Gt(ci),Gt(Nn)),le.current===i&&(Gt(le),Rh._currentValue=Et)}var Nu=Object.prototype.hasOwnProperty,Fu=a.unstable_scheduleCallback,Pa=a.unstable_cancelCallback,Bg=a.unstable_shouldYield,Hg=a.unstable_requestPaint,un=a.unstable_now,zg=a.unstable_getCurrentPriorityLevel,Xf=a.unstable_ImmediatePriority,Ls=a.unstable_UserBlockingPriority,Os=a.unstable_NormalPriority,Dl=a.unstable_LowPriority,Ll=a.unstable_IdlePriority,UM=a.log,IM=a.unstable_setDisableYieldValue,ju=null,Ii=null;function GM(i){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(ju,i,void 0,(i.current.flags&128)===128)}catch{}}function Na(i){if(typeof UM=="function"&&IM(i),Ii&&typeof Ii.setStrictMode=="function")try{Ii.setStrictMode(ju,i)}catch{}}var Gi=Math.clz32?Math.clz32:YM,qM=Math.log,XM=Math.LN2;function YM(i){return i>>>=0,i===0?32:31-(qM(i)/XM|0)|0}var Yf=128,Kf=4194304;function Ir(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wf(i,s){var o=i.pendingLanes;if(o===0)return 0;var u=0,m=i.suspendedLanes,y=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var R=o&134217727;return R!==0?(o=R&~m,o!==0?u=Ir(o):(y&=R,y!==0?u=Ir(y):i||(S=R&~S,S!==0&&(u=Ir(S))))):(R=o&~m,R!==0?u=Ir(R):y!==0?u=Ir(y):i||(S=o&~S,S!==0&&(u=Ir(S)))),u===0?0:s!==0&&s!==u&&(s&m)===0&&(m=u&-u,S=s&-s,m>=S||m===32&&(S&4194176)!==0)?s:u}function Bu(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function KM(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JA(){var i=Yf;return Yf<<=1,(Yf&4194176)===0&&(Yf=128),i}function tS(){var i=Kf;return Kf<<=1,(Kf&62914560)===0&&(Kf=4194304),i}function Vg(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Hu(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function WM(i,s,o,u,m,y){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,D=i.expirationTimes,B=i.hiddenUpdates;for(o=S&~o;0<o;){var K=31-Gi(o),et=1<<K;R[K]=0,D[K]=-1;var U=B[K];if(U!==null)for(B[K]=null,K=0;K<U.length;K++){var X=U[K];X!==null&&(X.lane&=-536870913)}o&=~et}u!==0&&eS(i,u,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~s))}function eS(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Gi(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function iS(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Gi(o),m=1<<u;m&s|i[u]&s&&(i[u]|=s),o&=~m}}function nS(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function sS(){var i=nt.p;return i!==0?i:(i=window.event,i===void 0?32:T_(i.type))}function $M(i,s){var o=nt.p;try{return nt.p=i,s()}finally{nt.p=o}}var Fa=Math.random().toString(36).slice(2),ui="__reactFiber$"+Fa,ki="__reactProps$"+Fa,Ol="__reactContainer$"+Fa,Ug="__reactEvents$"+Fa,QM="__reactListeners$"+Fa,ZM="__reactHandles$"+Fa,aS="__reactResources$"+Fa,zu="__reactMarker$"+Fa;function Ig(i){delete i[ui],delete i[ki],delete i[Ug],delete i[QM],delete i[ZM]}function Gr(i){var s=i[ui];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ol]||o[ui]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=h_(i);i!==null;){if(o=i[ui])return o;i=h_(i)}return s}i=o,o=i.parentNode}return null}function kl(i){if(i=i[ui]||i[Ol]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Vu(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Pl(i){var s=i[aS];return s||(s=i[aS]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ge(i){i[zu]=!0}var rS=new Set,oS={};function qr(i,s){Nl(i,s),Nl(i+"Capture",s)}function Nl(i,s){for(oS[i]=s,i=0;i<s.length;i++)rS.add(s[i])}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lS={},cS={};function tD(i){return Nu.call(cS,i)?!0:Nu.call(lS,i)?!1:JM.test(i)?cS[i]=!0:(lS[i]=!0,!1)}function $f(i,s,o){if(tD(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Qf(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ps(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function uS(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function eD(i){var s=uS(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Zf(i){i._valueTracker||(i._valueTracker=eD(i))}function hS(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=uS(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Jf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var iD=/[\n"\\]/g;function dn(i){return i.replace(iD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Gg(i,s,o,u,m,y,S,R){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+hn(s)):i.value!==""+hn(s)&&(i.value=""+hn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?qg(i,S,hn(s)):o!=null?qg(i,S,hn(o)):u!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+hn(R):i.removeAttribute("name")}function dS(i,s,o,u,m,y,S,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+hn(o):"",s=s!=null?""+hn(s):o,R||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function qg(i,s,o){s==="number"&&Jf(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fl(i,s,o,u){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+hn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function fS(i,s,o){if(s!=null&&(s=""+hn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+hn(o):""}function pS(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(n(92));if(at(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=hn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function jl(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var nD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mS(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||nD.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function gS(i,s,o){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&mS(i,m,u)}else for(var y in s)s.hasOwnProperty(y)&&mS(i,y,s[y])}function Xg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tp(i){return aD.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Yg=null;function Kg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bl=null,Hl=null;function yS(i){var s=kl(i);if(s&&(i=s.stateNode)){var o=i[ki]||null;t:switch(i=s.stateNode,s.type){case"input":if(Gg(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var m=u[ki]||null;if(!m)throw Error(n(90));Gg(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&hS(u)}break t;case"textarea":fS(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Fl(i,!!o.multiple,s,!1)}}}var Wg=!1;function vS(i,s,o){if(Wg)return i(s,o);Wg=!0;try{var u=i(s);return u}finally{if(Wg=!1,(Bl!==null||Hl!==null)&&(jp(),Bl&&(s=Bl,i=Hl,Hl=Bl=null,yS(s),i)))for(s=0;s<i.length;s++)yS(i[s])}}function Uu(i,s){var o=i.stateNode;if(o===null)return null;var u=o[ki]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var $g=!1;if(ks)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){$g=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{$g=!1}var ja=null,Qg=null,ep=null;function bS(){if(ep)return ep;var i,s=Qg,o=s.length,u,m="value"in ja?ja.value:ja.textContent,y=m.length;for(i=0;i<o&&s[i]===m[i];i++);var S=o-i;for(u=1;u<=S&&s[o-u]===m[y-u];u++);return ep=m.slice(i,1<u?1-u:void 0)}function ip(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function np(){return!0}function AS(){return!1}function Pi(i){function s(o,u,m,y,S){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?np:AS,this.isPropagationStopped=AS,this}return tt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=np)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=np)},persist:function(){},isPersistent:np}),s}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sp=Pi(Xr),Gu=tt({},Xr,{view:0,detail:0}),rD=Pi(Gu),Zg,Jg,qu,ap=tt({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ey,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qu&&(qu&&i.type==="mousemove"?(Zg=i.screenX-qu.screenX,Jg=i.screenY-qu.screenY):Jg=Zg=0,qu=i),Zg)},movementY:function(i){return"movementY"in i?i.movementY:Jg}}),SS=Pi(ap),oD=tt({},ap,{dataTransfer:0}),lD=Pi(oD),cD=tt({},Gu,{relatedTarget:0}),ty=Pi(cD),uD=tt({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),hD=Pi(uD),dD=tt({},Xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fD=Pi(dD),pD=tt({},Xr,{data:0}),xS=Pi(pD),mD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vD(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=yD[i])?!!s[i]:!1}function ey(){return vD}var bD=tt({},Gu,{key:function(i){if(i.key){var s=mD[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ip(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gD[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ey,charCode:function(i){return i.type==="keypress"?ip(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ip(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),AD=Pi(bD),SD=tt({},ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ES=Pi(SD),xD=tt({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ey}),ED=Pi(xD),_D=tt({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wD=Pi(_D),TD=tt({},ap,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),CD=Pi(TD),RD=tt({},Xr,{newState:0,oldState:0}),MD=Pi(RD),DD=[9,13,27,32],iy=ks&&"CompositionEvent"in window,Xu=null;ks&&"documentMode"in document&&(Xu=document.documentMode);var LD=ks&&"TextEvent"in window&&!Xu,_S=ks&&(!iy||Xu&&8<Xu&&11>=Xu),wS=" ",TS=!1;function CS(i,s){switch(i){case"keyup":return DD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zl=!1;function OD(i,s){switch(i){case"compositionend":return RS(s);case"keypress":return s.which!==32?null:(TS=!0,wS);case"textInput":return i=s.data,i===wS&&TS?null:i;default:return null}}function kD(i,s){if(zl)return i==="compositionend"||!iy&&CS(i,s)?(i=bS(),ep=Qg=ja=null,zl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _S&&s.locale!=="ko"?null:s.data;default:return null}}var PD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MS(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!PD[i.type]:s==="textarea"}function DS(i,s,o,u){Bl?Hl?Hl.push(u):Hl=[u]:Bl=u,s=Up(s,"onChange"),0<s.length&&(o=new sp("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Yu=null,Ku=null;function ND(i){i_(i,0)}function rp(i){var s=Vu(i);if(hS(s))return i}function LS(i,s){if(i==="change")return s}var OS=!1;if(ks){var ny;if(ks){var sy="oninput"in document;if(!sy){var kS=document.createElement("div");kS.setAttribute("oninput","return;"),sy=typeof kS.oninput=="function"}ny=sy}else ny=!1;OS=ny&&(!document.documentMode||9<document.documentMode)}function PS(){Yu&&(Yu.detachEvent("onpropertychange",NS),Ku=Yu=null)}function NS(i){if(i.propertyName==="value"&&rp(Ku)){var s=[];DS(s,Ku,i,Kg(i)),vS(ND,s)}}function FD(i,s,o){i==="focusin"?(PS(),Yu=s,Ku=o,Yu.attachEvent("onpropertychange",NS)):i==="focusout"&&PS()}function jD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rp(Ku)}function BD(i,s){if(i==="click")return rp(s)}function HD(i,s){if(i==="input"||i==="change")return rp(s)}function zD(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var qi=typeof Object.is=="function"?Object.is:zD;function Wu(i,s){if(qi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Nu.call(s,m)||!qi(i[m],s[m]))return!1}return!0}function FS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jS(i,s){var o=FS(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=FS(o)}}function BS(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?BS(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function HS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Jf(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Jf(i.document)}return s}function ay(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function VD(i,s){var o=HS(s);s=i.focusedElem;var u=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&BS(s.ownerDocument.documentElement,s)){if(u!==null&&ay(s)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var m=s.textContent.length,y=Math.min(u.start,m);u=u.end===void 0?y:Math.min(u.end,m),!o.extend&&y>u&&(m=u,u=y,y=m),m=jS(s,y);var S=jS(s,u);m&&S&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),o.removeAllRanges(),y>u?(o.addRange(i),o.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var UD=ks&&"documentMode"in document&&11>=document.documentMode,Vl=null,ry=null,$u=null,oy=!1;function zS(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;oy||Vl==null||Vl!==Jf(u)||(u=Vl,"selectionStart"in u&&ay(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$u&&Wu($u,u)||($u=u,u=Up(ry,"onSelect"),0<u.length&&(s=new sp("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Vl)))}function Yr(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ul={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},ly={},VS={};ks&&(VS=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Kr(i){if(ly[i])return ly[i];if(!Ul[i])return i;var s=Ul[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in VS)return ly[i]=s[o];return i}var US=Kr("animationend"),IS=Kr("animationiteration"),GS=Kr("animationstart"),ID=Kr("transitionrun"),GD=Kr("transitionstart"),qD=Kr("transitioncancel"),qS=Kr("transitionend"),XS=new Map,YS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fn(i,s){XS.set(i,s),qr(s,[i])}var fn=[],Il=0,cy=0;function op(){for(var i=Il,s=cy=Il=0;s<i;){var o=fn[s];fn[s++]=null;var u=fn[s];fn[s++]=null;var m=fn[s];fn[s++]=null;var y=fn[s];if(fn[s++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}y!==0&&KS(o,m,y)}}function lp(i,s,o,u){fn[Il++]=i,fn[Il++]=s,fn[Il++]=o,fn[Il++]=u,cy|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function uy(i,s,o,u){return lp(i,s,o,u),cp(i)}function Ba(i,s){return lp(i,null,null,s),cp(i)}function KS(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;m&&s!==null&&i.tag===3&&(y=i.stateNode,m=31-Gi(o),y=y.hiddenUpdates,i=y[m],i===null?y[m]=[s]:i.push(s),s.lane=o|536870912)}function cp(i){if(50<Sh)throw Sh=0,gv=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Gl={},WS=new WeakMap;function pn(i,s){if(typeof i=="object"&&i!==null){var o=WS.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Y(s)},WS.set(i,s),s)}return{value:i,source:s,stack:Y(s)}}var ql=[],Xl=0,up=null,hp=0,mn=[],gn=0,Wr=null,Ns=1,Fs="";function $r(i,s){ql[Xl++]=hp,ql[Xl++]=up,up=i,hp=s}function $S(i,s,o){mn[gn++]=Ns,mn[gn++]=Fs,mn[gn++]=Wr,Wr=i;var u=Ns;i=Fs;var m=32-Gi(u)-1;u&=~(1<<m),o+=1;var y=32-Gi(s)+m;if(30<y){var S=m-m%5;y=(u&(1<<S)-1).toString(32),u>>=S,m-=S,Ns=1<<32-Gi(s)+m|o<<m|u,Fs=y+i}else Ns=1<<y|o<<m|u,Fs=i}function hy(i){i.return!==null&&($r(i,1),$S(i,1,0))}function dy(i){for(;i===up;)up=ql[--Xl],ql[Xl]=null,hp=ql[--Xl],ql[Xl]=null;for(;i===Wr;)Wr=mn[--gn],mn[gn]=null,Fs=mn[--gn],mn[gn]=null,Ns=mn[--gn],mn[gn]=null}var Ei=null,ti=null,qt=!1,jn=null,as=!1,fy=Error(n(519));function Qr(i){var s=Error(n(418,""));throw Ju(pn(s,i)),fy}function QS(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[ui]=i,s[ki]=u,o){case"dialog":Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":case"embed":Vt("load",s);break;case"video":case"audio":for(o=0;o<Eh.length;o++)Vt(Eh[o],s);break;case"source":Vt("error",s);break;case"img":case"image":case"link":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"input":Vt("invalid",s),dS(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Zf(s);break;case"select":Vt("invalid",s);break;case"textarea":Vt("invalid",s),pS(s,u.value,u.defaultValue,u.children),Zf(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||r_(s.textContent,o)?(u.popover!=null&&(Vt("beforetoggle",s),Vt("toggle",s)),u.onScroll!=null&&Vt("scroll",s),u.onScrollEnd!=null&&Vt("scrollend",s),u.onClick!=null&&(s.onclick=Ip),s=!0):s=!1,s||Qr(i)}function ZS(i){for(Ei=i.return;Ei;)switch(Ei.tag){case 3:case 27:as=!0;return;case 5:case 13:as=!1;return;default:Ei=Ei.return}}function Qu(i){if(i!==Ei)return!1;if(!qt)return ZS(i),qt=!0,!1;var s=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||kv(i.type,i.memoizedProps)),o=!o),o&&(s=!0),s&&ti&&Qr(i),ZS(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){ti=Hn(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}ti=null}}else ti=Ei?Hn(i.stateNode.nextSibling):null;return!0}function Zu(){ti=Ei=null,qt=!1}function Ju(i){jn===null?jn=[i]:jn.push(i)}var th=Error(n(460)),JS=Error(n(474)),py={then:function(){}};function tx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function dp(){}function ex(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(dp,dp),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===th?Error(n(483)):i;default:if(typeof s.status=="string")s.then(dp,dp);else{if(i=se,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===th?Error(n(483)):i}throw eh=s,th}}var eh=null;function ix(){if(eh===null)throw Error(n(459));var i=eh;return eh=null,i}var Yl=null,ih=0;function fp(i){var s=ih;return ih+=1,Yl===null&&(Yl=[]),ex(Yl,i,s)}function nh(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function pp(i,s){throw s.$$typeof===l?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function nx(i){var s=i._init;return s(i._payload)}function sx(i){function s(H,N){if(i){var V=H.deletions;V===null?(H.deletions=[N],H.flags|=16):V.push(N)}}function o(H,N){if(!i)return null;for(;N!==null;)s(H,N),N=N.sibling;return null}function u(H){for(var N=new Map;H!==null;)H.key!==null?N.set(H.key,H):N.set(H.index,H),H=H.sibling;return N}function m(H,N){return H=$a(H,N),H.index=0,H.sibling=null,H}function y(H,N,V){return H.index=V,i?(V=H.alternate,V!==null?(V=V.index,V<N?(H.flags|=33554434,N):V):(H.flags|=33554434,N)):(H.flags|=1048576,N)}function S(H){return i&&H.alternate===null&&(H.flags|=33554434),H}function R(H,N,V,Q){return N===null||N.tag!==6?(N=lv(V,H.mode,Q),N.return=H,N):(N=m(N,V),N.return=H,N)}function D(H,N,V,Q){var ct=V.type;return ct===f?K(H,N,V.props.children,Q,V.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===L&&nx(ct)===N.type)?(N=m(N,V.props),nh(N,V),N.return=H,N):(N=Op(V.type,V.key,V.props,null,H.mode,Q),nh(N,V),N.return=H,N)}function B(H,N,V,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==V.containerInfo||N.stateNode.implementation!==V.implementation?(N=cv(V,H.mode,Q),N.return=H,N):(N=m(N,V.children||[]),N.return=H,N)}function K(H,N,V,Q,ct){return N===null||N.tag!==7?(N=oo(V,H.mode,Q,ct),N.return=H,N):(N=m(N,V),N.return=H,N)}function et(H,N,V){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=lv(""+N,H.mode,V),N.return=H,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case c:return V=Op(N.type,N.key,N.props,null,H.mode,V),nh(V,N),V.return=H,V;case h:return N=cv(N,H.mode,V),N.return=H,N;case L:var Q=N._init;return N=Q(N._payload),et(H,N,V)}if(at(N)||z(N))return N=oo(N,H.mode,V,null),N.return=H,N;if(typeof N.then=="function")return et(H,fp(N),V);if(N.$$typeof===A)return et(H,Mp(H,N),V);pp(H,N)}return null}function U(H,N,V,Q){var ct=N!==null?N.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ct!==null?null:R(H,N,""+V,Q);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return V.key===ct?D(H,N,V,Q):null;case h:return V.key===ct?B(H,N,V,Q):null;case L:return ct=V._init,V=ct(V._payload),U(H,N,V,Q)}if(at(V)||z(V))return ct!==null?null:K(H,N,V,Q,null);if(typeof V.then=="function")return U(H,N,fp(V),Q);if(V.$$typeof===A)return U(H,N,Mp(H,V),Q);pp(H,V)}return null}function X(H,N,V,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return H=H.get(V)||null,R(N,H,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:return H=H.get(Q.key===null?V:Q.key)||null,D(N,H,Q,ct);case h:return H=H.get(Q.key===null?V:Q.key)||null,B(N,H,Q,ct);case L:var Ft=Q._init;return Q=Ft(Q._payload),X(H,N,V,Q,ct)}if(at(Q)||z(Q))return H=H.get(V)||null,K(N,H,Q,ct,null);if(typeof Q.then=="function")return X(H,N,V,fp(Q),ct);if(Q.$$typeof===A)return X(H,N,V,Mp(N,Q),ct);pp(N,Q)}return null}function dt(H,N,V,Q){for(var ct=null,Ft=null,gt=N,bt=N=0,Ye=null;gt!==null&&bt<V.length;bt++){gt.index>bt?(Ye=gt,gt=null):Ye=gt.sibling;var Xt=U(H,gt,V[bt],Q);if(Xt===null){gt===null&&(gt=Ye);break}i&&gt&&Xt.alternate===null&&s(H,gt),N=y(Xt,N,bt),Ft===null?ct=Xt:Ft.sibling=Xt,Ft=Xt,gt=Ye}if(bt===V.length)return o(H,gt),qt&&$r(H,bt),ct;if(gt===null){for(;bt<V.length;bt++)gt=et(H,V[bt],Q),gt!==null&&(N=y(gt,N,bt),Ft===null?ct=gt:Ft.sibling=gt,Ft=gt);return qt&&$r(H,bt),ct}for(gt=u(gt);bt<V.length;bt++)Ye=X(gt,H,bt,V[bt],Q),Ye!==null&&(i&&Ye.alternate!==null&&gt.delete(Ye.key===null?bt:Ye.key),N=y(Ye,N,bt),Ft===null?ct=Ye:Ft.sibling=Ye,Ft=Ye);return i&&gt.forEach(function(nr){return s(H,nr)}),qt&&$r(H,bt),ct}function Ct(H,N,V,Q){if(V==null)throw Error(n(151));for(var ct=null,Ft=null,gt=N,bt=N=0,Ye=null,Xt=V.next();gt!==null&&!Xt.done;bt++,Xt=V.next()){gt.index>bt?(Ye=gt,gt=null):Ye=gt.sibling;var nr=U(H,gt,Xt.value,Q);if(nr===null){gt===null&&(gt=Ye);break}i&&gt&&nr.alternate===null&&s(H,gt),N=y(nr,N,bt),Ft===null?ct=nr:Ft.sibling=nr,Ft=nr,gt=Ye}if(Xt.done)return o(H,gt),qt&&$r(H,bt),ct;if(gt===null){for(;!Xt.done;bt++,Xt=V.next())Xt=et(H,Xt.value,Q),Xt!==null&&(N=y(Xt,N,bt),Ft===null?ct=Xt:Ft.sibling=Xt,Ft=Xt);return qt&&$r(H,bt),ct}for(gt=u(gt);!Xt.done;bt++,Xt=V.next())Xt=X(gt,H,bt,Xt.value,Q),Xt!==null&&(i&&Xt.alternate!==null&&gt.delete(Xt.key===null?bt:Xt.key),N=y(Xt,N,bt),Ft===null?ct=Xt:Ft.sibling=Xt,Ft=Xt);return i&&gt.forEach(function(aL){return s(H,aL)}),qt&&$r(H,bt),ct}function Se(H,N,V,Q){if(typeof V=="object"&&V!==null&&V.type===f&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case c:t:{for(var ct=V.key;N!==null;){if(N.key===ct){if(ct=V.type,ct===f){if(N.tag===7){o(H,N.sibling),Q=m(N,V.props.children),Q.return=H,H=Q;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===L&&nx(ct)===N.type){o(H,N.sibling),Q=m(N,V.props),nh(Q,V),Q.return=H,H=Q;break t}o(H,N);break}else s(H,N);N=N.sibling}V.type===f?(Q=oo(V.props.children,H.mode,Q,V.key),Q.return=H,H=Q):(Q=Op(V.type,V.key,V.props,null,H.mode,Q),nh(Q,V),Q.return=H,H=Q)}return S(H);case h:t:{for(ct=V.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===V.containerInfo&&N.stateNode.implementation===V.implementation){o(H,N.sibling),Q=m(N,V.children||[]),Q.return=H,H=Q;break t}else{o(H,N);break}else s(H,N);N=N.sibling}Q=cv(V,H.mode,Q),Q.return=H,H=Q}return S(H);case L:return ct=V._init,V=ct(V._payload),Se(H,N,V,Q)}if(at(V))return dt(H,N,V,Q);if(z(V)){if(ct=z(V),typeof ct!="function")throw Error(n(150));return V=ct.call(V),Ct(H,N,V,Q)}if(typeof V.then=="function")return Se(H,N,fp(V),Q);if(V.$$typeof===A)return Se(H,N,Mp(H,V),Q);pp(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,N!==null&&N.tag===6?(o(H,N.sibling),Q=m(N,V),Q.return=H,H=Q):(o(H,N),Q=lv(V,H.mode,Q),Q.return=H,H=Q),S(H)):o(H,N)}return function(H,N,V,Q){try{ih=0;var ct=Se(H,N,V,Q);return Yl=null,ct}catch(gt){if(gt===th)throw gt;var Ft=An(29,gt,null,H.mode);return Ft.lanes=Q,Ft.return=H,Ft}finally{}}}var Zr=sx(!0),ax=sx(!1),Kl=Dt(null),mp=Dt(0);function rx(i,s){i=Ys,St(mp,i),St(Kl,s),Ys=i|s.baseLanes}function my(){St(mp,Ys),St(Kl,Kl.current)}function gy(){Ys=mp.current,Gt(Kl),Gt(mp)}var yn=Dt(null),rs=null;function Ha(i){var s=i.alternate;St(Fe,Fe.current&1),St(yn,i),rs===null&&(s===null||Kl.current!==null||s.memoizedState!==null)&&(rs=i)}function ox(i){if(i.tag===22){if(St(Fe,Fe.current),St(yn,i),rs===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(rs=i)}}else za()}function za(){St(Fe,Fe.current),St(yn,yn.current)}function js(i){Gt(yn),rs===i&&(rs=null),Gt(Fe)}var Fe=Dt(0);function gp(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var XD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},YD=a.unstable_scheduleCallback,KD=a.unstable_NormalPriority,je={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yy(){return{controller:new XD,data:new Map,refCount:0}}function sh(i){i.refCount--,i.refCount===0&&YD(KD,function(){i.controller.abort()})}var ah=null,vy=0,Wl=0,$l=null;function WD(i,s){if(ah===null){var o=ah=[];vy=0,Wl=_v(),$l={status:"pending",value:void 0,then:function(u){o.push(u)}}}return vy++,s.then(lx,lx),s}function lx(){if(--vy===0&&ah!==null){$l!==null&&($l.status="fulfilled");var i=ah;ah=null,Wl=0,$l=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function $D(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var cx=G.S;G.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&WD(i,s),cx!==null&&cx(i,s)};var Jr=Dt(null);function by(){var i=Jr.current;return i!==null?i:se.pooledCache}function yp(i,s){s===null?St(Jr,Jr.current):St(Jr,s.pool)}function ux(){var i=by();return i===null?null:{parent:je._currentValue,pool:i}}var Va=0,Pt=null,Zt=null,De=null,vp=!1,Ql=!1,to=!1,bp=0,rh=0,Zl=null,QD=0;function Te(){throw Error(n(321))}function Ay(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!qi(i[o],s[o]))return!1;return!0}function Sy(i,s,o,u,m,y){return Va=y,Pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=i===null||i.memoizedState===null?eo:Ua,to=!1,y=o(u,m),to=!1,Ql&&(y=dx(s,o,u,m)),hx(i),y}function hx(i){G.H=os;var s=Zt!==null&&Zt.next!==null;if(Va=0,De=Zt=Pt=null,vp=!1,rh=0,Zl=null,s)throw Error(n(300));i===null||qe||(i=i.dependencies,i!==null&&Rp(i)&&(qe=!0))}function dx(i,s,o,u){Pt=i;var m=0;do{if(Ql&&(Zl=null),rh=0,Ql=!1,25<=m)throw Error(n(301));if(m+=1,De=Zt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=io,y=s(o,u)}while(Ql);return y}function ZD(){var i=G.H,s=i.useState()[0];return s=typeof s.then=="function"?oh(s):s,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(Pt.flags|=1024),s}function xy(){var i=bp!==0;return bp=0,i}function Ey(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function _y(i){if(vp){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}vp=!1}Va=0,De=Zt=Pt=null,Ql=!1,rh=bp=0,Zl=null}function Ni(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Pt.memoizedState=De=i:De=De.next=i,De}function Le(){if(Zt===null){var i=Pt.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var s=De===null?Pt.memoizedState:De.next;if(s!==null)De=s,Zt=i;else{if(i===null)throw Pt.alternate===null?Error(n(467)):Error(n(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},De===null?Pt.memoizedState=De=i:De=De.next=i}return De}var Ap;Ap=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function oh(i){var s=rh;return rh+=1,Zl===null&&(Zl=[]),i=ex(Zl,i,s),s=Pt,(De===null?s.memoizedState:De.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?eo:Ua),i}function Sp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return oh(i);if(i.$$typeof===A)return hi(i)}throw Error(n(438,String(i)))}function wy(i){var s=null,o=Pt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Ap(),Pt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=j;return s.index++,o}function Bs(i,s){return typeof s=="function"?s(i):s}function xp(i){var s=Le();return Ty(s,Zt,i)}function Ty(i,s,o){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var m=i.baseQueue,y=u.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}s.baseQueue=m=y,u.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var R=S=null,D=null,B=s,K=!1;do{var et=B.lane&-536870913;if(et!==B.lane?(It&et)===et:(Va&et)===et){var U=B.revertLane;if(U===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),et===Wl&&(K=!0);else if((Va&U)===U){B=B.next,U===Wl&&(K=!0);continue}else et={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(R=D=et,S=y):D=D.next=et,Pt.lanes|=U,Qa|=U;et=B.action,to&&o(y,et),y=B.hasEagerState?B.eagerState:o(y,et)}else U={lane:et,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(R=D=U,S=y):D=D.next=U,Pt.lanes|=et,Qa|=et;B=B.next}while(B!==null&&B!==s);if(D===null?S=y:D.next=R,!qi(y,i.memoizedState)&&(qe=!0,K&&(o=$l,o!==null)))throw o;i.memoizedState=y,i.baseState=S,i.baseQueue=D,u.lastRenderedState=y}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Cy(i){var s=Le(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);qi(y,s.memoizedState)||(qe=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function fx(i,s,o){var u=Pt,m=Le(),y=qt;if(y){if(o===void 0)throw Error(n(407));o=o()}else o=s();var S=!qi((Zt||m).memoizedState,o);if(S&&(m.memoizedState=o,qe=!0),m=m.queue,Dy(gx.bind(null,u,m,i),[i]),m.getSnapshot!==s||S||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,Jl(9,mx.bind(null,u,m,o,s),{destroy:void 0},null),se===null)throw Error(n(349));y||(Va&60)!==0||px(u,s,o)}return o}function px(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Pt.updateQueue,s===null?(s=Ap(),Pt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function mx(i,s,o,u){s.value=o,s.getSnapshot=u,yx(s)&&vx(i)}function gx(i,s,o){return o(function(){yx(s)&&vx(i)})}function yx(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!qi(i,o)}catch{return!0}}function vx(i){var s=Ba(i,2);s!==null&&_i(s,i,2)}function Ry(i){var s=Ni();if(typeof i=="function"){var o=i;if(i=o(),to){Na(!0);try{o()}finally{Na(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:i},s}function bx(i,s,o,u){return i.baseState=o,Ty(i,Zt,typeof u=="function"?u:Bs)}function JD(i,s,o,u,m){if(wp(i))throw Error(n(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};G.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,Ax(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Ax(i,s){var o=s.action,u=s.payload,m=i.state;if(s.isTransition){var y=G.T,S={};G.T=S;try{var R=o(m,u),D=G.S;D!==null&&D(S,R),Sx(i,s,R)}catch(B){My(i,s,B)}finally{G.T=y}}else try{y=o(m,u),Sx(i,s,y)}catch(B){My(i,s,B)}}function Sx(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){xx(i,s,u)},function(u){return My(i,s,u)}):xx(i,s,o)}function xx(i,s,o){s.status="fulfilled",s.value=o,Ex(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Ax(i,o)))}function My(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Ex(s),s=s.next;while(s!==u)}i.action=null}function Ex(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function _x(i,s){return s}function wx(i,s){if(qt){var o=se.formState;if(o!==null){t:{var u=Pt;if(qt){if(ti){e:{for(var m=ti,y=as;m.nodeType!==8;){if(!y){m=null;break e}if(m=Hn(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ti=Hn(m.nextSibling),u=m.data==="F!";break t}}Qr(u)}u=!1}u&&(s=o[0])}}return o=Ni(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_x,lastRenderedState:s},o.queue=u,o=Ix.bind(null,Pt,u),u.dispatch=o,u=Ry(!1),y=Ny.bind(null,Pt,!1,u.queue),u=Ni(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,o=JD.bind(null,Pt,m,y,o),m.dispatch=o,u.memoizedState=i,[s,o,!1]}function Tx(i){var s=Le();return Cx(s,Zt,i)}function Cx(i,s,o){s=Ty(i,s,_x)[0],i=xp(Bs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?oh(s):s;var u=Le(),m=u.queue,y=m.dispatch;return o!==u.memoizedState&&(Pt.flags|=2048,Jl(9,t2.bind(null,m,o),{destroy:void 0},null)),[s,y,i]}function t2(i,s){i.action=s}function Rx(i){var s=Le(),o=Zt;if(o!==null)return Cx(s,o,i);Le(),s=s.memoizedState,o=Le();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Jl(i,s,o,u){return i={tag:i,create:s,inst:o,deps:u,next:null},s=Pt.updateQueue,s===null&&(s=Ap(),Pt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Mx(){return Le().memoizedState}function Ep(i,s,o,u){var m=Ni();Pt.flags|=i,m.memoizedState=Jl(1|s,o,{destroy:void 0},u===void 0?null:u)}function _p(i,s,o,u){var m=Le();u=u===void 0?null:u;var y=m.memoizedState.inst;Zt!==null&&u!==null&&Ay(u,Zt.memoizedState.deps)?m.memoizedState=Jl(s,o,y,u):(Pt.flags|=i,m.memoizedState=Jl(1|s,o,y,u))}function Dx(i,s){Ep(8390656,8,i,s)}function Dy(i,s){_p(2048,8,i,s)}function Lx(i,s){return _p(4,2,i,s)}function Ox(i,s){return _p(4,4,i,s)}function kx(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Px(i,s,o){o=o!=null?o.concat([i]):null,_p(4,4,kx.bind(null,s,i),o)}function Ly(){}function Nx(i,s){var o=Le();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ay(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Fx(i,s){var o=Le();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ay(s,u[1]))return u[0];if(u=i(),to){Na(!0);try{i()}finally{Na(!1)}}return o.memoizedState=[u,s],u}function Oy(i,s,o){return o===void 0||(Va&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=BE(),Pt.lanes|=i,Qa|=i,o)}function jx(i,s,o,u){return qi(o,s)?o:Kl.current!==null?(i=Oy(i,o,u),qi(i,s)||(qe=!0),i):(Va&42)===0?(qe=!0,i.memoizedState=o):(i=BE(),Pt.lanes|=i,Qa|=i,s)}function Bx(i,s,o,u,m){var y=nt.p;nt.p=y!==0&&8>y?y:8;var S=G.T,R={};G.T=R,Ny(i,!1,s,o);try{var D=m(),B=G.S;if(B!==null&&B(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=$D(D,u);lh(i,s,K,Wi(i))}else lh(i,s,u,Wi(i))}catch(et){lh(i,s,{then:function(){},status:"rejected",reason:et},Wi())}finally{nt.p=y,G.T=S}}function e2(){}function ky(i,s,o,u){if(i.tag!==5)throw Error(n(476));var m=Hx(i).queue;Bx(i,m,s,Et,o===null?e2:function(){return zx(i),o(u)})}function Hx(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:Et},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function zx(i){var s=Hx(i).next.queue;lh(i,s,{},Wi())}function Py(){return hi(Rh)}function Vx(){return Le().memoizedState}function Ux(){return Le().memoizedState}function i2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Wi();i=qa(o);var u=Xa(s,i,o);u!==null&&(_i(u,s,o),hh(u,s,o)),s={cache:yy()},i.payload=s;return}s=s.return}}function n2(i,s,o){var u=Wi();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wp(i)?Gx(s,o):(o=uy(i,s,o,u),o!==null&&(_i(o,i,u),qx(o,s,u)))}function Ix(i,s,o){var u=Wi();lh(i,s,o,u)}function lh(i,s,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wp(i))Gx(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,R=y(S,o);if(m.hasEagerState=!0,m.eagerState=R,qi(R,S))return lp(i,s,m,0),se===null&&op(),!1}catch{}finally{}if(o=uy(i,s,m,u),o!==null)return _i(o,i,u),qx(o,s,u),!0}return!1}function Ny(i,s,o,u){if(u={lane:2,revertLane:_v(),action:u,hasEagerState:!1,eagerState:null,next:null},wp(i)){if(s)throw Error(n(479))}else s=uy(i,o,u,2),s!==null&&_i(s,i,2)}function wp(i){var s=i.alternate;return i===Pt||s!==null&&s===Pt}function Gx(i,s){Ql=vp=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function qx(i,s,o){if((o&4194176)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,iS(i,o)}}var os={readContext:hi,use:Sp,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te};os.useCacheRefresh=Te,os.useMemoCache=Te,os.useHostTransitionStatus=Te,os.useFormState=Te,os.useActionState=Te,os.useOptimistic=Te;var eo={readContext:hi,use:Sp,useCallback:function(i,s){return Ni().memoizedState=[i,s===void 0?null:s],i},useContext:hi,useEffect:Dx,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Ep(4194308,4,kx.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Ep(4194308,4,i,s)},useInsertionEffect:function(i,s){Ep(4,2,i,s)},useMemo:function(i,s){var o=Ni();s=s===void 0?null:s;var u=i();if(to){Na(!0);try{i()}finally{Na(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Ni();if(o!==void 0){var m=o(s);if(to){Na(!0);try{o(s)}finally{Na(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=n2.bind(null,Pt,i),[u.memoizedState,i]},useRef:function(i){var s=Ni();return i={current:i},s.memoizedState=i},useState:function(i){i=Ry(i);var s=i.queue,o=Ix.bind(null,Pt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Ly,useDeferredValue:function(i,s){var o=Ni();return Oy(o,i,s)},useTransition:function(){var i=Ry(!1);return i=Bx.bind(null,Pt,i.queue,!0,!1),Ni().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Pt,m=Ni();if(qt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),se===null)throw Error(n(349));(It&60)!==0||px(u,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,Dx(gx.bind(null,u,y,i),[i]),u.flags|=2048,Jl(9,mx.bind(null,u,y,o,s),{destroy:void 0},null),o},useId:function(){var i=Ni(),s=se.identifierPrefix;if(qt){var o=Fs,u=Ns;o=(u&~(1<<32-Gi(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=bp++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=QD++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Ni().memoizedState=i2.bind(null,Pt)}};eo.useMemoCache=wy,eo.useHostTransitionStatus=Py,eo.useFormState=wx,eo.useActionState=wx,eo.useOptimistic=function(i){var s=Ni();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Ny.bind(null,Pt,!0,o),o.dispatch=s,[i,s]};var Ua={readContext:hi,use:Sp,useCallback:Nx,useContext:hi,useEffect:Dy,useImperativeHandle:Px,useInsertionEffect:Lx,useLayoutEffect:Ox,useMemo:Fx,useReducer:xp,useRef:Mx,useState:function(){return xp(Bs)},useDebugValue:Ly,useDeferredValue:function(i,s){var o=Le();return jx(o,Zt.memoizedState,i,s)},useTransition:function(){var i=xp(Bs)[0],s=Le().memoizedState;return[typeof i=="boolean"?i:oh(i),s]},useSyncExternalStore:fx,useId:Vx};Ua.useCacheRefresh=Ux,Ua.useMemoCache=wy,Ua.useHostTransitionStatus=Py,Ua.useFormState=Tx,Ua.useActionState=Tx,Ua.useOptimistic=function(i,s){var o=Le();return bx(o,Zt,i,s)};var io={readContext:hi,use:Sp,useCallback:Nx,useContext:hi,useEffect:Dy,useImperativeHandle:Px,useInsertionEffect:Lx,useLayoutEffect:Ox,useMemo:Fx,useReducer:Cy,useRef:Mx,useState:function(){return Cy(Bs)},useDebugValue:Ly,useDeferredValue:function(i,s){var o=Le();return Zt===null?Oy(o,i,s):jx(o,Zt.memoizedState,i,s)},useTransition:function(){var i=Cy(Bs)[0],s=Le().memoizedState;return[typeof i=="boolean"?i:oh(i),s]},useSyncExternalStore:fx,useId:Vx};io.useCacheRefresh=Ux,io.useMemoCache=wy,io.useHostTransitionStatus=Py,io.useFormState=Rx,io.useActionState=Rx,io.useOptimistic=function(i,s){var o=Le();return Zt!==null?bx(o,Zt,i,s):(o.baseState=i,[i,o.queue.dispatch])};function Fy(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:tt({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var jy={isMounted:function(i){return(i=i._reactInternals)?Z(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Wi(),m=qa(u);m.payload=s,o!=null&&(m.callback=o),s=Xa(i,m,u),s!==null&&(_i(s,i,u),hh(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Wi(),m=qa(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Xa(i,m,u),s!==null&&(_i(s,i,u),hh(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Wi(),u=qa(o);u.tag=2,s!=null&&(u.callback=s),s=Xa(i,u,o),s!==null&&(_i(s,i,o),hh(s,i,o))}};function Xx(i,s,o,u,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,S):s.prototype&&s.prototype.isPureReactComponent?!Wu(o,u)||!Wu(m,y):!0}function Yx(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&jy.enqueueReplaceState(s,s.state,null)}function no(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=tt({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var Tp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Kx(i){Tp(i)}function Wx(i){console.error(i)}function $x(i){Tp(i)}function Cp(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Qx(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function By(i,s,o){return o=qa(o),o.tag=3,o.payload={element:null},o.callback=function(){Cp(i,s)},o}function Zx(i){return i=qa(i),i.tag=3,i}function Jx(i,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;i.payload=function(){return m(y)},i.callback=function(){Qx(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Qx(s,o,u),typeof m!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function s2(i,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&uh(s,o,m,!0),o=yn.current,o!==null){switch(o.tag){case 13:return rs===null?bv():o.alternate===null&&Ae===0&&(Ae=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===py?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Sv(i,u,m)),!1;case 22:return o.flags|=65536,u===py?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Sv(i,u,m)),!1}throw Error(n(435,o.tag))}return Sv(i,u,m),bv(),!1}if(qt)return s=yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==fy&&(i=Error(n(422),{cause:u}),Ju(pn(i,o)))):(u!==fy&&(s=Error(n(423),{cause:u}),Ju(pn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=pn(u,o),m=By(i.stateNode,u,m),Jy(i,m),Ae!==4&&(Ae=2)),!1;var y=Error(n(520),{cause:u});if(y=pn(y,o),bh===null?bh=[y]:bh.push(y),Ae!==4&&(Ae=2),s===null)return!0;u=pn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=By(o.stateNode,u,i),Jy(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Za===null||!Za.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Zx(m),Jx(m,i,o,u),Jy(o,m),!1}o=o.return}while(o!==null);return!1}var tE=Error(n(461)),qe=!1;function ei(i,s,o,u){s.child=i===null?ax(s,null,o,u):Zr(s,i.child,o,u)}function eE(i,s,o,u,m){o=o.render;var y=s.ref;if("ref"in u){var S={};for(var R in u)R!=="ref"&&(S[R]=u[R])}else S=u;return ao(s),u=Sy(i,s,o,S,y,m),R=xy(),i!==null&&!qe?(Ey(i,s,m),Hs(i,s,m)):(qt&&R&&hy(s),s.flags|=1,ei(i,s,u,m),s.child)}function iE(i,s,o,u,m){if(i===null){var y=o.type;return typeof y=="function"&&!ov(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,nE(i,s,y,u,m)):(i=Op(o.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Yy(i,m)){var S=y.memoizedProps;if(o=o.compare,o=o!==null?o:Wu,o(S,u)&&i.ref===s.ref)return Hs(i,s,m)}return s.flags|=1,i=$a(y,u),i.ref=s.ref,i.return=s,s.child=i}function nE(i,s,o,u,m){if(i!==null){var y=i.memoizedProps;if(Wu(y,u)&&i.ref===s.ref)if(qe=!1,s.pendingProps=u=y,Yy(i,m))(i.flags&131072)!==0&&(qe=!0);else return s.lanes=i.lanes,Hs(i,s,m)}return Hy(i,s,o,u,m)}function sE(i,s,o){var u=s.pendingProps,m=u.children,y=(s.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(ch(i,s),u.mode==="hidden"||y){if((s.flags&128)!==0){if(u=S!==null?S.baseLanes|o:o,i!==null){for(m=s.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return aE(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&yp(s,S!==null?S.cachePool:null),S!==null?rx(s,S):my(),ox(s);else return s.lanes=s.childLanes=536870912,aE(i,s,S!==null?S.baseLanes|o:o,o)}else S!==null?(yp(s,S.cachePool),rx(s,S),za(),s.memoizedState=null):(i!==null&&yp(s,null),my(),za());return ei(i,s,m,o),s.child}function aE(i,s,o,u){var m=by();return m=m===null?null:{parent:je._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&yp(s,null),my(),ox(s),i!==null&&uh(i,s,u,!0),null}function ch(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(i===null||i.ref!==o)&&(s.flags|=2097664)}}function Hy(i,s,o,u,m){return ao(s),o=Sy(i,s,o,u,void 0,m),u=xy(),i!==null&&!qe?(Ey(i,s,m),Hs(i,s,m)):(qt&&u&&hy(s),s.flags|=1,ei(i,s,o,m),s.child)}function rE(i,s,o,u,m,y){return ao(s),s.updateQueue=null,o=dx(s,u,o,m),hx(i),u=xy(),i!==null&&!qe?(Ey(i,s,y),Hs(i,s,y)):(qt&&u&&hy(s),s.flags|=1,ei(i,s,o,y),s.child)}function oE(i,s,o,u,m){if(ao(s),s.stateNode===null){var y=Gl,S=o.contextType;typeof S=="object"&&S!==null&&(y=hi(S)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=jy,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Qy(s),S=o.contextType,y.context=typeof S=="object"&&S!==null?hi(S):Gl,y.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Fy(s,o,S,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&jy.enqueueReplaceState(y,y.state,null),fh(s,u,y,m),dh(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var R=s.memoizedProps,D=no(o,R);y.props=D;var B=y.context,K=o.contextType;S=Gl,typeof K=="object"&&K!==null&&(S=hi(K));var et=o.getDerivedStateFromProps;K=typeof et=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||B!==S)&&Yx(s,y,u,S),Ga=!1;var U=s.memoizedState;y.state=U,fh(s,u,y,m),dh(),B=s.memoizedState,R||U!==B||Ga?(typeof et=="function"&&(Fy(s,o,et,u),B=s.memoizedState),(D=Ga||Xx(s,o,D,u,U,B,S))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=B),y.props=u,y.state=B,y.context=S,u=D):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Zy(i,s),S=s.memoizedProps,K=no(o,S),y.props=K,et=s.pendingProps,U=y.context,B=o.contextType,D=Gl,typeof B=="object"&&B!==null&&(D=hi(B)),R=o.getDerivedStateFromProps,(B=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==et||U!==D)&&Yx(s,y,u,D),Ga=!1,U=s.memoizedState,y.state=U,fh(s,u,y,m),dh();var X=s.memoizedState;S!==et||U!==X||Ga||i!==null&&i.dependencies!==null&&Rp(i.dependencies)?(typeof R=="function"&&(Fy(s,o,R,u),X=s.memoizedState),(K=Ga||Xx(s,o,K,u,U,X,D)||i!==null&&i.dependencies!==null&&Rp(i.dependencies))?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,D)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&U===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&U===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),y.props=u,y.state=X,y.context=D,u=K):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&U===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&U===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,ch(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=Zr(s,i.child,null,m),s.child=Zr(s,null,o,m)):ei(i,s,o,m),s.memoizedState=y.state,i=s.child):i=Hs(i,s,m),i}function lE(i,s,o,u){return Zu(),s.flags|=256,ei(i,s,o,u),s.child}var zy={dehydrated:null,treeContext:null,retryLane:0};function Vy(i){return{baseLanes:i,cachePool:ux()}}function Uy(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Sn),i}function cE(i,s,o){var u=s.pendingProps,m=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(Fe.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(qt){if(m?Ha(s):za(),qt){var R=ti,D;if(D=R){t:{for(D=R,R=as;D.nodeType!==8;){if(!R){R=null;break t}if(D=Hn(D.nextSibling),D===null){R=null;break t}}R=D}R!==null?(s.memoizedState={dehydrated:R,treeContext:Wr!==null?{id:Ns,overflow:Fs}:null,retryLane:536870912},D=An(18,null,null,0),D.stateNode=R,D.return=s,s.child=D,Ei=s,ti=null,D=!0):D=!1}D||Qr(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?s.lanes=16:s.lanes=536870912,null;js(s)}return R=u.children,u=u.fallback,m?(za(),m=s.mode,R=Gy({mode:"hidden",children:R},m),u=oo(u,m,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,m=s.child,m.memoizedState=Vy(o),m.childLanes=Uy(i,S,o),s.memoizedState=zy,u):(Ha(s),Iy(s,R))}if(D=i.memoizedState,D!==null&&(R=D.dehydrated,R!==null)){if(y)s.flags&256?(Ha(s),s.flags&=-257,s=qy(i,s,o)):s.memoizedState!==null?(za(),s.child=i.child,s.flags|=128,s=null):(za(),m=u.fallback,R=s.mode,u=Gy({mode:"visible",children:u.children},R),m=oo(m,R,o,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,Zr(s,i.child,null,o),u=s.child,u.memoizedState=Vy(o),u.childLanes=Uy(i,S,o),s.memoizedState=zy,s=m);else if(Ha(s),R.data==="$!"){if(S=R.nextSibling&&R.nextSibling.dataset,S)var B=S.dgst;S=B,u=Error(n(419)),u.stack="",u.digest=S,Ju({value:u,source:null,stack:null}),s=qy(i,s,o)}else if(qe||uh(i,s,o,!1),S=(o&i.childLanes)!==0,qe||S){if(S=se,S!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,Ba(i,u),_i(S,i,u),tE}R.data==="$?"||bv(),s=qy(i,s,o)}else R.data==="$?"?(s.flags|=128,s.child=i.child,s=b2.bind(null,i),R._reactRetry=s,s=null):(i=D.treeContext,ti=Hn(R.nextSibling),Ei=s,qt=!0,jn=null,as=!1,i!==null&&(mn[gn++]=Ns,mn[gn++]=Fs,mn[gn++]=Wr,Ns=i.id,Fs=i.overflow,Wr=s),s=Iy(s,u.children),s.flags|=4096);return s}return m?(za(),m=u.fallback,R=s.mode,D=i.child,B=D.sibling,u=$a(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,B!==null?m=$a(B,m):(m=oo(m,R,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,R=i.child.memoizedState,R===null?R=Vy(o):(D=R.cachePool,D!==null?(B=je._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=ux(),R={baseLanes:R.baseLanes|o,cachePool:D}),m.memoizedState=R,m.childLanes=Uy(i,S,o),s.memoizedState=zy,u):(Ha(s),o=i.child,i=o.sibling,o=$a(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=o,s.memoizedState=null,o)}function Iy(i,s){return s=Gy({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Gy(i,s){return NE(i,s,0,null)}function qy(i,s,o){return Zr(s,i.child,null,o),i=Iy(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function uE(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Wy(i.return,s,o)}function Xy(i,s,o,u,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=m)}function hE(i,s,o){var u=s.pendingProps,m=u.revealOrder,y=u.tail;if(ei(i,s,u.children,o),u=Fe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uE(i,o,s);else if(i.tag===19)uE(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(St(Fe,u),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&gp(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Xy(s,!1,m,o,y);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&gp(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Xy(s,!0,o,null,y);break;case"together":Xy(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hs(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Qa|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(uh(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,o=$a(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=$a(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Yy(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Rp(i)))}function a2(i,s,o){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),Ia(s,je,i.memoizedState.cache),Zu();break;case 27:case 5:ns(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:Ia(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ha(s),s.flags|=128,null):(o&s.child.childLanes)!==0?cE(i,s,o):(Ha(s),i=Hs(i,s,o),i!==null?i.sibling:null);Ha(s);break;case 19:var m=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(uh(i,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return hE(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),St(Fe,Fe.current),u)break;return null;case 22:case 23:return s.lanes=0,sE(i,s,o);case 24:Ia(s,je,i.memoizedState.cache)}return Hs(i,s,o)}function dE(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)qe=!0;else{if(!Yy(i,o)&&(s.flags&128)===0)return qe=!1,a2(i,s,o);qe=(i.flags&131072)!==0}else qe=!1,qt&&(s.flags&1048576)!==0&&$S(s,hp,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")ov(u)?(i=no(u,i),s.tag=1,s=oE(null,s,u,i,o)):(s.tag=0,s=Hy(null,s,u,i,o));else{if(u!=null){if(m=u.$$typeof,m===x){s.tag=11,s=eE(null,s,u,i,o);break t}else if(m===C){s.tag=14,s=iE(null,s,u,i,o);break t}}throw s=I(u)||u,Error(n(306,s,""))}}return s;case 0:return Hy(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=no(u,s.pendingProps),oE(i,s,u,m,o);case 3:t:{if(we(s,s.stateNode.containerInfo),i===null)throw Error(n(387));var y=s.pendingProps;m=s.memoizedState,u=m.element,Zy(i,s),fh(s,y,null,o);var S=s.memoizedState;if(y=S.cache,Ia(s,je,y),y!==m.cache&&$y(s,[je],o,!0),dh(),y=S.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=lE(i,s,y,o);break t}else if(y!==u){u=pn(Error(n(424)),s),Ju(u),s=lE(i,s,y,o);break t}else for(ti=Hn(s.stateNode.containerInfo.firstChild),Ei=s,qt=!0,jn=null,as=!0,o=ax(s,null,y,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zu(),y===u){s=Hs(i,s,o);break t}ei(i,s,y,o)}s=s.child}return s;case 26:return ch(i,s),i===null?(o=m_(s.type,null,s.pendingProps,null))?s.memoizedState=o:qt||(o=s.type,i=s.pendingProps,u=Gp(zt.current).createElement(o),u[ui]=s,u[ki]=i,ii(u,o,i),Ge(u),s.stateNode=u):s.memoizedState=m_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ns(s),i===null&&qt&&(u=s.stateNode=d_(s.type,s.pendingProps,zt.current),Ei=s,as=!0,ti=Hn(u.firstChild)),u=s.pendingProps.children,i!==null||qt?ei(i,s,u,o):s.child=Zr(s,null,u,o),ch(i,s),s.child;case 5:return i===null&&qt&&((m=u=ti)&&(u=N2(u,s.type,s.pendingProps,as),u!==null?(s.stateNode=u,Ei=s,ti=Hn(u.firstChild),as=!1,m=!0):m=!1),m||Qr(s)),ns(s),m=s.type,y=s.pendingProps,S=i!==null?i.memoizedProps:null,u=y.children,kv(m,y)?u=null:S!==null&&kv(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=Sy(i,s,ZD,null,null,o),Rh._currentValue=m),ch(i,s),ei(i,s,u,o),s.child;case 6:return i===null&&qt&&((i=o=ti)&&(o=F2(o,s.pendingProps,as),o!==null?(s.stateNode=o,Ei=s,ti=null,i=!0):i=!1),i||Qr(s)),null;case 13:return cE(i,s,o);case 4:return we(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Zr(s,null,u,o):ei(i,s,u,o),s.child;case 11:return eE(i,s,s.type,s.pendingProps,o);case 7:return ei(i,s,s.pendingProps,o),s.child;case 8:return ei(i,s,s.pendingProps.children,o),s.child;case 12:return ei(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ia(s,s.type,u.value),ei(i,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,ao(s),m=hi(m),u=u(m),s.flags|=1,ei(i,s,u,o),s.child;case 14:return iE(i,s,s.type,s.pendingProps,o);case 15:return nE(i,s,s.type,s.pendingProps,o);case 19:return hE(i,s,o);case 22:return sE(i,s,o);case 24:return ao(s),u=hi(je),i===null?(m=by(),m===null&&(m=se,y=yy(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:u,cache:m},Qy(s),Ia(s,je,m)):((i.lanes&o)!==0&&(Zy(i,s),fh(s,null,null,o),dh()),m=i.memoizedState,y=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ia(s,je,u)):(u=y.cache,Ia(s,je,u),u!==m.cache&&$y(s,[je],o,!0))),ei(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}var Ky=Dt(null),so=null,zs=null;function Ia(i,s,o){St(Ky,s._currentValue),s._currentValue=o}function Vs(i){i._currentValue=Ky.current,Gt(Ky)}function Wy(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function $y(i,s,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=m;for(var D=0;D<s.length;D++)if(R.context===s[D]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),Wy(y.return,o,i),u||(S=null);break t}y=R.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(n(341));S.lanes|=o,y=S.alternate,y!==null&&(y.lanes|=o),Wy(S,o,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function uh(i,s,o,u){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(n(387));if(S=S.memoizedProps,S!==null){var R=m.type;qi(m.pendingProps.value,S.value)||(i!==null?i.push(R):i=[R])}}else if(m===le.current){if(S=m.alternate,S===null)throw Error(n(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Rh):i=[Rh])}m=m.return}i!==null&&$y(s,i,o,u),s.flags|=262144}function Rp(i){for(i=i.firstContext;i!==null;){if(!qi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ao(i){so=i,zs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hi(i){return fE(so,i)}function Mp(i,s){return so===null&&ao(i),fE(i,s)}function fE(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},zs===null){if(i===null)throw Error(n(308));zs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else zs=zs.next=s;return o}var Ga=!1;function Qy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zy(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xa(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(fe&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=cp(i),KS(i,null,o),s}return lp(i,u,s,o),cp(i)}function hh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,iS(i,o)}}function Jy(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var tv=!1;function dh(){if(tv){var i=$l;if(i!==null)throw i}}function fh(i,s,o,u){tv=!1;var m=i.updateQueue;Ga=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var D=R,B=D.next;D.next=null,S===null?y=B:S.next=B,S=D;var K=i.alternate;K!==null&&(K=K.updateQueue,R=K.lastBaseUpdate,R!==S&&(R===null?K.firstBaseUpdate=B:R.next=B,K.lastBaseUpdate=D))}if(y!==null){var et=m.baseState;S=0,K=B=D=null,R=y;do{var U=R.lane&-536870913,X=U!==R.lane;if(X?(It&U)===U:(u&U)===U){U!==0&&U===Wl&&(tv=!0),K!==null&&(K=K.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var dt=i,Ct=R;U=s;var Se=o;switch(Ct.tag){case 1:if(dt=Ct.payload,typeof dt=="function"){et=dt.call(Se,et,U);break t}et=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Ct.payload,U=typeof dt=="function"?dt.call(Se,et,U):dt,U==null)break t;et=tt({},et,U);break t;case 2:Ga=!0}}U=R.callback,U!==null&&(i.flags|=64,X&&(i.flags|=8192),X=m.callbacks,X===null?m.callbacks=[U]:X.push(U))}else X={lane:U,tag:R.tag,payload:R.payload,callback:R.callback,next:null},K===null?(B=K=X,D=et):K=K.next=X,S|=U;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;X=R,R=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);K===null&&(D=et),m.baseState=D,m.firstBaseUpdate=B,m.lastBaseUpdate=K,y===null&&(m.shared.lanes=0),Qa|=S,i.lanes=S,i.memoizedState=et}}function pE(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function mE(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)pE(o[i],s)}function ph(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var y=o.create,S=o.inst;u=y(),S.destroy=u}o=o.next}while(o!==m)}}catch(R){ie(s,s.return,R)}}function Ya(i,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){var S=u.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,m=s;var D=o;try{R()}catch(B){ie(m,D,B)}}}u=u.next}while(u!==y)}}catch(B){ie(s,s.return,B)}}function gE(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{mE(s,o)}catch(u){ie(i,i.return,u)}}}function yE(i,s,o){o.props=no(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ie(i,s,u)}}function ro(i,s){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=u;break;default:m=u}typeof o=="function"?i.refCleanup=o(m):o.current=m}}catch(y){ie(i,s,y)}}function Xi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ie(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ie(i,s,m)}else o.current=null}function vE(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ie(i,i.return,m)}}function bE(i,s,o){try{var u=i.stateNode;D2(u,i.type,o,s),u[ki]=s}catch(m){ie(i,i.return,m)}}function AE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function ev(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||AE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function iv(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ip));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(iv(i,s,o),i=i.sibling;i!==null;)iv(i,s,o),i=i.sibling}function Dp(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Dp(i,s,o),i=i.sibling;i!==null;)Dp(i,s,o),i=i.sibling}var Us=!1,be=!1,nv=!1,SE=typeof WeakSet=="function"?WeakSet:Set,Xe=null,xE=!1;function r2(i,s){if(i=i.containerInfo,Lv=$p,i=HS(i),ay(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var S=0,R=-1,D=-1,B=0,K=0,et=i,U=null;e:for(;;){for(var X;et!==o||m!==0&&et.nodeType!==3||(R=S+m),et!==y||u!==0&&et.nodeType!==3||(D=S+u),et.nodeType===3&&(S+=et.nodeValue.length),(X=et.firstChild)!==null;)U=et,et=X;for(;;){if(et===i)break e;if(U===o&&++B===m&&(R=S),U===y&&++K===u&&(D=S),(X=et.nextSibling)!==null)break;et=U,U=et.parentNode}et=X}o=R===-1||D===-1?null:{start:R,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ov={focusedElem:i,selectionRange:o},$p=!1,Xe=s;Xe!==null;)if(s=Xe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Xe=i;else for(;Xe!==null;){switch(s=Xe,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var dt=no(o.type,m,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(dt,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ct){ie(o,o.return,Ct)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Fv(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Xe=i;break}Xe=s.return}return dt=xE,xE=!1,dt}function EE(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Gs(i,o),u&4&&ph(5,o);break;case 1:if(Gs(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(R){ie(o,o.return,R)}else{var m=no(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){ie(o,o.return,R)}}u&64&&gE(o),u&512&&ro(o,o.return);break;case 3:if(Gs(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{mE(u,i)}catch(R){ie(o,o.return,R)}}break;case 26:Gs(i,o),u&512&&ro(o,o.return);break;case 27:case 5:Gs(i,o),s===null&&u&4&&vE(o),u&512&&ro(o,o.return);break;case 12:Gs(i,o);break;case 13:Gs(i,o),u&4&&TE(i,o);break;case 22:if(m=o.memoizedState!==null||Us,!m){s=s!==null&&s.memoizedState!==null||be;var y=Us,S=be;Us=m,(be=s)&&!S?Ka(i,o,(o.subtreeFlags&8772)!==0):Gs(i,o),Us=y,be=S}u&512&&(o.memoizedProps.mode==="manual"?ro(o,o.return):Xi(o,o.return));break;default:Gs(i,o)}}function _E(i){var s=i.alternate;s!==null&&(i.alternate=null,_E(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ig(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Oe=null,Yi=!1;function Is(i,s,o){for(o=o.child;o!==null;)wE(i,s,o),o=o.sibling}function wE(i,s,o){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(ju,o)}catch{}switch(o.tag){case 26:be||Xi(o,s),Is(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:be||Xi(o,s);var u=Oe,m=Yi;for(Oe=o.stateNode,Is(i,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Ig(o),Oe=u,Yi=m;break;case 5:be||Xi(o,s);case 6:m=Oe;var y=Yi;if(Oe=null,Is(i,s,o),Oe=m,Yi=y,Oe!==null)if(Yi)try{i=Oe,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(S){ie(o,s,S)}else try{Oe.removeChild(o.stateNode)}catch(S){ie(o,s,S)}break;case 18:Oe!==null&&(Yi?(s=Oe,o=o.stateNode,s.nodeType===8?Nv(s.parentNode,o):s.nodeType===1&&Nv(s,o),Oh(s)):Nv(Oe,o.stateNode));break;case 4:u=Oe,m=Yi,Oe=o.stateNode.containerInfo,Yi=!0,Is(i,s,o),Oe=u,Yi=m;break;case 0:case 11:case 14:case 15:be||Ya(2,o,s),be||Ya(4,o,s),Is(i,s,o);break;case 1:be||(Xi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&yE(o,s,u)),Is(i,s,o);break;case 21:Is(i,s,o);break;case 22:be||Xi(o,s),be=(u=be)||o.memoizedState!==null,Is(i,s,o),be=u;break;default:Is(i,s,o)}}function TE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oh(i)}catch(o){ie(s,s.return,o)}}function o2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new SE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new SE),s;default:throw Error(n(435,i.tag))}}function sv(i,s){var o=o2(i);s.forEach(function(u){var m=A2.bind(null,i,u);o.has(u)||(o.add(u),u.then(m,m))})}function vn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=i,S=s,R=S;t:for(;R!==null;){switch(R.tag){case 27:case 5:Oe=R.stateNode,Yi=!1;break t;case 3:Oe=R.stateNode.containerInfo,Yi=!0;break t;case 4:Oe=R.stateNode.containerInfo,Yi=!0;break t}R=R.return}if(Oe===null)throw Error(n(160));wE(y,S,m),Oe=null,Yi=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)CE(s,i),s=s.sibling}var Bn=null;function CE(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:vn(s,i),bn(i),u&4&&(Ya(3,i,i.return),ph(3,i),Ya(5,i,i.return));break;case 1:vn(s,i),bn(i),u&512&&(be||o===null||Xi(o,o.return)),u&64&&Us&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Bn;if(vn(s,i),bn(i),u&512&&(be||o===null||Xi(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[zu]||y[ui]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),ii(y,u,o),y[ui]=i,Ge(y),u=y;break t;case"link":var S=v_("link","href",m).get(u+(o.href||""));if(S){for(var R=0;R<S.length;R++)if(y=S[R],y.getAttribute("href")===(o.href==null?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(R,1);break e}}y=m.createElement(u),ii(y,u,o),m.head.appendChild(y);break;case"meta":if(S=v_("meta","content",m).get(u+(o.content||""))){for(R=0;R<S.length;R++)if(y=S[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(R,1);break e}}y=m.createElement(u),ii(y,u,o),m.head.appendChild(y);break;default:throw Error(n(468,u))}y[ui]=i,Ge(y),u=y}i.stateNode=u}else b_(m,i.type,i.stateNode);else i.stateNode=y_(m,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?b_(m,i.type,i.stateNode):y_(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&bE(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){m=i.stateNode,y=i.memoizedProps;try{for(var D=m.firstChild;D;){var B=D.nextSibling,K=D.nodeName;D[zu]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&D.rel.toLowerCase()==="stylesheet"||m.removeChild(D),D=B}for(var et=i.type,U=m.attributes;U.length;)m.removeAttributeNode(U[0]);ii(m,et,y),m[ui]=i,m[ki]=y}catch(dt){ie(i,i.return,dt)}}case 5:if(vn(s,i),bn(i),u&512&&(be||o===null||Xi(o,o.return)),i.flags&32){m=i.stateNode;try{jl(m,"")}catch(dt){ie(i,i.return,dt)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,bE(i,m,o!==null?o.memoizedProps:m)),u&1024&&(nv=!0);break;case 6:if(vn(s,i),bn(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(dt){ie(i,i.return,dt)}}break;case 3:if(Yp=null,m=Bn,Bn=qp(s.containerInfo),vn(s,i),Bn=m,bn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Oh(s.containerInfo)}catch(dt){ie(i,i.return,dt)}nv&&(nv=!1,RE(i));break;case 4:u=Bn,Bn=qp(i.stateNode.containerInfo),vn(s,i),bn(i),Bn=u;break;case 12:vn(s,i),bn(i);break;case 13:vn(s,i),bn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(fv=un()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sv(i,u)));break;case 22:if(u&512&&(be||o===null||Xi(o,o.return)),D=i.memoizedState!==null,B=o!==null&&o.memoizedState!==null,K=Us,et=be,Us=K||D,be=et||B,vn(s,i),be=et,Us=K,bn(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=D?s._visibility&-2:s._visibility|1,D&&(s=Us||be,o===null||B||s||tc(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(o=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){B=o=s;try{if(m=B.stateNode,D)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=B.stateNode,R=B.memoizedProps.style;var X=R!=null&&R.hasOwnProperty("display")?R.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(dt){ie(B,B.return,dt)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=D?"":B.memoizedProps}catch(dt){ie(B,B.return,dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,sv(i,o))));break;case 19:vn(s,i),bn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sv(i,u)));break;case 21:break;default:vn(s,i),bn(i)}}function bn(i){var s=i.flags;if(s&2){try{if(i.tag!==27){t:{for(var o=i.return;o!==null;){if(AE(o)){var u=o;break t}o=o.return}throw Error(n(160))}switch(u.tag){case 27:var m=u.stateNode,y=ev(i);Dp(i,y,m);break;case 5:var S=u.stateNode;u.flags&32&&(jl(S,""),u.flags&=-33);var R=ev(i);Dp(i,R,S);break;case 3:case 4:var D=u.stateNode.containerInfo,B=ev(i);iv(i,B,D);break;default:throw Error(n(161))}}}catch(K){ie(i,i.return,K)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function RE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;RE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Gs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)EE(i,s.alternate,s),s=s.sibling}function tc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ya(4,s,s.return),tc(s);break;case 1:Xi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&yE(s,s.return,o),tc(s);break;case 26:case 27:case 5:Xi(s,s.return),tc(s);break;case 22:Xi(s,s.return),s.memoizedState===null&&tc(s);break;default:tc(s)}i=i.sibling}}function Ka(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(m,y,o),ph(4,y);break;case 1:if(Ka(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(B){ie(u,u.return,B)}if(u=y,m=u.updateQueue,m!==null){var R=u.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)pE(D[m],R)}catch(B){ie(u,u.return,B)}}o&&S&64&&gE(y),ro(y,y.return);break;case 26:case 27:case 5:Ka(m,y,o),o&&u===null&&S&4&&vE(y),ro(y,y.return);break;case 12:Ka(m,y,o);break;case 13:Ka(m,y,o),o&&S&4&&TE(m,y);break;case 22:y.memoizedState===null&&Ka(m,y,o),ro(y,y.return);break;default:Ka(m,y,o)}s=s.sibling}}function av(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&sh(o))}function rv(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&sh(i))}function Wa(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ME(i,s,o,u),s=s.sibling}function ME(i,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Wa(i,s,o,u),m&2048&&ph(9,s);break;case 3:Wa(i,s,o,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&sh(i)));break;case 12:if(m&2048){Wa(i,s,o,u),i=s.stateNode;try{var y=s.memoizedProps,S=y.id,R=y.onPostCommit;typeof R=="function"&&R(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){ie(s,s.return,D)}}else Wa(i,s,o,u);break;case 23:break;case 22:y=s.stateNode,s.memoizedState!==null?y._visibility&4?Wa(i,s,o,u):mh(i,s):y._visibility&4?Wa(i,s,o,u):(y._visibility|=4,ec(i,s,o,u,(s.subtreeFlags&10256)!==0)),m&2048&&av(s.alternate,s);break;case 24:Wa(i,s,o,u),m&2048&&rv(s.alternate,s);break;default:Wa(i,s,o,u)}}function ec(i,s,o,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,S=s,R=o,D=u,B=S.flags;switch(S.tag){case 0:case 11:case 15:ec(y,S,R,D,m),ph(8,S);break;case 23:break;case 22:var K=S.stateNode;S.memoizedState!==null?K._visibility&4?ec(y,S,R,D,m):mh(y,S):(K._visibility|=4,ec(y,S,R,D,m)),m&&B&2048&&av(S.alternate,S);break;case 24:ec(y,S,R,D,m),m&&B&2048&&rv(S.alternate,S);break;default:ec(y,S,R,D,m)}s=s.sibling}}function mh(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,m=u.flags;switch(u.tag){case 22:mh(o,u),m&2048&&av(u.alternate,u);break;case 24:mh(o,u),m&2048&&rv(u.alternate,u);break;default:mh(o,u)}s=s.sibling}}var gh=8192;function ic(i){if(i.subtreeFlags&gh)for(i=i.child;i!==null;)DE(i),i=i.sibling}function DE(i){switch(i.tag){case 26:ic(i),i.flags&gh&&i.memoizedState!==null&&W2(Bn,i.memoizedState,i.memoizedProps);break;case 5:ic(i);break;case 3:case 4:var s=Bn;Bn=qp(i.stateNode.containerInfo),ic(i),Bn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=gh,gh=16777216,ic(i),gh=s):ic(i));break;default:ic(i)}}function LE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function yh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Xe=u,kE(u,i)}LE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)OE(i),i=i.sibling}function OE(i){switch(i.tag){case 0:case 11:case 15:yh(i),i.flags&2048&&Ya(9,i,i.return);break;case 3:yh(i);break;case 12:yh(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Lp(i)):yh(i);break;default:yh(i)}}function Lp(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Xe=u,kE(u,i)}LE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ya(8,s,s.return),Lp(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Lp(s));break;default:Lp(s)}i=i.sibling}}function kE(i,s){for(;Xe!==null;){var o=Xe;switch(o.tag){case 0:case 11:case 15:Ya(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:sh(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Xe=u;else t:for(o=i;Xe!==null;){u=Xe;var m=u.sibling,y=u.return;if(_E(u),u===o){Xe=null;break t}if(m!==null){m.return=y,Xe=m;break t}Xe=y}}}function l2(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,s,o,u){return new l2(i,s,o,u)}function ov(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $a(i,s){var o=i.alternate;return o===null?(o=An(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function PE(i,s){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Op(i,s,o,u,m,y){var S=0;if(u=i,typeof i=="function")ov(i)&&(S=1);else if(typeof i=="string")S=Y2(i,o,ci.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case f:return oo(o.children,m,y,s);case p:S=8,m|=24;break;case g:return i=An(12,o,s,m|2),i.elementType=g,i.lanes=y,i;case w:return i=An(13,o,s,m),i.elementType=w,i.lanes=y,i;case M:return i=An(19,o,s,m),i.elementType=M,i.lanes=y,i;case O:return NE(o,m,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case A:S=10;break t;case b:S=9;break t;case x:S=11;break t;case C:S=14;break t;case L:S=16,u=null;break t}S=29,o=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=An(S,o,s,m),s.elementType=i,s.type=u,s.lanes=y,s}function oo(i,s,o,u){return i=An(7,i,u,s),i.lanes=o,i}function NE(i,s,o,u){i=An(22,i,u,s),i.elementType=O,i.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(n(456));if((m._pendingVisibility&2)===0){var S=Ba(y,2);S!==null&&(m._pendingVisibility|=2,_i(S,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(n(456));if((m._pendingVisibility&2)!==0){var S=Ba(y,2);S!==null&&(m._pendingVisibility&=-3,_i(S,y,2))}}};return i.stateNode=m,i}function lv(i,s,o){return i=An(6,i,null,s),i.lanes=o,i}function cv(i,s,o){return s=An(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function qs(i){i.flags|=4}function FE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!A_(s)){if(s=yn.current,s!==null&&((It&4194176)===It?rs!==null:(It&62914560)!==It&&(It&536870912)===0||s!==rs))throw eh=py,JS;i.flags|=8192}}function kp(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?tS():536870912,i.lanes|=s,sc|=s)}function vh(i,s){if(!qt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function de(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&31457280,u|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function c2(i,s,o){var u=s.pendingProps;switch(dy(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(s),null;case 1:return de(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Vs(je),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Qu(s)?qs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jn!==null&&(yv(jn),jn=null))),de(s),null;case 26:return o=s.memoizedState,i===null?(qs(s),o!==null?(de(s),FE(s,o)):(de(s),s.flags&=-16777217)):o?o!==i.memoizedState?(qs(s),de(s),FE(s,o)):(de(s),s.flags&=-16777217):(i.memoizedProps!==u&&qs(s),de(s),s.flags&=-16777217),null;case 27:ss(s),o=zt.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&qs(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return de(s),null}i=ci.current,Qu(s)?QS(s):(i=d_(m,u,o),s.stateNode=i,qs(s))}return de(s),null;case 5:if(ss(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&qs(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return de(s),null}if(i=ci.current,Qu(s))QS(s);else{switch(m=Gp(zt.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}i[ui]=s,i[ki]=u;t:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break t;for(;m.sibling===null;){if(m.return===null||m.return===s)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;t:switch(ii(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&qs(s)}}return de(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&qs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=zt.current,Qu(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,m=Ei,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[ui]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||r_(i.nodeValue,o)),i||Qr(s)}else i=Gp(i).createTextNode(u),i[ui]=s,s.stateNode=i}return de(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Qu(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[ui]=s}else Zu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;de(s),m=!1}else jn!==null&&(yv(jn),jn=null),m=!0;if(!m)return s.flags&256?(js(s),s):(js(s),null)}if(js(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),kp(s,s.updateQueue),de(s),null;case 4:return ce(),i===null&&Rv(s.stateNode.containerInfo),de(s),null;case 10:return Vs(s.type),de(s),null;case 19:if(Gt(Fe),m=s.memoizedState,m===null)return de(s),null;if(u=(s.flags&128)!==0,y=m.rendering,y===null)if(u)vh(m,!1);else{if(Ae!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=gp(i),y!==null){for(s.flags|=128,vh(m,!1),i=y.updateQueue,s.updateQueue=i,kp(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)PE(o,i),o=o.sibling;return St(Fe,Fe.current&1|2),s.child}i=i.sibling}m.tail!==null&&un()>Pp&&(s.flags|=128,u=!0,vh(m,!1),s.lanes=4194304)}else{if(!u)if(i=gp(y),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,kp(s,i),vh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!qt)return de(s),null}else 2*un()-m.renderingStartTime>Pp&&o!==536870912&&(s.flags|=128,u=!0,vh(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(i=m.last,i!==null?i.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=un(),s.sibling=null,i=Fe.current,St(Fe,u?i&1|2:i&1),s):(de(s),null);case 22:case 23:return js(s),gy(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(de(s),s.subtreeFlags&6&&(s.flags|=8192)):de(s),o=s.updateQueue,o!==null&&kp(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&Gt(Jr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Vs(je),de(s),null;case 25:return null}throw Error(n(156,s.tag))}function u2(i,s){switch(dy(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Vs(je),ce(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ss(s),null;case 13:if(js(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Zu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Gt(Fe),null;case 4:return ce(),null;case 10:return Vs(s.type),null;case 22:case 23:return js(s),gy(),i!==null&&Gt(Jr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Vs(je),null;case 25:return null;default:return null}}function jE(i,s){switch(dy(s),s.tag){case 3:Vs(je),ce();break;case 26:case 27:case 5:ss(s);break;case 4:ce();break;case 13:js(s);break;case 19:Gt(Fe);break;case 10:Vs(s.type);break;case 22:case 23:js(s),gy(),i!==null&&Gt(Jr);break;case 24:Vs(je)}}var h2={getCacheForType:function(i){var s=hi(je),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},d2=typeof WeakMap=="function"?WeakMap:Map,fe=0,se=null,Bt=null,It=0,ae=0,Ki=null,Xs=!1,nc=!1,uv=!1,Ys=0,Ae=0,Qa=0,lo=0,hv=0,Sn=0,sc=0,bh=null,ls=null,dv=!1,fv=0,Pp=1/0,Np=null,Za=null,Fp=!1,co=null,Ah=0,pv=0,mv=null,Sh=0,gv=null;function Wi(){if((fe&2)!==0&&It!==0)return It&-It;if(G.T!==null){var i=Wl;return i!==0?i:_v()}return sS()}function BE(){Sn===0&&(Sn=(It&536870912)===0||qt?JA():536870912);var i=yn.current;return i!==null&&(i.flags|=32),Sn}function _i(i,s,o){(i===se&&ae===2||i.cancelPendingCommit!==null)&&(ac(i,0),Ks(i,It,Sn,!1)),Hu(i,o),((fe&2)===0||i!==se)&&(i===se&&((fe&2)===0&&(lo|=o),Ae===4&&Ks(i,It,Sn,!1)),cs(i))}function HE(i,s,o){if((fe&6)!==0)throw Error(n(327));var u=!o&&(s&60)===0&&(s&i.expiredLanes)===0||Bu(i,s),m=u?m2(i,s):Av(i,s,!0),y=u;do{if(m===0){nc&&!u&&Ks(i,s,0,!1);break}else if(m===6)Ks(i,s,0,!Xs);else{if(o=i.current.alternate,y&&!f2(o)){m=Av(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var R=i;m=bh;var D=R.current.memoizedState.isDehydrated;if(D&&(ac(R,S).flags|=256),S=Av(R,S,!1),S!==2){if(uv&&!D){R.errorRecoveryDisabledLanes|=y,lo|=y,m=4;break t}y=ls,ls=m,y!==null&&yv(y)}m=S}if(y=!1,m!==2)continue}}if(m===1){ac(i,0),Ks(i,s,0,!0);break}t:{switch(u=i,m){case 0:case 1:throw Error(n(345));case 4:if((s&4194176)===s){Ks(u,s,Sn,!Xs);break t}break;case 2:ls=null;break;case 3:case 5:break;default:throw Error(n(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(y=fv+300-un(),10<y)){if(Ks(u,s,Sn,!Xs),Wf(u,0)!==0)break t;u.timeoutHandle=c_(zE.bind(null,u,o,ls,Np,dv,s,Sn,lo,sc,Xs,2,-0,0),y);break t}zE(u,o,ls,Np,dv,s,Sn,lo,sc,Xs,0,-0,0)}}break}while(!0);cs(i)}function yv(i){ls===null?ls=i:ls.push.apply(ls,i)}function zE(i,s,o,u,m,y,S,R,D,B,K,et,U){var X=s.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Ch={stylesheets:null,count:0,unsuspend:K2},DE(s),s=$2(),s!==null)){i.cancelPendingCommit=s(YE.bind(null,i,o,u,m,S,R,D,1,et,U)),Ks(i,y,S,!B);return}YE(i,o,u,m,S,R,D,K,et,U)}function f2(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!qi(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ks(i,s,o,u){s&=~hv,s&=~lo,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var y=31-Gi(m),S=1<<y;u[y]=-1,m&=~S}o!==0&&eS(i,o,s)}function jp(){return(fe&6)===0?(xh(0),!1):!0}function vv(){if(Bt!==null){if(ae===0)var i=Bt.return;else i=Bt,zs=so=null,_y(i),Yl=null,ih=0,i=Bt;for(;i!==null;)jE(i.alternate,i),i=i.return;Bt=null}}function ac(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,O2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),vv(),se=i,Bt=o=$a(i.current,null),It=s,ae=0,Ki=null,Xs=!1,nc=Bu(i,s),uv=!1,sc=Sn=hv=lo=Qa=Ae=0,ls=bh=null,dv=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-Gi(u),y=1<<m;s|=i[m],u&=~y}return Ys=s,op(),o}function VE(i,s){Pt=null,G.H=os,s===th?(s=ix(),ae=3):s===JS?(s=ix(),ae=4):ae=s===tE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ki=s,Bt===null&&(Ae=1,Cp(i,pn(s,i.current)))}function UE(){var i=G.H;return G.H=os,i===null?os:i}function IE(){var i=G.A;return G.A=h2,i}function bv(){Ae=4,Xs||(It&4194176)!==It&&yn.current!==null||(nc=!0),(Qa&134217727)===0&&(lo&134217727)===0||se===null||Ks(se,It,Sn,!1)}function Av(i,s,o){var u=fe;fe|=2;var m=UE(),y=IE();(se!==i||It!==s)&&(Np=null,ac(i,s)),s=!1;var S=Ae;t:do try{if(ae!==0&&Bt!==null){var R=Bt,D=Ki;switch(ae){case 8:vv(),S=6;break t;case 3:case 2:case 6:yn.current===null&&(s=!0);var B=ae;if(ae=0,Ki=null,rc(i,R,D,B),o&&nc){S=0;break t}break;default:B=ae,ae=0,Ki=null,rc(i,R,D,B)}}p2(),S=Ae;break}catch(K){VE(i,K)}while(!0);return s&&i.shellSuspendCounter++,zs=so=null,fe=u,G.H=m,G.A=y,Bt===null&&(se=null,It=0,op()),S}function p2(){for(;Bt!==null;)GE(Bt)}function m2(i,s){var o=fe;fe|=2;var u=UE(),m=IE();se!==i||It!==s?(Np=null,Pp=un()+500,ac(i,s)):nc=Bu(i,s);t:do try{if(ae!==0&&Bt!==null){s=Bt;var y=Ki;e:switch(ae){case 1:ae=0,Ki=null,rc(i,s,y,1);break;case 2:if(tx(y)){ae=0,Ki=null,qE(s);break}s=function(){ae===2&&se===i&&(ae=7),cs(i)},y.then(s,s);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:tx(y)?(ae=0,Ki=null,qE(s)):(ae=0,Ki=null,rc(i,s,y,7));break;case 5:var S=null;switch(Bt.tag){case 26:S=Bt.memoizedState;case 5:case 27:var R=Bt;if(!S||A_(S)){ae=0,Ki=null;var D=R.sibling;if(D!==null)Bt=D;else{var B=R.return;B!==null?(Bt=B,Bp(B)):Bt=null}break e}}ae=0,Ki=null,rc(i,s,y,5);break;case 6:ae=0,Ki=null,rc(i,s,y,6);break;case 8:vv(),Ae=6;break t;default:throw Error(n(462))}}g2();break}catch(K){VE(i,K)}while(!0);return zs=so=null,G.H=u,G.A=m,fe=o,Bt!==null?0:(se=null,It=0,op(),Ae)}function g2(){for(;Bt!==null&&!Bg();)GE(Bt)}function GE(i){var s=dE(i.alternate,i,Ys);i.memoizedProps=i.pendingProps,s===null?Bp(i):Bt=s}function qE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=rE(o,s,s.pendingProps,s.type,void 0,It);break;case 11:s=rE(o,s,s.pendingProps,s.type.render,s.ref,It);break;case 5:_y(s);default:jE(o,s),s=Bt=PE(s,Ys),s=dE(o,s,Ys)}i.memoizedProps=i.pendingProps,s===null?Bp(i):Bt=s}function rc(i,s,o,u){zs=so=null,_y(s),Yl=null,ih=0;var m=s.return;try{if(s2(i,m,s,o,It)){Ae=1,Cp(i,pn(o,i.current)),Bt=null;return}}catch(y){if(m!==null)throw Bt=m,y;Ae=1,Cp(i,pn(o,i.current)),Bt=null;return}s.flags&32768?(qt||u===1?i=!0:nc||(It&536870912)!==0?i=!1:(Xs=i=!0,(u===2||u===3||u===6)&&(u=yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),XE(s,i)):Bp(s)}function Bp(i){var s=i;do{if((s.flags&32768)!==0){XE(s,Xs);return}i=s.return;var o=c2(s.alternate,s,Ys);if(o!==null){Bt=o;return}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=i}while(s!==null);Ae===0&&(Ae=5)}function XE(i,s){do{var o=u2(i.alternate,i);if(o!==null){o.flags&=32767,Bt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Bt=i;return}Bt=i=o}while(i!==null);Ae=6,Bt=null}function YE(i,s,o,u,m,y,S,R,D,B){var K=G.T,et=nt.p;try{nt.p=2,G.T=null,y2(i,s,o,u,et,m,y,S,R,D,B)}finally{G.T=K,nt.p=et}}function y2(i,s,o,u,m,y,S,R){do oc();while(co!==null);if((fe&6)!==0)throw Error(n(327));var D=i.finishedWork;if(u=i.finishedLanes,D===null)return null;if(i.finishedWork=null,i.finishedLanes=0,D===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var B=D.lanes|D.childLanes;if(B|=cy,WM(i,u,B,y,S,R),i===se&&(Bt=se=null,It=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Fp||(Fp=!0,pv=B,mv=o,S2(Os,function(){return oc(),null})),o=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||o?(o=G.T,G.T=null,y=nt.p,nt.p=2,S=fe,fe|=4,r2(i,D),CE(D,i),VD(Ov,i.containerInfo),$p=!!Lv,Ov=Lv=null,i.current=D,EE(i,D.alternate,D),Hg(),fe=S,nt.p=y,G.T=o):i.current=D,Fp?(Fp=!1,co=i,Ah=u):KE(i,B),B=i.pendingLanes,B===0&&(Za=null),GM(D.stateNode),cs(i),s!==null)for(m=i.onRecoverableError,D=0;D<s.length;D++)B=s[D],m(B.value,{componentStack:B.stack});return(Ah&3)!==0&&oc(),B=i.pendingLanes,(u&4194218)!==0&&(B&42)!==0?i===gv?Sh++:(Sh=0,gv=i):Sh=0,xh(0),null}function KE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,sh(s)))}function oc(){if(co!==null){var i=co,s=pv;pv=0;var o=nS(Ah),u=G.T,m=nt.p;try{if(nt.p=32>o?32:o,G.T=null,co===null)var y=!1;else{o=mv,mv=null;var S=co,R=Ah;if(co=null,Ah=0,(fe&6)!==0)throw Error(n(331));var D=fe;if(fe|=4,OE(S.current),ME(S,S.current,R,o),fe=D,xh(0,!1),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(ju,S)}catch{}y=!0}return y}finally{nt.p=m,G.T=u,KE(i,s)}}return!1}function WE(i,s,o){s=pn(o,s),s=By(i.stateNode,s,2),i=Xa(i,s,2),i!==null&&(Hu(i,2),cs(i))}function ie(i,s,o){if(i.tag===3)WE(i,i,o);else for(;s!==null;){if(s.tag===3){WE(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Za===null||!Za.has(u))){i=pn(o,i),o=Zx(2),u=Xa(s,o,2),u!==null&&(Jx(o,u,s,i),Hu(u,2),cs(u));break}}s=s.return}}function Sv(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new d2;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(uv=!0,m.add(o),i=v2.bind(null,i,s,o),s.then(i,i))}function v2(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,se===i&&(It&o)===o&&(Ae===4||Ae===3&&(It&62914560)===It&&300>un()-fv?(fe&2)===0&&ac(i,0):hv|=o,sc===It&&(sc=0)),cs(i)}function $E(i,s){s===0&&(s=tS()),i=Ba(i,s),i!==null&&(Hu(i,s),cs(i))}function b2(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),$E(i,o)}function A2(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),$E(i,o)}function S2(i,s){return Fu(i,s)}var Hp=null,lc=null,xv=!1,zp=!1,Ev=!1,uo=0;function cs(i){i!==lc&&i.next===null&&(lc===null?Hp=lc=i:lc=lc.next=i),zp=!0,xv||(xv=!0,E2(x2))}function xh(i,s){if(!Ev&&zp){Ev=!0;do for(var o=!1,u=Hp;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var S=u.suspendedLanes,R=u.pingedLanes;y=(1<<31-Gi(42|i)+1)-1,y&=m&~(S&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(o=!0,JE(u,y))}else y=It,y=Wf(u,u===se?y:0),(y&3)===0||Bu(u,y)||(o=!0,JE(u,y));u=u.next}while(o);Ev=!1}}function x2(){zp=xv=!1;var i=0;uo!==0&&(L2()&&(i=uo),uo=0);for(var s=un(),o=null,u=Hp;u!==null;){var m=u.next,y=QE(u,s);y===0?(u.next=null,o===null?Hp=m:o.next=m,m===null&&(lc=o)):(o=u,(i!==0||(y&3)!==0)&&(zp=!0)),u=m}xh(i)}function QE(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Gi(y),R=1<<S,D=m[S];D===-1?((R&o)===0||(R&u)!==0)&&(m[S]=KM(R,s)):D<=s&&(i.expiredLanes|=R),y&=~R}if(s=se,o=It,o=Wf(i,i===s?o:0),u=i.callbackNode,o===0||i===s&&ae===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Pa(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Bu(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Pa(u),nS(o)){case 2:case 8:o=Ls;break;case 32:o=Os;break;case 268435456:o=Ll;break;default:o=Os}return u=ZE.bind(null,i),o=Fu(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Pa(u),i.callbackPriority=2,i.callbackNode=null,2}function ZE(i,s){var o=i.callbackNode;if(oc()&&i.callbackNode!==o)return null;var u=It;return u=Wf(i,i===se?u:0),u===0?null:(HE(i,u,s),QE(i,un()),i.callbackNode!=null&&i.callbackNode===o?ZE.bind(null,i):null)}function JE(i,s){if(oc())return null;HE(i,s,!0)}function E2(i){k2(function(){(fe&6)!==0?Fu(Xf,i):i()})}function _v(){return uo===0&&(uo=JA()),uo}function t_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:tp(""+i)}function e_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function _2(i,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var y=t_((m[ki]||null).action),S=u.submitter;S&&(s=(s=S[ki]||null)?t_(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var R=new sp("action","action",null,u,m);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(uo!==0){var D=S?e_(m,S):new FormData(m);ky(o,{pending:!0,data:D,method:m.method,action:y},null,D)}}else typeof y=="function"&&(R.preventDefault(),D=S?e_(m,S):new FormData(m),ky(o,{pending:!0,data:D,method:m.method,action:y},y,D))},currentTarget:m}]})}}for(var wv=0;wv<YS.length;wv++){var Tv=YS[wv],w2=Tv.toLowerCase(),T2=Tv[0].toUpperCase()+Tv.slice(1);Fn(w2,"on"+T2)}Fn(US,"onAnimationEnd"),Fn(IS,"onAnimationIteration"),Fn(GS,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(ID,"onTransitionRun"),Fn(GD,"onTransitionStart"),Fn(qD,"onTransitionCancel"),Fn(qS,"onTransitionEnd"),Nl("onMouseEnter",["mouseout","mouseover"]),Nl("onMouseLeave",["mouseout","mouseover"]),Nl("onPointerEnter",["pointerout","pointerover"]),Nl("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eh));function i_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;t:{var y=void 0;if(s)for(var S=u.length-1;0<=S;S--){var R=u[S],D=R.instance,B=R.currentTarget;if(R=R.listener,D!==y&&m.isPropagationStopped())break t;y=R,m.currentTarget=B;try{y(m)}catch(K){Tp(K)}m.currentTarget=null,y=D}else for(S=0;S<u.length;S++){if(R=u[S],D=R.instance,B=R.currentTarget,R=R.listener,D!==y&&m.isPropagationStopped())break t;y=R,m.currentTarget=B;try{y(m)}catch(K){Tp(K)}m.currentTarget=null,y=D}}}}function Vt(i,s){var o=s[Ug];o===void 0&&(o=s[Ug]=new Set);var u=i+"__bubble";o.has(u)||(n_(s,i,2,!1),o.add(u))}function Cv(i,s,o){var u=0;s&&(u|=4),n_(o,i,u,s)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function Rv(i){if(!i[Vp]){i[Vp]=!0,rS.forEach(function(o){o!=="selectionchange"&&(C2.has(o)||Cv(o,!1,i),Cv(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Vp]||(s[Vp]=!0,Cv("selectionchange",!1,s))}}function n_(i,s,o,u){switch(T_(s)){case 2:var m=J2;break;case 8:m=tL;break;default:m=Vv}o=m.bind(null,s,o,i),m=void 0,!$g||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function Mv(i,s,o,u,m){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var R=u.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(S===4)for(S=u.return;S!==null;){var D=S.tag;if((D===3||D===4)&&(D=S.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;S=S.return}for(;R!==null;){if(S=Gr(R),S===null)return;if(D=S.tag,D===5||D===6||D===26||D===27){u=y=S;continue t}R=R.parentNode}}u=u.return}vS(function(){var B=y,K=Kg(o),et=[];t:{var U=XS.get(i);if(U!==void 0){var X=sp,dt=i;switch(i){case"keypress":if(ip(o)===0)break t;case"keydown":case"keyup":X=AD;break;case"focusin":dt="focus",X=ty;break;case"focusout":dt="blur",X=ty;break;case"beforeblur":case"afterblur":X=ty;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=SS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=lD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ED;break;case US:case IS:case GS:X=hD;break;case qS:X=wD;break;case"scroll":case"scrollend":X=rD;break;case"wheel":X=CD;break;case"copy":case"cut":case"paste":X=fD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ES;break;case"toggle":case"beforetoggle":X=MD}var Ct=(s&4)!==0,Se=!Ct&&(i==="scroll"||i==="scrollend"),H=Ct?U!==null?U+"Capture":null:U;Ct=[];for(var N=B,V;N!==null;){var Q=N;if(V=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||V===null||H===null||(Q=Uu(N,H),Q!=null&&Ct.push(_h(N,Q,V))),Se)break;N=N.return}0<Ct.length&&(U=new X(U,dt,null,o,K),et.push({event:U,listeners:Ct}))}}if((s&7)===0){t:{if(U=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",U&&o!==Yg&&(dt=o.relatedTarget||o.fromElement)&&(Gr(dt)||dt[Ol]))break t;if((X||U)&&(U=K.window===K?K:(U=K.ownerDocument)?U.defaultView||U.parentWindow:window,X?(dt=o.relatedTarget||o.toElement,X=B,dt=dt?Gr(dt):null,dt!==null&&(Se=Z(dt),Ct=dt.tag,dt!==Se||Ct!==5&&Ct!==27&&Ct!==6)&&(dt=null)):(X=null,dt=B),X!==dt)){if(Ct=SS,Q="onMouseLeave",H="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(Ct=ES,Q="onPointerLeave",H="onPointerEnter",N="pointer"),Se=X==null?U:Vu(X),V=dt==null?U:Vu(dt),U=new Ct(Q,N+"leave",X,o,K),U.target=Se,U.relatedTarget=V,Q=null,Gr(K)===B&&(Ct=new Ct(H,N+"enter",dt,o,K),Ct.target=V,Ct.relatedTarget=Se,Q=Ct),Se=Q,X&&dt)e:{for(Ct=X,H=dt,N=0,V=Ct;V;V=cc(V))N++;for(V=0,Q=H;Q;Q=cc(Q))V++;for(;0<N-V;)Ct=cc(Ct),N--;for(;0<V-N;)H=cc(H),V--;for(;N--;){if(Ct===H||H!==null&&Ct===H.alternate)break e;Ct=cc(Ct),H=cc(H)}Ct=null}else Ct=null;X!==null&&s_(et,U,X,Ct,!1),dt!==null&&Se!==null&&s_(et,Se,dt,Ct,!0)}}t:{if(U=B?Vu(B):window,X=U.nodeName&&U.nodeName.toLowerCase(),X==="select"||X==="input"&&U.type==="file")var ct=LS;else if(MS(U))if(OS)ct=HD;else{ct=jD;var Ft=FD}else X=U.nodeName,!X||X.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?B&&Xg(B.elementType)&&(ct=LS):ct=BD;if(ct&&(ct=ct(i,B))){DS(et,ct,o,K);break t}Ft&&Ft(i,U,B),i==="focusout"&&B&&U.type==="number"&&B.memoizedProps.value!=null&&qg(U,"number",U.value)}switch(Ft=B?Vu(B):window,i){case"focusin":(MS(Ft)||Ft.contentEditable==="true")&&(Vl=Ft,ry=B,$u=null);break;case"focusout":$u=ry=Vl=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,zS(et,o,K);break;case"selectionchange":if(UD)break;case"keydown":case"keyup":zS(et,o,K)}var gt;if(iy)t:{switch(i){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else zl?CS(i,o)&&(bt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(bt="onCompositionStart");bt&&(_S&&o.locale!=="ko"&&(zl||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&zl&&(gt=bS()):(ja=K,Qg="value"in ja?ja.value:ja.textContent,zl=!0)),Ft=Up(B,bt),0<Ft.length&&(bt=new xS(bt,i,null,o,K),et.push({event:bt,listeners:Ft}),gt?bt.data=gt:(gt=RS(o),gt!==null&&(bt.data=gt)))),(gt=LD?OD(i,o):kD(i,o))&&(bt=Up(B,"onBeforeInput"),0<bt.length&&(Ft=new xS("onBeforeInput","beforeinput",null,o,K),et.push({event:Ft,listeners:bt}),Ft.data=gt)),_2(et,i,B,o,K)}i_(et,s)})}function _h(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Up(i,s){for(var o=s+"Capture",u=[];i!==null;){var m=i,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Uu(i,o),m!=null&&u.unshift(_h(i,m,y)),m=Uu(i,s),m!=null&&u.push(_h(i,m,y))),i=i.return}return u}function cc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function s_(i,s,o,u,m){for(var y=s._reactName,S=[];o!==null&&o!==u;){var R=o,D=R.alternate,B=R.stateNode;if(R=R.tag,D!==null&&D===u)break;R!==5&&R!==26&&R!==27||B===null||(D=B,m?(B=Uu(o,y),B!=null&&S.unshift(_h(o,B,D))):m||(B=Uu(o,y),B!=null&&S.push(_h(o,B,D)))),o=o.return}S.length!==0&&i.push({event:s,listeners:S})}var R2=/\r\n?/g,M2=/\u0000|\uFFFD/g;function a_(i){return(typeof i=="string"?i:""+i).replace(R2,`
`).replace(M2,"")}function r_(i,s){return s=a_(s),a_(i)===s}function Ip(){}function Jt(i,s,o,u,m,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||jl(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&jl(i,""+u);break;case"className":Qf(i,"class",u);break;case"tabIndex":Qf(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qf(i,o,u);break;case"style":gS(i,u,y);break;case"data":if(s!=="object"){Qf(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=tp(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Jt(i,s,"name",m.name,m,null),Jt(i,s,"formEncType",m.formEncType,m,null),Jt(i,s,"formMethod",m.formMethod,m,null),Jt(i,s,"formTarget",m.formTarget,m,null)):(Jt(i,s,"encType",m.encType,m,null),Jt(i,s,"method",m.method,m,null),Jt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=tp(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ip);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=tp(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),$f(i,"popover",u);break;case"xlinkActuate":Ps(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ps(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ps(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ps(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ps(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ps(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ps(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ps(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ps(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$f(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sD.get(o)||o,$f(i,o,u))}}function Dv(i,s,o,u,m,y){switch(o){case"style":gS(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"children":typeof u=="string"?jl(i,u):(typeof u=="number"||typeof u=="bigint")&&jl(i,""+u);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ip);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oS.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=i[ki]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,m);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):$f(i,o,u)}}}function ii(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var S=o[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Jt(i,s,y,S,o,null)}}m&&Jt(i,s,"srcSet",o.srcSet,o,null),u&&Jt(i,s,"src",o.src,o,null);return;case"input":Vt("invalid",i);var R=y=S=m=null,D=null,B=null;for(u in o)if(o.hasOwnProperty(u)){var K=o[u];if(K!=null)switch(u){case"name":m=K;break;case"type":S=K;break;case"checked":D=K;break;case"defaultChecked":B=K;break;case"value":y=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,s));break;default:Jt(i,s,u,K,o,null)}}dS(i,y,R,D,B,S,m,!1),Zf(i);return;case"select":Vt("invalid",i),u=S=y=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":y=R;break;case"defaultValue":S=R;break;case"multiple":u=R;default:Jt(i,s,m,R,o,null)}s=y,o=S,i.multiple=!!u,s!=null?Fl(i,!!u,s,!1):o!=null&&Fl(i,!!u,o,!0);return;case"textarea":Vt("invalid",i),y=m=u=null;for(S in o)if(o.hasOwnProperty(S)&&(R=o[S],R!=null))switch(S){case"value":u=R;break;case"defaultValue":m=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:Jt(i,s,S,R,o,null)}pS(i,u,m,y),Zf(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Jt(i,s,D,u,o,null)}return;case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(u=0;u<Eh.length;u++)Vt(Eh[u],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Jt(i,s,B,u,o,null)}return;default:if(Xg(s)){for(K in o)o.hasOwnProperty(K)&&(u=o[K],u!==void 0&&Dv(i,s,K,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Jt(i,s,R,u,o,null))}function D2(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,R=null,D=null,B=null,K=null;for(X in o){var et=o[X];if(o.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=et;default:u.hasOwnProperty(X)||Jt(i,s,X,null,u,et)}}for(var U in u){var X=u[U];if(et=o[U],u.hasOwnProperty(U)&&(X!=null||et!=null))switch(U){case"type":y=X;break;case"name":m=X;break;case"checked":B=X;break;case"defaultChecked":K=X;break;case"value":S=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:X!==et&&Jt(i,s,U,X,u,et)}}Gg(i,S,R,D,B,K,y,m);return;case"select":X=S=R=U=null;for(y in o)if(D=o[y],o.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":X=D;default:u.hasOwnProperty(y)||Jt(i,s,y,null,u,D)}for(m in u)if(y=u[m],D=o[m],u.hasOwnProperty(m)&&(y!=null||D!=null))switch(m){case"value":U=y;break;case"defaultValue":R=y;break;case"multiple":S=y;default:y!==D&&Jt(i,s,m,y,u,D)}s=R,o=S,u=X,U!=null?Fl(i,!!o,U,!1):!!u!=!!o&&(s!=null?Fl(i,!!o,s,!0):Fl(i,!!o,o?[]:"",!1));return;case"textarea":X=U=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Jt(i,s,R,null,u,m)}for(S in u)if(m=u[S],y=o[S],u.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":U=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==y&&Jt(i,s,S,m,u,y)}fS(i,U,X);return;case"option":for(var dt in o)if(U=o[dt],o.hasOwnProperty(dt)&&U!=null&&!u.hasOwnProperty(dt))switch(dt){case"selected":i.selected=!1;break;default:Jt(i,s,dt,null,u,U)}for(D in u)if(U=u[D],X=o[D],u.hasOwnProperty(D)&&U!==X&&(U!=null||X!=null))switch(D){case"selected":i.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Jt(i,s,D,U,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in o)U=o[Ct],o.hasOwnProperty(Ct)&&U!=null&&!u.hasOwnProperty(Ct)&&Jt(i,s,Ct,null,u,U);for(B in u)if(U=u[B],X=o[B],u.hasOwnProperty(B)&&U!==X&&(U!=null||X!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(137,s));break;default:Jt(i,s,B,U,u,X)}return;default:if(Xg(s)){for(var Se in o)U=o[Se],o.hasOwnProperty(Se)&&U!==void 0&&!u.hasOwnProperty(Se)&&Dv(i,s,Se,void 0,u,U);for(K in u)U=u[K],X=o[K],!u.hasOwnProperty(K)||U===X||U===void 0&&X===void 0||Dv(i,s,K,U,u,X);return}}for(var H in o)U=o[H],o.hasOwnProperty(H)&&U!=null&&!u.hasOwnProperty(H)&&Jt(i,s,H,null,u,U);for(et in u)U=u[et],X=o[et],!u.hasOwnProperty(et)||U===X||U==null&&X==null||Jt(i,s,et,U,u,X)}var Lv=null,Ov=null;function Gp(i){return i.nodeType===9?i:i.ownerDocument}function o_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function kv(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pv=null;function L2(){var i=window.event;return i&&i.type==="popstate"?i===Pv?!1:(Pv=i,!0):(Pv=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,O2=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,k2=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(i){return u_.resolve(null).then(i).catch(P2)}:c_;function P2(i){setTimeout(function(){throw i})}function Nv(i,s){var o=s,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(u===0){i.removeChild(m),Oh(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=m}while(o);Oh(s)}function Fv(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fv(o),Ig(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function N2(i,s,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[zu])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Hn(i.nextSibling),i===null)break}return null}function F2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Hn(i.nextSibling),i===null))return null;return i}function Hn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function h_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function d_(i,s,o){switch(s=Gp(o),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}var xn=new Map,f_=new Set;function qp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ws=nt.d;nt.d={f:j2,r:B2,D:H2,C:z2,L:V2,m:U2,X:G2,S:I2,M:q2};function j2(){var i=Ws.f(),s=jp();return i||s}function B2(i){var s=kl(i);s!==null&&s.tag===5&&s.type==="form"?zx(s):Ws.r(i)}var uc=typeof document>"u"?null:document;function p_(i,s,o){var u=uc;if(u&&typeof s=="string"&&s){var m=dn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),f_.has(m)||(f_.add(m),i={rel:i,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),ii(s,"link",i),Ge(s),u.head.appendChild(s)))}}function H2(i){Ws.D(i),p_("dns-prefetch",i,null)}function z2(i,s){Ws.C(i,s),p_("preconnect",i,s)}function V2(i,s,o){Ws.L(i,s,o);var u=uc;if(u&&i&&s){var m='link[rel="preload"][as="'+dn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+dn(o.imageSizes)+'"]')):m+='[href="'+dn(i)+'"]';var y=m;switch(s){case"style":y=hc(i);break;case"script":y=dc(i)}xn.has(y)||(i=tt({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),xn.set(y,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(wh(y))||s==="script"&&u.querySelector(Th(y))||(s=u.createElement("link"),ii(s,"link",i),Ge(s),u.head.appendChild(s)))}}function U2(i,s){Ws.m(i,s);var o=uc;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(i)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=dc(i)}if(!xn.has(y)&&(i=tt({rel:"modulepreload",href:i},s),xn.set(y,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Th(y)))return}u=o.createElement("link"),ii(u,"link",i),Ge(u),o.head.appendChild(u)}}}function I2(i,s,o){Ws.S(i,s,o);var u=uc;if(u&&i){var m=Pl(u).hoistableStyles,y=hc(i);s=s||"default";var S=m.get(y);if(!S){var R={loading:0,preload:null};if(S=u.querySelector(wh(y)))R.loading=5;else{i=tt({rel:"stylesheet",href:i,"data-precedence":s},o),(o=xn.get(y))&&jv(i,o);var D=S=u.createElement("link");Ge(D),ii(D,"link",i),D._p=new Promise(function(B,K){D.onload=B,D.onerror=K}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Xp(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:R},m.set(y,S)}}}function G2(i,s){Ws.X(i,s);var o=uc;if(o&&i){var u=Pl(o).hoistableScripts,m=dc(i),y=u.get(m);y||(y=o.querySelector(Th(m)),y||(i=tt({src:i,async:!0},s),(s=xn.get(m))&&Bv(i,s),y=o.createElement("script"),Ge(y),ii(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function q2(i,s){Ws.M(i,s);var o=uc;if(o&&i){var u=Pl(o).hoistableScripts,m=dc(i),y=u.get(m);y||(y=o.querySelector(Th(m)),y||(i=tt({src:i,async:!0,type:"module"},s),(s=xn.get(m))&&Bv(i,s),y=o.createElement("script"),Ge(y),ii(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function m_(i,s,o,u){var m=(m=zt.current)?qp(m):null;if(!m)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=hc(o.href),o=Pl(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=hc(o.href);var y=Pl(m).hoistableStyles,S=y.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=m.querySelector(wh(i)))&&!y._p&&(S.instance=y,S.state.loading=5),xn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},xn.set(i,o),y||X2(m,i,o,S.state))),s&&u===null)throw Error(n(528,""));return S}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=dc(o),o=Pl(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function hc(i){return'href="'+dn(i)+'"'}function wh(i){return'link[rel="stylesheet"]['+i+"]"}function g_(i){return tt({},i,{"data-precedence":i.precedence,precedence:null})}function X2(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ii(s,"link",o),Ge(s),i.head.appendChild(s))}function dc(i){return'[src="'+dn(i)+'"]'}function Th(i){return"script[async]"+i}function y_(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+dn(o.href)+'"]');if(u)return s.instance=u,Ge(u),u;var m=tt({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ge(u),ii(u,"style",m),Xp(u,o.precedence,i),s.instance=u;case"stylesheet":m=hc(o.href);var y=i.querySelector(wh(m));if(y)return s.state.loading|=4,s.instance=y,Ge(y),y;u=g_(o),(m=xn.get(m))&&jv(u,m),y=(i.ownerDocument||i).createElement("link"),Ge(y);var S=y;return S._p=new Promise(function(R,D){S.onload=R,S.onerror=D}),ii(y,"link",u),s.state.loading|=4,Xp(y,o.precedence,i),s.instance=y;case"script":return y=dc(o.src),(m=i.querySelector(Th(y)))?(s.instance=m,Ge(m),m):(u=o,(m=xn.get(y))&&(u=tt({},o),Bv(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ge(m),ii(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Xp(u,o.precedence,i));return s.instance}function Xp(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,S=0;S<u.length;S++){var R=u[S];if(R.dataset.precedence===s)y=R;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function jv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Bv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Yp=null;function v_(i,s,o){if(Yp===null){var u=new Map,m=Yp=new Map;m.set(o,u)}else m=Yp,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[zu]||y[ui]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=i+S;var R=u.get(S);R?R.push(y):u.set(S,[y])}}return u}function b_(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function Y2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function A_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ch=null;function K2(){}function W2(i,s,o){if(Ch===null)throw Error(n(475));var u=Ch;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=hc(o.href),y=i.querySelector(wh(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Kp.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=y,Ge(y);return}y=i.ownerDocument||i,o=g_(o),(m=xn.get(m))&&jv(o,m),y=y.createElement("link"),Ge(y);var S=y;S._p=new Promise(function(R,D){S.onload=R,S.onerror=D}),ii(y,"link",o),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Kp.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function $2(){if(Ch===null)throw Error(n(475));var i=Ch;return i.stylesheets&&i.count===0&&Hv(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Hv(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Kp(){if(this.count--,this.count===0){if(this.stylesheets)Hv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wp=null;function Hv(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wp=new Map,s.forEach(Q2,i),Wp=null,Kp.call(i))}function Q2(i,s){if(!(s.state.loading&4)){var o=Wp.get(i);if(o)var u=o.get(null);else{o=new Map,Wp.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}m=s.instance,S=m.getAttribute("data-precedence"),y=o.get(S)||u,y===u&&o.set(null,m),o.set(S,m),this.count++,u=Kp.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Rh={$$typeof:A,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function Z2(i,s,o,u,m,y,S,R){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vg(0),this.hiddenUpdates=Vg(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function S_(i,s,o,u,m,y,S,R,D,B,K,et){return i=new Z2(i,s,o,S,R,D,B,et),s=1,y===!0&&(s|=24),y=An(3,null,null,s),i.current=y,y.stateNode=i,s=yy(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Qy(y),i}function x_(i){return i?(i=Gl,i):Gl}function E_(i,s,o,u,m,y){m=x_(m),u.context===null?u.context=m:u.pendingContext=m,u=qa(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Xa(i,u,s),o!==null&&(_i(o,i,s),hh(o,i,s))}function __(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function zv(i,s){__(i,s),(i=i.alternate)&&__(i,s)}function w_(i){if(i.tag===13){var s=Ba(i,67108864);s!==null&&_i(s,i,67108864),zv(i,67108864)}}var $p=!0;function J2(i,s,o,u){var m=G.T;G.T=null;var y=nt.p;try{nt.p=2,Vv(i,s,o,u)}finally{nt.p=y,G.T=m}}function tL(i,s,o,u){var m=G.T;G.T=null;var y=nt.p;try{nt.p=8,Vv(i,s,o,u)}finally{nt.p=y,G.T=m}}function Vv(i,s,o,u){if($p){var m=Uv(u);if(m===null)Mv(i,s,u,Qp,o),C_(i,u);else if(iL(m,i,s,o,u))u.stopPropagation();else if(C_(i,u),s&4&&-1<eL.indexOf(i)){for(;m!==null;){var y=kl(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ir(y.pendingLanes);if(S!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var D=1<<31-Gi(S);R.entanglements[1]|=D,S&=~D}cs(y),(fe&6)===0&&(Pp=un()+500,xh(0))}}break;case 13:R=Ba(y,2),R!==null&&_i(R,y,2),jp(),zv(y,2)}if(y=Uv(u),y===null&&Mv(i,s,u,Qp,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else Mv(i,s,u,null,o)}}function Uv(i){return i=Kg(i),Iv(i)}var Qp=null;function Iv(i){if(Qp=null,i=Gr(i),i!==null){var s=Z(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=xt(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Qp=i,null}function T_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zg()){case Xf:return 2;case Ls:return 8;case Os:case Dl:return 32;case Ll:return 268435456;default:return 32}default:return 32}}var Gv=!1,Ja=null,tr=null,er=null,Mh=new Map,Dh=new Map,ir=[],eL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(i,s){switch(i){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Mh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(s.pointerId)}}function Lh(i,s,o,u,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},s!==null&&(s=kl(s),s!==null&&w_(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function iL(i,s,o,u,m){switch(s){case"focusin":return Ja=Lh(Ja,i,s,o,u,m),!0;case"dragenter":return tr=Lh(tr,i,s,o,u,m),!0;case"mouseover":return er=Lh(er,i,s,o,u,m),!0;case"pointerover":var y=m.pointerId;return Mh.set(y,Lh(Mh.get(y)||null,i,s,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Dh.set(y,Lh(Dh.get(y)||null,i,s,o,u,m)),!0}return!1}function R_(i){var s=Gr(i.target);if(s!==null){var o=Z(s);if(o!==null){if(s=o.tag,s===13){if(s=xt(o),s!==null){i.blockedOn=s,$M(i.priority,function(){if(o.tag===13){var u=Wi(),m=Ba(o,u);m!==null&&_i(m,o,u),zv(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Uv(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Yg=u,o.target.dispatchEvent(u),Yg=null}else return s=kl(o),s!==null&&w_(s),i.blockedOn=o,!1;s.shift()}return!0}function M_(i,s,o){Zp(i)&&o.delete(s)}function nL(){Gv=!1,Ja!==null&&Zp(Ja)&&(Ja=null),tr!==null&&Zp(tr)&&(tr=null),er!==null&&Zp(er)&&(er=null),Mh.forEach(M_),Dh.forEach(M_)}function Jp(i,s){i.blockedOn===s&&(i.blockedOn=null,Gv||(Gv=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,nL)))}var tm=null;function D_(i){tm!==i&&(tm=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){tm===i&&(tm=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(Iv(u||o)===null)continue;break}var y=kl(o);y!==null&&(i.splice(s,3),s-=3,ky(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Oh(i){function s(D){return Jp(D,i)}Ja!==null&&Jp(Ja,i),tr!==null&&Jp(tr,i),er!==null&&Jp(er,i),Mh.forEach(s),Dh.forEach(s);for(var o=0;o<ir.length;o++){var u=ir[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ir.length&&(o=ir[0],o.blockedOn===null);)R_(o),o.blockedOn===null&&ir.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],S=m[ki]||null;if(typeof y=="function")S||D_(o);else if(S){var R=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[ki]||null)R=S.formAction;else if(Iv(m)!==null)continue}else R=S.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),D_(o)}}}function qv(i){this._internalRoot=i}em.prototype.render=qv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var o=s.current,u=Wi();E_(o,u,i,s,null,null)},em.prototype.unmount=qv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&oc(),E_(i.current,2,null,i,null,null),jp(),s[Ol]=null}};function em(i){this._internalRoot=i}em.prototype.unstable_scheduleHydration=function(i){if(i){var s=sS();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ir.length&&s!==0&&s<ir[o].priority;o++);ir.splice(o,0,i),o===0&&R_(i)}};var L_=t.version;if(L_!=="19.0.0")throw Error(n(527,L_,"19.0.0"));nt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=J(s),i=i!==null?ot(i):null,i=i===null?null:i.stateNode,i};var sL={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:Gr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{ju=im.inject(sL),Ii=im}catch{}}return Ph.createRoot=function(i,s){if(!r(i))throw Error(n(299));var o=!1,u="",m=Kx,y=Wx,S=$x,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=S_(i,1,!1,null,null,o,u,m,y,S,R,null),i[Ol]=s.current,Rv(i.nodeType===8?i.parentNode:i),new qv(s)},Ph.hydrateRoot=function(i,s,o){if(!r(i))throw Error(n(299));var u=!1,m="",y=Kx,S=Wx,R=$x,D=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),s=S_(i,1,!0,s,o??null,u,m,y,S,R,D,B),s.context=x_(null),o=s.current,u=Wi(),m=qa(u),m.callback=null,Xa(o,m,u),s.current.lanes=u,Hu(s,u),cs(s),i[Ol]=s.current,Rv(i),new em(s)},Ph.version="19.0.0",Ph}var U_;function gL(){if(U_)return Wv.exports;U_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Wv.exports=mL(),Wv.exports}var yL=gL(),H1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},I_=vl.createContext&&vl.createContext(H1),vL=["attr","size","title"];function bL(a,t){if(a==null)return{};var e=AL(a,t),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(e[n]=a[n])}return e}function AL(a,t){if(a==null)return{};var e={};for(var n in a)if(Object.prototype.hasOwnProperty.call(a,n)){if(t.indexOf(n)>=0)continue;e[n]=a[n]}return e}function qm(){return qm=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},qm.apply(this,arguments)}function G_(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),e.push.apply(e,n)}return e}function Xm(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(e),!0).forEach(function(n){SL(a,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):G_(Object(e)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(e,n))})}return a}function SL(a,t,e){return t=xL(t),t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function xL(a){var t=EL(a,"string");return typeof t=="symbol"?t:t+""}function EL(a,t){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var n=e.call(a,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function z1(a){return a&&a.map((t,e)=>vl.createElement(t.tag,Xm({key:e},t.attr),z1(t.child)))}function V1(a){return t=>vl.createElement(_L,qm({attr:Xm({},a.attr)},t),z1(a.child))}function _L(a){var t=e=>{var{attr:n,size:r,title:l}=a,c=bL(a,vL),h=r||e.size||"1em",f;return e.className&&(f=e.className),a.className&&(f=(f?f+" ":"")+a.className),vl.createElement("svg",qm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,c,{className:f,style:Xm(Xm({color:a.color||e.color},e.style),a.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&vl.createElement("title",null,l),a.children)};return I_!==void 0?vl.createElement(I_.Consumer,null,e=>t(e)):t(H1)}function wL(a){return V1({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(a)}function TL(a){return V1({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(a)}const U1=W.createContext({});function I1(a){const t=W.useRef(null);return t.current===null&&(t.current=a()),t.current}const iA=W.createContext(null),G1=W.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function CL(a=!0){const t=W.useContext(iA);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,l=W.useId();W.useEffect(()=>{a&&r(l)},[a]);const c=W.useCallback(()=>a&&n&&n(l),[l,n,a]);return!e&&n?[!1,c]:[!0]}const nA=typeof window<"u",q1=nA?W.useLayoutEffect:W.useEffect,ln=a=>a;let X1=ln;const RL={useManualTiming:!1},nm=["read","resolveKeyframes","update","preRender","render","postRender"];function ML(a,t){let e=new Set,n=new Set,r=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){c.has(g)&&(p.schedule(g),a()),g(h)}const p={schedule:(g,v=!1,b=!1)=>{const x=b&&r?e:n;return v&&c.add(g),x.has(g)||x.add(g),g},cancel:g=>{n.delete(g),c.delete(g)},process:g=>{if(h=g,r){l=!0;return}r=!0,[e,n]=[n,e],e.forEach(f),e.clear(),r=!1,l&&(l=!1,p.process(g))}};return p}const DL=40;function Y1(a,t){let e=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=nm.reduce((C,L)=>(C[L]=ML(l),C),{}),{read:h,resolveKeyframes:f,update:p,preRender:g,render:v,postRender:b}=c,A=()=>{const C=performance.now();e=!1,r.delta=n?1e3/60:Math.max(Math.min(C-r.timestamp,DL),1),r.timestamp=C,r.isProcessing=!0,h.process(r),f.process(r),p.process(r),g.process(r),v.process(r),b.process(r),r.isProcessing=!1,e&&t&&(n=!1,a(A))},x=()=>{e=!0,n=!0,r.isProcessing||a(A)};return{schedule:nm.reduce((C,L)=>{const O=c[L];return C[L]=(j,P=!1,z=!1)=>(e||x(),O.schedule(j,P,z)),C},{}),cancel:C=>{for(let L=0;L<nm.length;L++)c[nm[L]].cancel(C)},state:r,steps:c}}const{schedule:oe,cancel:Nr,state:oi,steps:Jv}=Y1(typeof requestAnimationFrame<"u"?requestAnimationFrame:ln,!0),K1=W.createContext({strict:!1}),q_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mu={};for(const a in q_)Mu[a]={isEnabled:t=>q_[a].some(e=>!!t[e])};function LL(a){for(const t in a)Mu[t]={...Mu[t],...a[t]}}const OL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ym(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||OL.has(a)}let W1=a=>!Ym(a);function kL(a){a&&(W1=t=>t.startsWith("on")?!Ym(t):a(t))}try{kL(require("@emotion/is-prop-valid").default)}catch{}function PL(a,t,e){const n={};for(const r in a)r==="values"&&typeof a.values=="object"||(W1(r)||e===!0&&Ym(r)||!t&&!Ym(r)||a.draggable&&r.startsWith("onDrag"))&&(n[r]=a[r]);return n}function NL(a){if(typeof Proxy>"u")return a;const t=new Map,e=(...n)=>a(...n);return new Proxy(e,{get:(n,r)=>r==="create"?a:(t.has(r)||t.set(r,a(r)),t.get(r))})}const Sg=W.createContext({});function xg(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function dd(a){return typeof a=="string"||Array.isArray(a)}const sA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aA=["initial",...sA];function Eg(a){return xg(a.animate)||aA.some(t=>dd(a[t]))}function $1(a){return!!(Eg(a)||a.variants)}function FL(a,t){if(Eg(a)){const{initial:e,animate:n}=a;return{initial:e===!1||dd(e)?e:void 0,animate:dd(n)?n:void 0}}return a.inherit!==!1?t:{}}function jL(a){const{initial:t,animate:e}=FL(a,W.useContext(Sg));return W.useMemo(()=>({initial:t,animate:e}),[X_(t),X_(e)])}function X_(a){return Array.isArray(a)?a.join(" "):a}const BL=Symbol.for("motionComponentSymbol");function Sc(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function HL(a,t,e){return W.useCallback(n=>{n&&a.onMount&&a.onMount(n),t&&(n?t.mount(n):t.unmount()),e&&(typeof e=="function"?e(n):Sc(e)&&(e.current=n))},[t])}const rA=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zL="framerAppearId",Q1="data-"+rA(zL),{schedule:oA}=Y1(queueMicrotask,!1),Z1=W.createContext({});function VL(a,t,e,n,r){var l,c;const{visualElement:h}=W.useContext(Sg),f=W.useContext(K1),p=W.useContext(iA),g=W.useContext(G1).reducedMotion,v=W.useRef(null);n=n||f.renderer,!v.current&&n&&(v.current=n(a,{visualState:t,parent:h,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const b=v.current,A=W.useContext(Z1);b&&!b.projection&&r&&(b.type==="html"||b.type==="svg")&&UL(v.current,e,r,A);const x=W.useRef(!1);W.useInsertionEffect(()=>{b&&x.current&&b.update(e,p)});const w=e[Q1],M=W.useRef(!!w&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,w))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,w)));return q1(()=>{b&&(x.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),oA.render(b.render),M.current&&b.animationState&&b.animationState.animateChanges())}),W.useEffect(()=>{b&&(!M.current&&b.animationState&&b.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,w)}),M.current=!1))}),b}function UL(a,t,e,n){const{layoutId:r,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:J1(a.parent)),a.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||h&&Sc(h),visualElement:a,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,layoutScroll:f,layoutRoot:p})}function J1(a){if(a)return a.options.allowProjection!==!1?a.projection:J1(a.parent)}function IL({preloadedFeatures:a,createVisualElement:t,useRender:e,useVisualState:n,Component:r}){var l,c;a&&LL(a);function h(p,g){let v;const b={...W.useContext(G1),...p,layoutId:GL(p)},{isStatic:A}=b,x=jL(p),w=n(p,A);if(!A&&nA){qL();const M=XL(b);v=M.MeasureLayout,x.visualElement=VL(r,w,b,t,M.ProjectionNode)}return F.jsxs(Sg.Provider,{value:x,children:[v&&x.visualElement?F.jsx(v,{visualElement:x.visualElement,...b}):null,e(r,p,HL(w,x.visualElement,g),w,A,x.visualElement)]})}h.displayName=`motion.${typeof r=="string"?r:`create(${(c=(l=r.displayName)!==null&&l!==void 0?l:r.name)!==null&&c!==void 0?c:""})`}`;const f=W.forwardRef(h);return f[BL]=r,f}function GL({layoutId:a}){const t=W.useContext(U1).id;return t&&a!==void 0?t+"-"+a:a}function qL(a,t){W.useContext(K1).strict}function XL(a){const{drag:t,layout:e}=Mu;if(!t&&!e)return{};const n={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(a)||e!=null&&e.isEnabled(a)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const tT=a=>t=>typeof t=="string"&&t.startsWith(a),lA=tT("--"),YL=tT("var(--"),cA=a=>YL(a)?KL.test(a.split("/*")[0].trim()):!1,KL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fd={};function WL(a){for(const t in a)fd[t]=a[t],lA(t)&&(fd[t].isCSSVariable=!0)}const ku=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(ku);function eT(a,{layout:t,layoutId:e}){return Tl.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!fd[a]||a==="opacity")}const Si=a=>!!(a&&a.getVelocity),iT=(a,t)=>t&&typeof a=="number"?t.transform(a):a,La=(a,t,e)=>e>t?t:e<a?a:e,Pu={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},pd={...Pu,transform:a=>La(0,1,a)},sm={...Pu,default:1},jf=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),sr=jf("deg"),Ms=jf("%"),At=jf("px"),$L=jf("vh"),QL=jf("vw"),Y_={...Ms,parse:a=>Ms.parse(a)/100,transform:a=>Ms.transform(a*100)},ZL={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At},JL={rotate:sr,rotateX:sr,rotateY:sr,rotateZ:sr,scale:sm,scaleX:sm,scaleY:sm,scaleZ:sm,skew:sr,skewX:sr,skewY:sr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:pd,originX:Y_,originY:Y_,originZ:At},K_={...Pu,transform:Math.round},uA={...ZL,...JL,zIndex:K_,size:At,fillOpacity:pd,strokeOpacity:pd,numOctaves:K_},tO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eO=ku.length;function iO(a,t,e){let n="",r=!0;for(let l=0;l<eO;l++){const c=ku[l],h=a[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||e){const p=iT(h,uA[c]);if(!f){r=!1;const g=tO[c]||c;n+=`${g}(${p}) `}e&&(t[c]=p)}}return n=n.trim(),e?n=e(t,r?"":n):r&&(n="none"),n}function hA(a,t,e){const{style:n,vars:r,transformOrigin:l}=a;let c=!1,h=!1;for(const f in t){const p=t[f];if(Tl.has(f)){c=!0;continue}else if(lA(f)){r[f]=p;continue}else{const g=iT(p,uA[f]);f.startsWith("origin")?(h=!0,l[f]=g):n[f]=g}}if(t.transform||(c||e?n.transform=iO(t,a.transform,e):n.transform&&(n.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;n.transformOrigin=`${f} ${p} ${g}`}}const dA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nT(a,t,e){for(const n in t)!Si(t[n])&&!eT(n,e)&&(a[n]=t[n])}function nO({transformTemplate:a},t){return W.useMemo(()=>{const e=dA();return hA(e,t,a),Object.assign({},e.vars,e.style)},[t])}function sO(a,t){const e=a.style||{},n={};return nT(n,e,a),Object.assign(n,nO(a,t)),n}function aO(a,t){const e={},n=sO(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=n,e}const rO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fA(a){return typeof a!="string"||a.includes("-")?!1:!!(rO.indexOf(a)>-1||/[A-Z]/u.test(a))}const oO={offset:"stroke-dashoffset",array:"stroke-dasharray"},lO={offset:"strokeDashoffset",array:"strokeDasharray"};function cO(a,t,e=1,n=0,r=!0){a.pathLength=1;const l=r?oO:lO;a[l.offset]=At.transform(-n);const c=At.transform(t),h=At.transform(e);a[l.array]=`${c} ${h}`}function W_(a,t,e){return typeof a=="string"?a:At.transform(t+e*a)}function uO(a,t,e){const n=W_(t,a.x,a.width),r=W_(e,a.y,a.height);return`${n} ${r}`}function pA(a,{attrX:t,attrY:e,attrScale:n,originX:r,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:f=0,...p},g,v){if(hA(a,p,v),g){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:b,style:A,dimensions:x}=a;b.transform&&(x&&(A.transform=b.transform),delete b.transform),x&&(r!==void 0||l!==void 0||A.transform)&&(A.transformOrigin=uO(x,r!==void 0?r:.5,l!==void 0?l:.5)),t!==void 0&&(b.x=t),e!==void 0&&(b.y=e),n!==void 0&&(b.scale=n),c!==void 0&&cO(b,c,h,f,!1)}const sT=()=>({...dA(),attrs:{}}),mA=a=>typeof a=="string"&&a.toLowerCase()==="svg";function hO(a,t,e,n){const r=W.useMemo(()=>{const l=sT();return pA(l,t,mA(n),a.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(a.style){const l={};nT(l,a.style,a),r.style={...l,...r.style}}return r}function dO(a=!1){return(e,n,r,{latestValues:l},c)=>{const f=(fA(e)?hO:aO)(n,l,c,e),p=PL(n,typeof e=="string",a),g=e!==W.Fragment?{...p,...f,ref:r}:{},{children:v}=n,b=W.useMemo(()=>Si(v)?v.get():v,[v]);return W.createElement(e,{...g,children:b})}}function $_(a){const t=[{},{}];return a==null||a.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function gA(a,t,e,n){if(typeof t=="function"){const[r,l]=$_(n);t=t(e!==void 0?e:a.custom,r,l)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,l]=$_(n);t=t(e!==void 0?e:a.custom,r,l)}return t}const v0=a=>Array.isArray(a),fO=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),pO=a=>v0(a)?a[a.length-1]||0:a;function dm(a){const t=Si(a)?a.get():a;return fO(t)?t.toValue():t}function mO({scrapeMotionValuesFromProps:a,createRenderState:t,onUpdate:e},n,r,l){const c={latestValues:gO(n,r,l,a),renderState:t()};return e&&(c.onMount=h=>e({props:n,current:h,...c}),c.onUpdate=h=>e(h)),c}const aT=a=>(t,e)=>{const n=W.useContext(Sg),r=W.useContext(iA),l=()=>mO(a,t,n,r);return e?l():I1(l)};function gO(a,t,e,n){const r={},l=n(a,{});for(const b in l)r[b]=dm(l[b]);let{initial:c,animate:h}=a;const f=Eg(a),p=$1(a);t&&p&&!f&&a.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let g=e?e.initial===!1:!1;g=g||c===!1;const v=g?h:c;if(v&&typeof v!="boolean"&&!xg(v)){const b=Array.isArray(v)?v:[v];for(let A=0;A<b.length;A++){const x=gA(a,b[A]);if(x){const{transitionEnd:w,transition:M,...C}=x;for(const L in C){let O=C[L];if(Array.isArray(O)){const j=g?O.length-1:0;O=O[j]}O!==null&&(r[L]=O)}for(const L in w)r[L]=w[L]}}}return r}function yA(a,t,e){var n;const{style:r}=a,l={};for(const c in r)(Si(r[c])||t.style&&Si(t.style[c])||eT(c,a)||((n=e==null?void 0:e.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(l[c]=r[c]);return l}const yO={useVisualState:aT({scrapeMotionValuesFromProps:yA,createRenderState:dA})};function rT(a,t){try{t.dimensions=typeof a.getBBox=="function"?a.getBBox():a.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function oT(a,{style:t,vars:e},n,r){Object.assign(a.style,t,r&&r.getProjectionStyles(n));for(const l in e)a.style.setProperty(l,e[l])}const lT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cT(a,t,e,n){oT(a,t,void 0,n);for(const r in t.attrs)a.setAttribute(lT.has(r)?r:rA(r),t.attrs[r])}function uT(a,t,e){const n=yA(a,t,e);for(const r in a)if(Si(a[r])||Si(t[r])){const l=ku.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[l]=a[r]}return n}const Q_=["x","y","width","height","cx","cy","r"],vO={useVisualState:aT({scrapeMotionValuesFromProps:uT,createRenderState:sT,onUpdate:({props:a,prevProps:t,current:e,renderState:n,latestValues:r})=>{if(!e)return;let l=!!a.drag;if(!l){for(const h in r)if(Tl.has(h)){l=!0;break}}if(!l)return;let c=!t;if(t)for(let h=0;h<Q_.length;h++){const f=Q_[h];a[f]!==t[f]&&(c=!0)}c&&oe.read(()=>{rT(e,n),oe.render(()=>{pA(n,r,mA(e.tagName),a.transformTemplate),cT(e,n)})})}})};function bO(a,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){const c={...fA(n)?vO:yO,preloadedFeatures:a,useRender:dO(r),createVisualElement:t,Component:n};return IL(c)}}function md(a,t,e){const n=a.getProps();return gA(n,t,e!==void 0?e:n.custom,a)}function vA(a,t){return a?a[t]||a.default||a:void 0}const hT=new Set(["width","height","top","left","right","bottom",...ku]);let fm;function AO(){fm=void 0}const Ds={now:()=>(fm===void 0&&Ds.set(oi.isProcessing||RL.useManualTiming?oi.timestamp:performance.now()),fm),set:a=>{fm=a,queueMicrotask(AO)}};function bA(a,t){a.indexOf(t)===-1&&a.push(t)}function AA(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}class SA{constructor(){this.subscriptions=[]}add(t){return bA(this.subscriptions,t),()=>AA(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,n);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dT(a,t){return t?a*(1e3/t):0}const Z_=30,SO=a=>!isNaN(parseFloat(a));class xO{constructor(t,e={}){this.version="12.4.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{const l=Ds.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ds.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new SA);const n=this.events[t].add(e);return t==="change"?()=>{n(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Z_)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Z_);return dT(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gd(a,t){return new xO(a,t)}function EO(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,gd(e))}function xA(a,t){const e=md(a,t);let{transitionEnd:n={},transition:r={},...l}=e||{};l={...l,...n};for(const c in l){const h=pO(l[c]);EO(a,c,h)}}function _O(a){return!!(Si(a)&&a.add)}function b0(a,t){const e=a.getValue("willChange");if(_O(e))return e.add(t)}function fT(a){return a.props[Q1]}function EA(a){let t;return()=>(t===void 0&&(t=a()),t)}const wO=EA(()=>window.ScrollTimeline!==void 0);class TO{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map(r=>{if(wO()&&r.attachTimeline)return r.attachTimeline(t);if(typeof e=="function")return e(r)});return()=>{n.forEach((r,l)=>{r&&r(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class CO extends TO{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}const Ta=a=>a*1e3,Ca=a=>a/1e3;function _A(a){return typeof a=="function"}function J_(a,t){a.timeline=t,a.onfinish=null}const wA=a=>Array.isArray(a)&&typeof a[0]=="number",RO={linearEasing:void 0};function MO(a,t){const e=EA(a);return()=>{var n;return(n=RO[t])!==null&&n!==void 0?n:e()}}const Km=MO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Du=(a,t,e)=>{const n=t-a;return n===0?1:(e-a)/n},pT=(a,t,e=10)=>{let n="";const r=Math.max(Math.round(t/e),2);for(let l=0;l<r;l++)n+=a(Du(0,r-1,l))+", ";return`linear(${n.substring(0,n.length-2)})`};function mT(a){return!!(typeof a=="function"&&Km()||!a||typeof a=="string"&&(a in A0||Km())||wA(a)||Array.isArray(a)&&a.every(mT))}const Hh=([a,t,e,n])=>`cubic-bezier(${a}, ${t}, ${e}, ${n})`,A0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hh([0,.65,.55,1]),circOut:Hh([.55,0,1,.45]),backIn:Hh([.31,.01,.66,-.59]),backOut:Hh([.33,1.53,.69,.99])};function gT(a,t){if(a)return typeof a=="function"&&Km()?pT(a,t):wA(a)?Hh(a):Array.isArray(a)?a.map(e=>gT(e,t)||A0.easeOut):A0[a]}const yT=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,DO=1e-7,LO=12;function OO(a,t,e,n,r){let l,c,h=0;do c=t+(e-t)/2,l=yT(c,n,r)-a,l>0?e=c:t=c;while(Math.abs(l)>DO&&++h<LO);return c}function Bf(a,t,e,n){if(a===t&&e===n)return ln;const r=l=>OO(l,0,1,a,e);return l=>l===0||l===1?l:yT(r(l),t,n)}const vT=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,bT=a=>t=>1-a(1-t),AT=Bf(.33,1.53,.69,.99),TA=bT(AT),ST=vT(TA),xT=a=>(a*=2)<1?.5*TA(a):.5*(2-Math.pow(2,-10*(a-1))),CA=a=>1-Math.sin(Math.acos(a)),ET=bT(CA),_T=vT(CA),wT=a=>/^0[^.\s]+$/u.test(a);function kO(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||wT(a):!0}const nd=a=>Math.round(a*1e5)/1e5,RA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PO(a){return a==null}const NO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MA=(a,t)=>e=>!!(typeof e=="string"&&NO.test(e)&&e.startsWith(a)||t&&!PO(e)&&Object.prototype.hasOwnProperty.call(e,t)),TT=(a,t,e)=>n=>{if(typeof n!="string")return n;const[r,l,c,h]=n.match(RA);return{[a]:parseFloat(r),[t]:parseFloat(l),[e]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},FO=a=>La(0,255,a),t0={...Pu,transform:a=>Math.round(FO(a))},So={test:MA("rgb","red"),parse:TT("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:n=1})=>"rgba("+t0.transform(a)+", "+t0.transform(t)+", "+t0.transform(e)+", "+nd(pd.transform(n))+")"};function jO(a){let t="",e="",n="",r="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),n=a.substring(5,7),r=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),n=a.substring(3,4),r=a.substring(4,5),t+=t,e+=e,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const S0={test:MA("#"),parse:jO,transform:So.transform},xc={test:MA("hsl","hue"),parse:TT("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(a)+", "+Ms.transform(nd(t))+", "+Ms.transform(nd(e))+", "+nd(pd.transform(n))+")"},bi={test:a=>So.test(a)||S0.test(a)||xc.test(a),parse:a=>So.test(a)?So.parse(a):xc.test(a)?xc.parse(a):S0.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?So.transform(a):xc.transform(a)},BO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HO(a){var t,e;return isNaN(a)&&typeof a=="string"&&(((t=a.match(RA))===null||t===void 0?void 0:t.length)||0)+(((e=a.match(BO))===null||e===void 0?void 0:e.length)||0)>0}const CT="number",RT="color",zO="var",VO="var(",tw="${}",UO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yd(a){const t=a.toString(),e=[],n={color:[],number:[],var:[]},r=[];let l=0;const h=t.replace(UO,f=>(bi.test(f)?(n.color.push(l),r.push(RT),e.push(bi.parse(f))):f.startsWith(VO)?(n.var.push(l),r.push(zO),e.push(f)):(n.number.push(l),r.push(CT),e.push(parseFloat(f))),++l,tw)).split(tw);return{values:e,split:h,indexes:n,types:r}}function MT(a){return yd(a).values}function DT(a){const{split:t,types:e}=yd(a),n=t.length;return r=>{let l="";for(let c=0;c<n;c++)if(l+=t[c],r[c]!==void 0){const h=e[c];h===CT?l+=nd(r[c]):h===RT?l+=bi.transform(r[c]):l+=r[c]}return l}}const IO=a=>typeof a=="number"?0:a;function GO(a){const t=MT(a);return DT(a)(t.map(IO))}const Fr={test:HO,parse:MT,createTransformer:DT,getAnimatableNone:GO},qO=new Set(["brightness","contrast","saturate","opacity"]);function XO(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[n]=e.match(RA)||[];if(!n)return a;const r=e.replace(n,"");let l=qO.has(t)?1:0;return n!==e&&(l*=100),t+"("+l+r+")"}const YO=/\b([a-z-]*)\(.*?\)/gu,x0={...Fr,getAnimatableNone:a=>{const t=a.match(YO);return t?t.map(XO).join(" "):a}},KO={...uA,color:bi,backgroundColor:bi,outlineColor:bi,fill:bi,stroke:bi,borderColor:bi,borderTopColor:bi,borderRightColor:bi,borderBottomColor:bi,borderLeftColor:bi,filter:x0,WebkitFilter:x0},DA=a=>KO[a];function LT(a,t){let e=DA(a);return e!==x0&&(e=Fr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const WO=new Set(["auto","none","0"]);function $O(a,t,e){let n=0,r;for(;n<a.length&&!r;){const l=a[n];typeof l=="string"&&!WO.has(l)&&yd(l).values.length&&(r=a[n]),n++}if(r&&e)for(const l of t)a[l]=LT(e,r)}const ew=a=>a===Pu||a===At,iw=(a,t)=>parseFloat(a.split(", ")[t]),nw=(a,t)=>(e,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/u);if(r)return iw(r[1],t);{const l=n.match(/^matrix\((.+)\)$/u);return l?iw(l[1],a):0}},QO=new Set(["x","y","z"]),ZO=ku.filter(a=>!QO.has(a));function JO(a){const t=[];return ZO.forEach(e=>{const n=a.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const Lu={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:nw(4,13),y:nw(5,14)};Lu.translateX=Lu.x;Lu.translateY=Lu.y;const bl=new Set;let E0=!1,_0=!1;function OT(){if(_0){const a=Array.from(bl).filter(n=>n.needsMeasurement),t=new Set(a.map(n=>n.element)),e=new Map;t.forEach(n=>{const r=JO(n);r.length&&(e.set(n,r),n.render())}),a.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=e.get(n);r&&r.forEach(([l,c])=>{var h;(h=n.getValue(l))===null||h===void 0||h.set(c)})}),a.forEach(n=>n.measureEndState()),a.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}_0=!1,E0=!1,bl.forEach(a=>a.complete()),bl.clear()}function kT(){bl.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(_0=!0)})}function tk(){kT(),OT()}class LA{constructor(t,e,n,r,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bl.add(this),E0||(E0=!0,oe.read(kT),oe.resolveKeyframes(OT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const c=r==null?void 0:r.get(),h=t[t.length-1];if(c!==void 0)t[0]=c;else if(n&&e){const f=n.readValue(e,h);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=h),r&&c===void 0&&r.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const PT=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),ek=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ik(a){const t=ek.exec(a);if(!t)return[,];const[,e,n,r]=t;return[`--${e??n}`,r]}function NT(a,t,e=1){const[n,r]=ik(a);if(!n)return;const l=window.getComputedStyle(t).getPropertyValue(n);if(l){const c=l.trim();return PT(c)?parseFloat(c):c}return cA(r)?NT(r,t,e+1):r}const FT=a=>t=>t.test(a),nk={test:a=>a==="auto",parse:a=>a},jT=[Pu,At,Ms,sr,QL,$L,nk],sw=a=>jT.find(FT(a));class BT extends LA{constructor(t,e,n,r,l){super(t,e,n,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),cA(p))){const g=NT(p,e.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!hT.has(n)||t.length!==2)return;const[r,l]=t,c=sw(r),h=sw(l);if(c!==h)if(ew(c)&&ew(h))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)kO(t[r])&&n.push(r);n.length&&$O(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const c=r.length-1,h=r[c];r[c]=Lu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const aw=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Fr.test(a)||a==="0")&&!a.startsWith("url("));function sk(a){const t=a[0];if(a.length===1)return!0;for(let e=0;e<a.length;e++)if(a[e]!==t)return!0}function ak(a,t,e,n){const r=a[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const l=a[a.length-1],c=aw(r,t),h=aw(l,t);return!c||!h?!1:sk(a)||(e==="spring"||_A(e))&&n}const rk=a=>a!==null;function _g(a,{repeat:t,repeatType:e="loop"},n){const r=a.filter(rk),l=t&&e!=="loop"&&t%2===1?0:r.length-1;return!l||n===void 0?r[l]:n}const ok=40;class HT{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ds.now(),this.options={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ok?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tk(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Ds.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:l,delay:c,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!ak(t,n,r,l))if(c)this.options.duration=0;else{f&&f(_g(t,this.options,e)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(t,e);g!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...g},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const w0=2e4;function zT(a){let t=0;const e=50;let n=a.next(t);for(;!n.done&&t<w0;)t+=e,n=a.next(t);return t>=w0?1/0:t}const ve=(a,t,e)=>a+(t-a)*e;function e0(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function lk({hue:a,saturation:t,lightness:e,alpha:n}){a/=360,t/=100,e/=100;let r=0,l=0,c=0;if(!t)r=l=c=e;else{const h=e<.5?e*(1+t):e+t-e*t,f=2*e-h;r=e0(f,h,a+1/3),l=e0(f,h,a),c=e0(f,h,a-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function Wm(a,t){return e=>e>0?t:a}const i0=(a,t,e)=>{const n=a*a,r=e*(t*t-n)+n;return r<0?0:Math.sqrt(r)},ck=[S0,So,xc],uk=a=>ck.find(t=>t.test(a));function rw(a){const t=uk(a);if(!t)return!1;let e=t.parse(a);return t===xc&&(e=lk(e)),e}const ow=(a,t)=>{const e=rw(a),n=rw(t);if(!e||!n)return Wm(a,t);const r={...e};return l=>(r.red=i0(e.red,n.red,l),r.green=i0(e.green,n.green,l),r.blue=i0(e.blue,n.blue,l),r.alpha=ve(e.alpha,n.alpha,l),So.transform(r))},hk=(a,t)=>e=>t(a(e)),Hf=(...a)=>a.reduce(hk),T0=new Set(["none","hidden"]);function dk(a,t){return T0.has(a)?e=>e<=0?a:t:e=>e>=1?t:a}function fk(a,t){return e=>ve(a,t,e)}function OA(a){return typeof a=="number"?fk:typeof a=="string"?cA(a)?Wm:bi.test(a)?ow:gk:Array.isArray(a)?VT:typeof a=="object"?bi.test(a)?ow:pk:Wm}function VT(a,t){const e=[...a],n=e.length,r=a.map((l,c)=>OA(l)(l,t[c]));return l=>{for(let c=0;c<n;c++)e[c]=r[c](l);return e}}function pk(a,t){const e={...a,...t},n={};for(const r in e)a[r]!==void 0&&t[r]!==void 0&&(n[r]=OA(a[r])(a[r],t[r]));return r=>{for(const l in n)e[l]=n[l](r);return e}}function mk(a,t){var e;const n=[],r={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],h=a.indexes[c][r[c]],f=(e=a.values[h])!==null&&e!==void 0?e:0;n[l]=f,r[c]++}return n}const gk=(a,t)=>{const e=Fr.createTransformer(t),n=yd(a),r=yd(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?T0.has(a)&&!r.values.length||T0.has(t)&&!n.values.length?dk(a,t):Hf(VT(mk(n,r),r.values),e):Wm(a,t)};function UT(a,t,e){return typeof a=="number"&&typeof t=="number"&&typeof e=="number"?ve(a,t,e):OA(a)(a,t)}const yk=5;function IT(a,t,e){const n=Math.max(t-yk,0);return dT(e-a(n),t-n)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lw=.001;function vk({duration:a=_e.duration,bounce:t=_e.bounce,velocity:e=_e.velocity,mass:n=_e.mass}){let r,l,c=1-t;c=La(_e.minDamping,_e.maxDamping,c),a=La(_e.minDuration,_e.maxDuration,Ca(a)),c<1?(r=p=>{const g=p*c,v=g*a,b=g-e,A=C0(p,c),x=Math.exp(-v);return lw-b/A*x},l=p=>{const v=p*c*a,b=v*e+e,A=Math.pow(c,2)*Math.pow(p,2)*a,x=Math.exp(-v),w=C0(Math.pow(p,2),c);return(-r(p)+lw>0?-1:1)*((b-A)*x)/w}):(r=p=>{const g=Math.exp(-p*a),v=(p-e)*a+1;return-.001+g*v},l=p=>{const g=Math.exp(-p*a),v=(e-p)*(a*a);return g*v});const h=5/a,f=Ak(r,l,h);if(a=Ta(a),isNaN(f))return{stiffness:_e.stiffness,damping:_e.damping,duration:a};{const p=Math.pow(f,2)*n;return{stiffness:p,damping:c*2*Math.sqrt(n*p),duration:a}}}const bk=12;function Ak(a,t,e){let n=e;for(let r=1;r<bk;r++)n=n-a(n)/t(n);return n}function C0(a,t){return a*Math.sqrt(1-t*t)}const Sk=["duration","bounce"],xk=["stiffness","damping","mass"];function cw(a,t){return t.some(e=>a[e]!==void 0)}function Ek(a){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...a};if(!cw(a,xk)&&cw(a,Sk))if(a.visualDuration){const e=a.visualDuration,n=2*Math.PI/(e*1.2),r=n*n,l=2*La(.05,1,1-(a.bounce||0))*Math.sqrt(r);t={...t,mass:_e.mass,stiffness:r,damping:l}}else{const e=vk(a);t={...t,...e,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function GT(a=_e.visualDuration,t=_e.bounce){const e=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:n,restDelta:r}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:v,velocity:b,isResolvedFromDuration:A}=Ek({...e,velocity:-Ca(e.velocity||0)}),x=b||0,w=p/(2*Math.sqrt(f*g)),M=c-l,C=Ca(Math.sqrt(f/g)),L=Math.abs(M)<5;n||(n=L?_e.restSpeed.granular:_e.restSpeed.default),r||(r=L?_e.restDelta.granular:_e.restDelta.default);let O;if(w<1){const P=C0(C,w);O=z=>{const q=Math.exp(-w*C*z);return c-q*((x+w*C*M)/P*Math.sin(P*z)+M*Math.cos(P*z))}}else if(w===1)O=P=>c-Math.exp(-C*P)*(M+(x+C*M)*P);else{const P=C*Math.sqrt(w*w-1);O=z=>{const q=Math.exp(-w*C*z),I=Math.min(P*z,300);return c-q*((x+w*C*M)*Math.sinh(I)+P*M*Math.cosh(I))/P}}const j={calculatedDuration:A&&v||null,next:P=>{const z=O(P);if(A)h.done=P>=v;else{let q=0;w<1&&(q=P===0?Ta(x):IT(O,P,z));const I=Math.abs(q)<=n,G=Math.abs(c-z)<=r;h.done=I&&G}return h.value=h.done?c:z,h},toString:()=>{const P=Math.min(zT(j),w0),z=pT(q=>j.next(P*q).value,P,30);return P+"ms "+z}};return j}function uw({keyframes:a,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:p=.5,restSpeed:g}){const v=a[0],b={done:!1,value:v},A=I=>h!==void 0&&I<h||f!==void 0&&I>f,x=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let w=e*t;const M=v+w,C=c===void 0?M:c(M);C!==M&&(w=C-v);const L=I=>-w*Math.exp(-I/n),O=I=>C+L(I),j=I=>{const G=L(I),tt=O(I);b.done=Math.abs(G)<=p,b.value=b.done?C:tt};let P,z;const q=I=>{A(b.value)&&(P=I,z=GT({keyframes:[b.value,x(b.value)],velocity:IT(O,I,b.value),damping:r,stiffness:l,restDelta:p,restSpeed:g}))};return q(0),{calculatedDuration:null,next:I=>{let G=!1;return!z&&P===void 0&&(G=!0,j(I),q(I)),P!==void 0&&I>=P?z.next(I-P):(!G&&j(I),b)}}}const _k=Bf(.42,0,1,1),wk=Bf(0,0,.58,1),qT=Bf(.42,0,.58,1),Tk=a=>Array.isArray(a)&&typeof a[0]!="number",Ck={linear:ln,easeIn:_k,easeInOut:qT,easeOut:wk,circIn:CA,circInOut:_T,circOut:ET,backIn:TA,backInOut:ST,backOut:AT,anticipate:xT},hw=a=>{if(wA(a)){X1(a.length===4);const[t,e,n,r]=a;return Bf(t,e,n,r)}else if(typeof a=="string")return Ck[a];return a};function Rk(a,t,e){const n=[],r=e||UT,l=a.length-1;for(let c=0;c<l;c++){let h=r(a[c],a[c+1]);if(t){const f=Array.isArray(t)?t[c]||ln:t;h=Hf(f,h)}n.push(h)}return n}function Mk(a,t,{clamp:e=!0,ease:n,mixer:r}={}){const l=a.length;if(X1(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=a[0]===a[1];a[0]>a[l-1]&&(a=[...a].reverse(),t=[...t].reverse());const h=Rk(t,n,r),f=h.length,p=g=>{if(c&&g<a[0])return t[0];let v=0;if(f>1)for(;v<a.length-2&&!(g<a[v+1]);v++);const b=Du(a[v],a[v+1],g);return h[v](b)};return e?g=>p(La(a[0],a[l-1],g)):p}function Dk(a,t){const e=a[a.length-1];for(let n=1;n<=t;n++){const r=Du(0,t,n);a.push(ve(e,1,r))}}function Lk(a){const t=[0];return Dk(t,a.length-1),t}function Ok(a,t){return a.map(e=>e*t)}function kk(a,t){return a.map(()=>t||qT).splice(0,a.length-1)}function $m({duration:a=300,keyframes:t,times:e,ease:n="easeInOut"}){const r=Tk(n)?n.map(hw):hw(n),l={done:!1,value:t[0]},c=Ok(e&&e.length===t.length?e:Lk(t),a),h=Mk(c,t,{ease:Array.isArray(r)?r:kk(t,r)});return{calculatedDuration:a,next:f=>(l.value=h(f),l.done=f>=a,l)}}const Pk=a=>{const t=({timestamp:e})=>a(e);return{start:()=>oe.update(t,!0),stop:()=>Nr(t),now:()=>oi.isProcessing?oi.timestamp:Ds.now()}},Nk={decay:uw,inertia:uw,tween:$m,keyframes:$m,spring:GT},Fk=a=>a/100;class kA extends HT{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:e,motionValue:n,element:r,keyframes:l}=this.options,c=(r==null?void 0:r.KeyframeResolver)||LA,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new c(l,h,e,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=this.options,h=_A(e)?e:Nk[e]||$m;let f,p;h!==$m&&typeof t[0]!="number"&&(f=Hf(Fk,UT(t[0],t[1])),t=[0,100]);const g=h({...this.options,keyframes:t});l==="mirror"&&(p=h({...this.options,keyframes:[...t].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=zT(g));const{calculatedDuration:v}=g,b=v+r,A=b*(n+1)-r;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:b,totalDuration:A}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:r,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:v}=n;if(this.startTime===null)return l.next(0);const{delay:b,repeat:A,repeatType:x,repeatDelay:w,onUpdate:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-g/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-b*(this.speed>=0?1:-1),L=this.speed>=0?C<0:C>g;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let O=this.currentTime,j=l;if(A){const I=Math.min(this.currentTime,g)/v;let G=Math.floor(I),tt=I%1;!tt&&I>=1&&(tt=1),tt===1&&G--,G=Math.min(G,A+1),!!(G%2)&&(x==="reverse"?(tt=1-tt,w&&(tt-=w/v)):x==="mirror"&&(j=c)),O=La(0,1,tt)*v}const P=L?{done:!1,value:f[0]}:j.next(O);h&&(P.value=h(P.value));let{done:z}=P;!L&&p!==null&&(z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return q&&r!==void 0&&(P.value=_g(f,this.options,r)),M&&M(P.value),q&&this.finish(),P}get duration(){const{resolved:t}=this;return t?Ca(t.calculatedDuration):0}get time(){return Ca(this.currentTime)}set time(t){t=Ta(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ca(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Pk,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),e&&e();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const jk=new Set(["opacity","clipPath","filter","transform"]);function Bk(a,t,e,{delay:n=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:f}={}){const p={[t]:e};f&&(p.offset=f);const g=gT(h,r);return Array.isArray(g)&&(p.easing=g),a.animate(p,{delay:n,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const Hk=EA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qm=10,zk=2e4;function Vk(a){return _A(a.type)||a.type==="spring"||!mT(a.ease)}function Uk(a,t){const e=new kA({...t,keyframes:a,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:a[0]};const r=[];let l=0;for(;!n.done&&l<zk;)n=e.sample(l),r.push(n.value),l+=Qm;return{times:void 0,keyframes:r,duration:l-Qm,ease:"linear"}}const XT={anticipate:xT,backInOut:ST,circInOut:_T};function Ik(a){return a in XT}class dw extends HT{constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:l}=this.options;this.resolver=new BT(l,(c,h)=>this.onKeyframesResolved(c,h),e,n,r),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:n=300,times:r,ease:l,type:c,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Km()&&Ik(l)&&(l=XT[l]),Vk(this.options)){const{onComplete:v,onUpdate:b,motionValue:A,element:x,...w}=this.options,M=Uk(t,w);t=M.keyframes,t.length===1&&(t[1]=t[0]),n=M.duration,r=M.times,l=M.ease,c="keyframes"}const g=Bk(h.owner.current,f,t,{...this.options,duration:n,times:r,ease:l});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(J_(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;h.set(_g(t,this.options,e)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:n,times:r,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Ca(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Ca(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Ta(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return ln;const{animation:n}=e;J_(n,t)}return ln}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:l,ease:c,times:h}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:v,element:b,...A}=this.options,x=new kA({...A,keyframes:n,duration:r,type:l,ease:c,times:h,isGenerator:!0}),w=Ta(this.time);p.setWithVelocity(x.sample(w-Qm).value,x.sample(w).value,Qm)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:l,damping:c,type:h}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return Hk()&&n&&jk.has(n)&&!f&&!p&&!r&&l!=="mirror"&&c!==0&&h!=="inertia"}}const Gk={type:"spring",stiffness:500,damping:25,restSpeed:10},qk=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),Xk={type:"keyframes",duration:.8},Yk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kk=(a,{keyframes:t})=>t.length>2?Xk:Tl.has(a)?a.startsWith("scale")?qk(t[1]):Gk:Yk;function Wk({when:a,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const PA=(a,t,e,n={},r,l)=>c=>{const h=vA(n,a)||{},f=h.delay||n.delay||0;let{elapsed:p=0}=n;p=p-Ta(f);let g={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:b=>{t.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:a,motionValue:t,element:l?void 0:r};Wk(h)||(g={...g,...Kk(a,g)}),g.duration&&(g.duration=Ta(g.duration)),g.repeatDelay&&(g.repeatDelay=Ta(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!l&&t.get()!==void 0){const b=_g(g.keyframes,h);if(b!==void 0)return oe.update(()=>{g.onUpdate(b),g.onComplete()}),new CO([])}return!l&&dw.supports(g)?new dw(g):new kA(g)};function $k({protectedKeys:a,needsAnimating:t},e){const n=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function YT(a,t,{delay:e=0,transitionOverride:n,type:r}={}){var l;let{transition:c=a.getDefaultTransition(),transitionEnd:h,...f}=t;n&&(c=n);const p=[],g=r&&a.animationState&&a.animationState.getState()[r];for(const v in f){const b=a.getValue(v,(l=a.latestValues[v])!==null&&l!==void 0?l:null),A=f[v];if(A===void 0||g&&$k(g,v))continue;const x={delay:e,...vA(c||{},v)};let w=!1;if(window.MotionHandoffAnimation){const C=fT(a);if(C){const L=window.MotionHandoffAnimation(C,v,oe);L!==null&&(x.startTime=L,w=!0)}}b0(a,v),b.start(PA(v,b,A,a.shouldReduceMotion&&hT.has(v)?{type:!1}:x,a,w));const M=b.animation;M&&p.push(M)}return h&&Promise.all(p).then(()=>{oe.update(()=>{h&&xA(a,h)})}),p}function R0(a,t,e={}){var n;const r=md(a,t,e.type==="exit"?(n=a.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:l=a.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(l=e.transitionOverride);const c=r?()=>Promise.all(YT(a,r,e)):()=>Promise.resolve(),h=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=l;return Qk(a,t,g+p,v,b,e)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,g]=f==="beforeChildren"?[c,h]:[h,c];return p().then(()=>g())}else return Promise.all([c(),h(e.delay)])}function Qk(a,t,e=0,n=0,r=1,l){const c=[],h=(a.variantChildren.size-1)*n,f=r===1?(p=0)=>p*n:(p=0)=>h-p*n;return Array.from(a.variantChildren).sort(Zk).forEach((p,g)=>{p.notify("AnimationStart",t),c.push(R0(p,t,{...l,delay:e+f(g)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function Zk(a,t){return a.sortNodePosition(t)}function KT(a,t,e={}){a.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(l=>R0(a,l,e));n=Promise.all(r)}else if(typeof t=="string")n=R0(a,t,e);else{const r=typeof t=="function"?md(a,t,e.custom):t;n=Promise.all(YT(a,r,e))}return n.then(()=>{a.notify("AnimationComplete",t)})}function WT(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let n=0;n<e;n++)if(t[n]!==a[n])return!1;return!0}const Jk=aA.length;function $T(a){if(!a)return;if(!a.isControllingVariants){const e=a.parent?$T(a.parent)||{}:{};return a.props.initial!==void 0&&(e.initial=a.props.initial),e}const t={};for(let e=0;e<Jk;e++){const n=aA[e],r=a.props[n];(dd(r)||r===!1)&&(t[n]=r)}return t}const tP=[...sA].reverse(),eP=sA.length;function iP(a){return t=>Promise.all(t.map(({animation:e,options:n})=>KT(a,e,n)))}function nP(a){let t=iP(a),e=fw(),n=!0;const r=f=>(p,g)=>{var v;const b=md(a,g,f==="exit"?(v=a.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(b){const{transition:A,transitionEnd:x,...w}=b;p={...p,...w,...x}}return p};function l(f){t=f(a)}function c(f){const{props:p}=a,g=$T(a.parent)||{},v=[],b=new Set;let A={},x=1/0;for(let M=0;M<eP;M++){const C=tP[M],L=e[C],O=p[C]!==void 0?p[C]:g[C],j=dd(O),P=C===f?L.isActive:null;P===!1&&(x=M);let z=O===g[C]&&O!==p[C]&&j;if(z&&n&&a.manuallyAnimateOnMount&&(z=!1),L.protectedKeys={...A},!L.isActive&&P===null||!O&&!L.prevProp||xg(O)||typeof O=="boolean")continue;const q=sP(L.prevProp,O);let I=q||C===f&&L.isActive&&!z&&j||M>x&&j,G=!1;const tt=Array.isArray(O)?O:[O];let it=tt.reduce(r(C),{});P===!1&&(it={});const{prevResolvedValues:vt={}}=L,ft={...vt,...it},ut=Y=>{I=!0,b.has(Y)&&(G=!0,b.delete(Y)),L.needsAnimating[Y]=!0;const Z=a.getValue(Y);Z&&(Z.liveStyle=!1)};for(const Y in ft){const Z=it[Y],xt=vt[Y];if(A.hasOwnProperty(Y))continue;let k=!1;v0(Z)&&v0(xt)?k=!WT(Z,xt):k=Z!==xt,k?Z!=null?ut(Y):b.add(Y):Z!==void 0&&b.has(Y)?ut(Y):L.protectedKeys[Y]=!0}L.prevProp=O,L.prevResolvedValues=it,L.isActive&&(A={...A,...it}),n&&a.blockInitialAnimation&&(I=!1),I&&(!(z&&q)||G)&&v.push(...tt.map(Y=>({animation:Y,options:{type:C}})))}if(b.size){const M={};if(typeof p.initial!="boolean"){const C=md(a,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(M.transition=C.transition)}b.forEach(C=>{const L=a.getBaseTarget(C),O=a.getValue(C);O&&(O.liveStyle=!0),M[C]=L??null}),v.push({animation:M})}let w=!!v.length;return n&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(v):Promise.resolve()}function h(f,p){var g;if(e[f].isActive===p)return Promise.resolve();(g=a.variantChildren)===null||g===void 0||g.forEach(b=>{var A;return(A=b.animationState)===null||A===void 0?void 0:A.setActive(f,p)}),e[f].isActive=p;const v=c(f);for(const b in e)e[b].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=fw(),n=!0}}}function sP(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!WT(t,a):!1}function ho(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fw(){return{animate:ho(!0),whileInView:ho(),whileHover:ho(),whileTap:ho(),whileDrag:ho(),whileFocus:ho(),exit:ho()}}class Vr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class aP extends Vr{constructor(t){super(t),t.animationState||(t.animationState=nP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let rP=0;class oP extends Vr{constructor(){super(...arguments),this.id=rP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lP={animation:{Feature:aP},exit:{Feature:oP}},zn={x:!1,y:!1};function QT(){return zn.x||zn.y}function cP(a){return a==="x"||a==="y"?zn[a]?null:(zn[a]=!0,()=>{zn[a]=!1}):zn.x||zn.y?null:(zn.x=zn.y=!0,()=>{zn.x=zn.y=!1})}const NA=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1;function vd(a,t,e,n={passive:!0}){return a.addEventListener(t,e,n),()=>a.removeEventListener(t,e)}function zf(a){return{point:{x:a.pageX,y:a.pageY}}}const uP=a=>t=>NA(t)&&a(t,zf(t));function sd(a,t,e,n){return vd(a,t,uP(e),n)}const pw=(a,t)=>Math.abs(a-t);function hP(a,t){const e=pw(a.x,t.x),n=pw(a.y,t.y);return Math.sqrt(e**2+n**2)}class ZT{constructor(t,e,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=s0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,A=hP(v.offset,{x:0,y:0})>=3;if(!b&&!A)return;const{point:x}=v,{timestamp:w}=oi;this.history.push({...x,timestamp:w});const{onStart:M,onMove:C}=this.handlers;b||(M&&M(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=n0(b,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:A,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=s0(v.type==="pointercancel"?this.lastMoveEventInfo:n0(b,this.transformPagePoint),this.history);this.startEvent&&A&&A(v,M),x&&x(v,M)},!NA(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const c=zf(t),h=n0(c,this.transformPagePoint),{point:f}=h,{timestamp:p}=oi;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=e;g&&g(t,s0(h,this.history)),this.removeListeners=Hf(sd(this.contextWindow,"pointermove",this.handlePointerMove),sd(this.contextWindow,"pointerup",this.handlePointerUp),sd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function n0(a,t){return t?{point:t(a.point)}:a}function mw(a,t){return{x:a.x-t.x,y:a.y-t.y}}function s0({point:a},t){return{point:a,delta:mw(a,JT(t)),offset:mw(a,dP(t)),velocity:fP(t,.1)}}function dP(a){return a[0]}function JT(a){return a[a.length-1]}function fP(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,n=null;const r=JT(a);for(;e>=0&&(n=a[e],!(r.timestamp-n.timestamp>Ta(t)));)e--;if(!n)return{x:0,y:0};const l=Ca(r.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-n.x)/l,y:(r.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const tC=1e-4,pP=1-tC,mP=1+tC,eC=.01,gP=0-eC,yP=0+eC;function Mi(a){return a.max-a.min}function vP(a,t,e){return Math.abs(a-t)<=e}function gw(a,t,e,n=.5){a.origin=n,a.originPoint=ve(t.min,t.max,a.origin),a.scale=Mi(e)/Mi(t),a.translate=ve(e.min,e.max,a.origin)-a.originPoint,(a.scale>=pP&&a.scale<=mP||isNaN(a.scale))&&(a.scale=1),(a.translate>=gP&&a.translate<=yP||isNaN(a.translate))&&(a.translate=0)}function ad(a,t,e,n){gw(a.x,t.x,e.x,n?n.originX:void 0),gw(a.y,t.y,e.y,n?n.originY:void 0)}function yw(a,t,e){a.min=e.min+t.min,a.max=a.min+Mi(t)}function bP(a,t,e){yw(a.x,t.x,e.x),yw(a.y,t.y,e.y)}function vw(a,t,e){a.min=t.min-e.min,a.max=a.min+Mi(t)}function rd(a,t,e){vw(a.x,t.x,e.x),vw(a.y,t.y,e.y)}function AP(a,{min:t,max:e},n){return t!==void 0&&a<t?a=n?ve(t,a,n.min):Math.max(a,t):e!==void 0&&a>e&&(a=n?ve(e,a,n.max):Math.min(a,e)),a}function bw(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function SP(a,{top:t,left:e,bottom:n,right:r}){return{x:bw(a.x,e,r),y:bw(a.y,t,n)}}function Aw(a,t){let e=t.min-a.min,n=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,n]=[n,e]),{min:e,max:n}}function xP(a,t){return{x:Aw(a.x,t.x),y:Aw(a.y,t.y)}}function EP(a,t){let e=.5;const n=Mi(a),r=Mi(t);return r>n?e=Du(t.min,t.max-n,a.min):n>r&&(e=Du(a.min,a.max-r,t.min)),La(0,1,e)}function _P(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const M0=.35;function wP(a=M0){return a===!1?a=0:a===!0&&(a=M0),{x:Sw(a,"left","right"),y:Sw(a,"top","bottom")}}function Sw(a,t,e){return{min:xw(a,t),max:xw(a,e)}}function xw(a,t){return typeof a=="number"?a:a[t]||0}const Ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ec=()=>({x:Ew(),y:Ew()}),_w=()=>({min:0,max:0}),Re=()=>({x:_w(),y:_w()});function wn(a){return[a("x"),a("y")]}function iC({top:a,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:a,max:n}}}function TP({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function CP(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),n=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function a0(a){return a===void 0||a===1}function D0({scale:a,scaleX:t,scaleY:e}){return!a0(a)||!a0(t)||!a0(e)}function po(a){return D0(a)||nC(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function nC(a){return ww(a.x)||ww(a.y)}function ww(a){return a&&a!=="0%"}function Zm(a,t,e){const n=a-e,r=t*n;return e+r}function Tw(a,t,e,n,r){return r!==void 0&&(a=Zm(a,r,n)),Zm(a,e,n)+t}function L0(a,t=0,e=1,n,r){a.min=Tw(a.min,t,e,n,r),a.max=Tw(a.max,t,e,n,r)}function sC(a,{x:t,y:e}){L0(a.x,t.translate,t.scale,t.originPoint),L0(a.y,e.translate,e.scale,e.originPoint)}const Cw=.999999999999,Rw=1.0000000000001;function RP(a,t,e,n=!1){const r=e.length;if(!r)return;t.x=t.y=1;let l,c;for(let h=0;h<r;h++){l=e[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wc(a,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,sC(a,c)),n&&po(l.latestValues)&&wc(a,l.latestValues))}t.x<Rw&&t.x>Cw&&(t.x=1),t.y<Rw&&t.y>Cw&&(t.y=1)}function _c(a,t){a.min=a.min+t,a.max=a.max+t}function Mw(a,t,e,n,r=.5){const l=ve(a.min,a.max,r);L0(a,t,e,l,n)}function wc(a,t){Mw(a.x,t.x,t.scaleX,t.scale,t.originX),Mw(a.y,t.y,t.scaleY,t.scale,t.originY)}function aC(a,t){return iC(CP(a.getBoundingClientRect(),t))}function MP(a,t,e){const n=aC(a,e),{scroll:r}=t;return r&&(_c(n.x,r.offset.x),_c(n.y,r.offset.y)),n}const rC=({current:a})=>a?a.ownerDocument.defaultView:null,DP=new WeakMap;class LP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(zf(g).point)},l=(g,v)=>{const{drag:b,dragPropagation:A,onDragStart:x}=this.getProps();if(b&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cP(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(M=>{let C=this.getAxisMotionValue(M).get()||0;if(Ms.test(C)){const{projection:L}=this.visualElement;if(L&&L.layout){const O=L.layout.layoutBox[M];O&&(C=Mi(O)*(parseFloat(C)/100))}}this.originPoint[M]=C}),x&&oe.postRender(()=>x(g,v)),b0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:b,dragDirectionLock:A,onDirectionLock:x,onDrag:w}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:M}=v;if(A&&this.currentDirection===null){this.currentDirection=OP(M),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",v.point,M),this.updateAxis("y",v.point,M),this.visualElement.render(),w&&w(g,v)},h=(g,v)=>this.stop(g,v),f=()=>wn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ZT(t,{onSessionStart:r,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:rC(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&oe.postRender(()=>l(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!am(t,r,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=AP(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;e&&Sc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=SP(r.layoutBox,e):this.constraints=!1,this.elastic=wP(n),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=_P(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Sc(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=MP(n,r.root,this.visualElement.getTransformPagePoint());let c=xP(r.layout.layoutBox,l);if(e){const h=e(TP(c));this.hasMutatedConstraints=!!h,h&&(c=iC(h))}return c}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=wn(g=>{if(!am(g,e,this.currentDirection))return;let v=f&&f[g]||{};c&&(v={min:0,max:0});const b=r?200:1e6,A=r?40:1e7,x={type:"inertia",velocity:n?t[g]:0,bounceStiffness:b,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,x)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return b0(this.visualElement,t),n.start(PA(t,n,0,e,this.visualElement,!1))}stopAnimation(){wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wn(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){wn(e=>{const{drag:n}=this.getProps();if(!am(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(e);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[e];l.set(t[e]-ve(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Sc(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};wn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();r[c]=EP({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wn(c=>{if(!am(c,t,null))return;const h=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];h.set(ve(f,p,r[c]))})}addListeners(){if(!this.visualElement.current)return;DP.set(this.visualElement,this);const t=this.visualElement.current,e=sd(t,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Sc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),oe.read(n);const c=vd(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(wn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{c(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=M0,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function am(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function OP(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class kP extends Vr{constructor(t){super(t),this.removeGroupControls=ln,this.removeListeners=ln,this.controls=new LP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dw=a=>(t,e)=>{a&&oe.postRender(()=>a(t,e))};class PP extends Vr{constructor(){super(...arguments),this.removePointerDownListener=ln}onPointerDown(t){this.session=new ZT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Dw(t),onStart:Dw(e),onMove:n,onEnd:(l,c)=>{delete this.session,r&&oe.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=sd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lw(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const Nh={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(At.test(a))a=parseFloat(a);else return a;const e=Lw(a,t.target.x),n=Lw(a,t.target.y);return`${e}% ${n}%`}},NP={correct:(a,{treeScale:t,projectionDelta:e})=>{const n=a,r=Fr.parse(a);if(r.length>5)return n;const l=Fr.createTransformer(a),c=typeof r[0]!="number"?1:0,h=e.x.scale*t.x,f=e.y.scale*t.y;r[0+c]/=h,r[1+c]/=f;const p=ve(h,f,.5);return typeof r[2+c]=="number"&&(r[2+c]/=p),typeof r[3+c]=="number"&&(r[3+c]/=p),l(r)}};class FP extends W.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:l}=t;WL(jP),l&&(e.group&&e.group.add(l),n&&n.register&&r&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),pm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,r||t.layoutDependency!==e||e===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||oe.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oC(a){const[t,e]=CL(),n=W.useContext(U1);return F.jsx(FP,{...a,layoutGroup:n,switchLayoutGroup:W.useContext(Z1),isPresent:t,safeToRemove:e})}const jP={borderRadius:{...Nh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nh,borderTopRightRadius:Nh,borderBottomLeftRadius:Nh,borderBottomRightRadius:Nh,boxShadow:NP};function BP(a,t,e){const n=Si(a)?a:gd(a);return n.start(PA("",n,t,e)),n.animation}function HP(a){return a instanceof SVGElement&&a.tagName!=="svg"}const zP=(a,t)=>a.depth-t.depth;class VP{constructor(){this.children=[],this.isDirty=!1}add(t){bA(this.children,t),this.isDirty=!0}remove(t){AA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zP),this.isDirty=!1,this.children.forEach(t)}}function UP(a,t){const e=Ds.now(),n=({timestamp:r})=>{const l=r-e;l>=t&&(Nr(n),a(l-t))};return oe.read(n,!0),()=>Nr(n)}const lC=["TopLeft","TopRight","BottomLeft","BottomRight"],IP=lC.length,Ow=a=>typeof a=="string"?parseFloat(a):a,kw=a=>typeof a=="number"||At.test(a);function GP(a,t,e,n,r,l){r?(a.opacity=ve(0,e.opacity!==void 0?e.opacity:1,qP(n)),a.opacityExit=ve(t.opacity!==void 0?t.opacity:1,0,XP(n))):l&&(a.opacity=ve(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,n));for(let c=0;c<IP;c++){const h=`border${lC[c]}Radius`;let f=Pw(t,h),p=Pw(e,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||kw(f)===kw(p)?(a[h]=Math.max(ve(Ow(f),Ow(p),n),0),(Ms.test(p)||Ms.test(f))&&(a[h]+="%")):a[h]=p}(t.rotate||e.rotate)&&(a.rotate=ve(t.rotate||0,e.rotate||0,n))}function Pw(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const qP=cC(0,.5,ET),XP=cC(.5,.95,ln);function cC(a,t,e){return n=>n<a?0:n>t?1:e(Du(a,t,n))}function Nw(a,t){a.min=t.min,a.max=t.max}function En(a,t){Nw(a.x,t.x),Nw(a.y,t.y)}function Fw(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function jw(a,t,e,n,r){return a-=t,a=Zm(a,1/e,n),r!==void 0&&(a=Zm(a,1/r,n)),a}function YP(a,t=0,e=1,n=.5,r,l=a,c=a){if(Ms.test(t)&&(t=parseFloat(t),t=ve(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=ve(l.min,l.max,n);a===l&&(h-=t),a.min=jw(a.min,t,e,h,r),a.max=jw(a.max,t,e,h,r)}function Bw(a,t,[e,n,r],l,c){YP(a,t[e],t[n],t[r],t.scale,l,c)}const KP=["x","scaleX","originX"],WP=["y","scaleY","originY"];function Hw(a,t,e,n){Bw(a.x,t,KP,e?e.x:void 0,n?n.x:void 0),Bw(a.y,t,WP,e?e.y:void 0,n?n.y:void 0)}function zw(a){return a.translate===0&&a.scale===1}function uC(a){return zw(a.x)&&zw(a.y)}function Vw(a,t){return a.min===t.min&&a.max===t.max}function $P(a,t){return Vw(a.x,t.x)&&Vw(a.y,t.y)}function Uw(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function hC(a,t){return Uw(a.x,t.x)&&Uw(a.y,t.y)}function Iw(a){return Mi(a.x)/Mi(a.y)}function Gw(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class QP{constructor(){this.members=[]}add(t){bA(this.members,t),t.scheduleRender()}remove(t){if(AA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let n;for(let r=e;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZP(a,t,e){let n="";const r=a.x.translate/t.x,l=a.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((r||l||c)&&(n=`translate3d(${r}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:b,skewX:A,skewY:x}=e;p&&(n=`perspective(${p}px) ${n}`),g&&(n+=`rotate(${g}deg) `),v&&(n+=`rotateX(${v}deg) `),b&&(n+=`rotateY(${b}deg) `),A&&(n+=`skewX(${A}deg) `),x&&(n+=`skewY(${x}deg) `)}const h=a.x.scale*t.x,f=a.y.scale*t.y;return(h!==1||f!==1)&&(n+=`scale(${h}, ${f})`),n||"none"}const r0=["","X","Y","Z"],JP={visibility:"hidden"},qw=1e3;let tN=0;function o0(a,t,e,n){const{latestValues:r}=t;r[a]&&(e[a]=r[a],t.setStaticValue(a,0),n&&(n[a]=0))}function dC(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const e=fT(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:l}=a.options;window.MotionCancelOptimisedAnimation(e,"transform",oe,!(r||l))}const{parent:n}=a;n&&!n.hasCheckedOptimisedAppear&&dC(n)}function fC({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(c={},h=t==null?void 0:t()){this.id=tN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nN),this.nodes.forEach(lN),this.nodes.forEach(cN),this.nodes.forEach(sN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new VP)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new SA),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HP(c),this.instance=c;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),a){let v;const b=()=>this.root.updateBlockedByResize=!1;a(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=UP(b,250),pm.hasAnimatedSinceResize&&(pm.hasAnimatedSinceResize=!1,this.nodes.forEach(Yw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:A,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||g.getDefaultTransition()||pN,{onLayoutAnimationStart:M,onLayoutAnimationComplete:C}=g.getProps(),L=!this.targetLayout||!hC(this.targetLayout,x),O=!b&&A;if(this.options.layoutRoot||this.resumeFrom||O||b&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,O);const j={...vA(w,"layout"),onPlay:M,onComplete:C};(g.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else b||Yw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xw);return}this.isUpdating||this.nodes.forEach(rN),this.isUpdating=!1,this.nodes.forEach(oN),this.nodes.forEach(eN),this.nodes.forEach(iN),this.clearAllSnapshots();const h=Ds.now();oi.delta=La(0,1e3/60,h-oi.timestamp),oi.timestamp=h,oi.isProcessing=!0,Jv.update.process(oi),Jv.preRender.process(oi),Jv.render.process(oi),oi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aN),this.sharedNodes.forEach(hN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mi(this.snapshot.measuredBox.x)&&!Mi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uC(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(h||po(this.latestValues)||g)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),mN(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return Re();const f=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(gN))){const{scroll:g}=this.root;g&&(_c(f.x,g.offset.x),_c(f.y,g.offset.y))}return f}removeElementScroll(c){var h;const f=Re();if(En(f,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&En(f,c),_c(f.x,v.offset.x),_c(f.y,v.offset.y))}return f}applyTransform(c,h=!1){const f=Re();En(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&wc(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),po(g.latestValues)&&wc(f,g.latestValues)}return po(this.latestValues)&&wc(f,this.latestValues),f}removeTransform(c){const h=Re();En(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!po(p.latestValues))continue;D0(p.latestValues)&&p.updateSnapshot();const g=Re(),v=p.measurePageBox();En(g,v),Hw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return po(this.latestValues)&&Hw(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=oi.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),rd(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),sC(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),rd(this.relativeTargetOrigin,this.target,A.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||D0(this.parent.latestValues)||nC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===oi.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;En(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,A=this.treeScale.y;RP(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Re());const{target:x}=h;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fw(this.prevProjectionDelta.x,this.projectionDelta.x),Fw(this.prevProjectionDelta.y,this.projectionDelta.y)),ad(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==A||!Gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ec(),this.projectionDelta=Ec(),this.projectionDeltaWithTransform=Ec()}setAnimationOrigin(c,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},v=Ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=Re(),A=f?f.source:void 0,x=this.layout?this.layout.source:void 0,w=A!==x,M=this.getStack(),C=!M||M.members.length<=1,L=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(fN));this.animationProgress=0;let O;this.mixTargetDelta=j=>{const P=j/1e3;Kw(v.x,c.x,P),Kw(v.y,c.y,P),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dN(this.relativeTarget,this.relativeTargetOrigin,b,P),O&&$P(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Re()),En(O,this.relativeTarget)),w&&(this.animationValues=g,GP(g,p,this.latestValues,P,L,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{pm.hasAnimatedSinceResize=!0,this.currentAnimation=BP(0,qw,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=c;if(!(!h||!f||!p)){if(this!==c&&this.layout&&p&&pC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Re();const v=Mi(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const b=Mi(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}En(h,f),wc(h,g),ad(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new QP),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&o0("z",c,p,this.animationValues);for(let g=0;g<r0.length;g++)o0(`rotate${r0[g]}`,c,p,this.animationValues),o0(`skew${r0[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return JP;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=dm(c==null?void 0:c.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=dm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(w.transform=g?g({},""):"none",this.hasProjected=!1),w}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=ZP(this.projectionDeltaWithTransform,this.treeScale,b),g&&(p.transform=g(b,p.transform));const{x:A,y:x}=this.projectionDelta;p.transformOrigin=`${A.origin*100}% ${x.origin*100}% 0`,v.animationValues?p.opacity=v===this?(f=(h=b.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const w in fd){if(b[w]===void 0)continue;const{correct:M,applyTo:C,isCSSVariable:L}=fd[w],O=p.transform==="none"?b[w]:M(b[w],v);if(C){const j=C.length;for(let P=0;P<j;P++)p[C[P]]=O}else L?this.options.visualElement.renderState.vars[w]=O:p[w]=O}return this.options.layoutId&&(p.pointerEvents=v===this?dm(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Xw),this.root.sharedNodes.clear()}}}function eN(a){a.updateLayout()}function iN(a){var t;const e=((t=a.resumeFrom)===null||t===void 0?void 0:t.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&e&&a.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=a.layout,{animationType:l}=a.options,c=e.source!==a.layout.source;l==="size"?wn(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],A=Mi(b);b.min=n[v].min,b.max=b.min+A}):pC(l,e.layoutBox,n)&&wn(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],A=Mi(n[v]);b.max=b.min+A,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[v].max=a.relativeTarget[v].min+A)});const h=Ec();ad(h,n,e.layoutBox);const f=Ec();c?ad(f,a.applyTransform(r,!0),e.measuredBox):ad(f,n,e.layoutBox);const p=!uC(h);let g=!1;if(!a.resumeFrom){const v=a.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:A}=v;if(b&&A){const x=Re();rd(x,e.layoutBox,b.layoutBox);const w=Re();rd(w,n,A.layoutBox),hC(x,w)||(g=!0),v.options.layoutRoot&&(a.relativeTarget=w,a.relativeTargetOrigin=x,a.relativeParent=v)}}}a.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(a.isLead()){const{onExitComplete:n}=a.options;n&&n()}a.options.transition=void 0}function nN(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function sN(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function aN(a){a.clearSnapshot()}function Xw(a){a.clearMeasurements()}function rN(a){a.isLayoutDirty=!1}function oN(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function Yw(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function lN(a){a.resolveTargetDelta()}function cN(a){a.calcProjection()}function uN(a){a.resetSkewAndRotation()}function hN(a){a.removeLeadSnapshot()}function Kw(a,t,e){a.translate=ve(t.translate,0,e),a.scale=ve(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function Ww(a,t,e,n){a.min=ve(t.min,e.min,n),a.max=ve(t.max,e.max,n)}function dN(a,t,e,n){Ww(a.x,t.x,e.x,n),Ww(a.y,t.y,e.y,n)}function fN(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const pN={duration:.45,ease:[.4,0,.1,1]},$w=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Qw=$w("applewebkit/")&&!$w("chrome/")?Math.round:ln;function Zw(a){a.min=Qw(a.min),a.max=Qw(a.max)}function mN(a){Zw(a.x),Zw(a.y)}function pC(a,t,e){return a==="position"||a==="preserve-aspect"&&!vP(Iw(t),Iw(e),.2)}function gN(a){var t;return a!==a.root&&((t=a.scroll)===null||t===void 0?void 0:t.wasRoot)}const yN=fC({attachResizeListener:(a,t)=>vd(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),l0={current:void 0},mC=fC({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!l0.current){const a=new yN({});a.mount(window),a.setOptions({layoutScroll:!0}),l0.current=a}return l0.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),vN={pan:{Feature:PP},drag:{Feature:kP,ProjectionNode:mC,MeasureLayout:oC}};function bN(a,t,e){var n;if(a instanceof Element)return[a];if(typeof a=="string"){let r=document;const l=(n=void 0)!==null&&n!==void 0?n:r.querySelectorAll(a);return l?Array.from(l):[]}return Array.from(a)}function gC(a,t){const e=bN(a),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[e,r,()=>n.abort()]}function Jw(a){return!(a.pointerType==="touch"||QT())}function AN(a,t,e={}){const[n,r,l]=gC(a,e),c=h=>{if(!Jw(h))return;const{target:f}=h,p=t(f,h);if(typeof p!="function"||!f)return;const g=v=>{Jw(v)&&(p(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return n.forEach(h=>{h.addEventListener("pointerenter",c,r)}),l}function t1(a,t,e){const{props:n}=a;a.animationState&&n.whileHover&&a.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,l=n[r];l&&oe.postRender(()=>l(t,zf(t)))}class SN extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=AN(t,(e,n)=>(t1(this.node,n,"Start"),r=>t1(this.node,r,"End"))))}unmount(){}}class xN extends Vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hf(vd(this.node.current,"focus",()=>this.onFocus()),vd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yC=(a,t)=>t?a===t?!0:yC(a,t.parentElement):!1,EN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _N(a){return EN.has(a.tagName)||a.tabIndex!==-1}const zh=new WeakSet;function e1(a){return t=>{t.key==="Enter"&&a(t)}}function c0(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wN=(a,t)=>{const e=a.currentTarget;if(!e)return;const n=e1(()=>{if(zh.has(e))return;c0(e,"down");const r=e1(()=>{c0(e,"up")}),l=()=>c0(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function i1(a){return NA(a)&&!QT()}function TN(a,t,e={}){const[n,r,l]=gC(a,e),c=h=>{const f=h.currentTarget;if(!i1(h)||zh.has(f))return;zh.add(f);const p=t(f,h),g=(A,x)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!i1(A)||!zh.has(f))&&(zh.delete(f),typeof p=="function"&&p(A,{success:x}))},v=A=>{g(A,e.useGlobalTarget||yC(f,A.target))},b=A=>{g(A,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",b,r)};return n.forEach(h=>{!_N(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(e.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),h.addEventListener("focus",p=>wN(p,r),r)}),l}function n1(a,t,e){const{props:n}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&n.whileTap&&a.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),l=n[r];l&&oe.postRender(()=>l(t,zf(t)))}class CN extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=TN(t,(e,n)=>(n1(this.node,n,"Start"),(r,{success:l})=>n1(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const O0=new WeakMap,u0=new WeakMap,RN=a=>{const t=O0.get(a.target);t&&t(a)},MN=a=>{a.forEach(RN)};function DN({root:a,...t}){const e=a||document;u0.has(e)||u0.set(e,{});const n=u0.get(e),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(MN,{root:a,...t})),n[r]}function LN(a,t,e){const n=DN(t);return O0.set(a,e),n.observe(a),()=>{O0.delete(a),n.unobserve(a)}}const ON={some:0,all:1};class kN extends Vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:ON[r]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=p?g:v;b&&b(f)};return LN(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(PN(t,e))&&this.startObserver()}unmount(){}}function PN({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const NN={inView:{Feature:kN},tap:{Feature:CN},focus:{Feature:xN},hover:{Feature:SN}},FN={layout:{ProjectionNode:mC,MeasureLayout:oC}},k0={current:null},vC={current:!1};function jN(){if(vC.current=!0,!!nA)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>k0.current=a.matches;a.addListener(t),t()}else k0.current=!1}const BN=[...jT,bi,Fr],HN=a=>BN.find(FT(a)),zN=new WeakMap;function VN(a,t,e){for(const n in t){const r=t[n],l=e[n];if(Si(r))a.addValue(n,r);else if(Si(l))a.addValue(n,gd(r,{owner:a}));else if(l!==r)if(a.hasValue(n)){const c=a.getValue(n);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=a.getStaticValue(n);a.addValue(n,gd(c!==void 0?c:r,{owner:a}))}}for(const n in e)t[n]===void 0&&a.removeValue(n);return t}const s1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UN{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Ds.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,oe.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=e.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Eg(e),this.isVariantNode=$1(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in b){const x=b[A];f[A]!==void 0&&Si(x)&&x.set(f[A],!1)}}mount(t){this.current=t,zN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),vC.current||jN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:k0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Tl.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&oe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=e.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),l(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Mu){const e=Mu[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<s1.length;n++){const r=s1[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=t[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=VN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=gd(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(PT(r)||wT(r))?r=parseFloat(r):!HN(r)&&Fr.test(e)&&(r=LT(t,e)),this.setBaseTarget(t,Si(r)?r.get():r)),Si(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=gA(this.props,n,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Si(l)?l:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new SA),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class bC extends UN{constructor(){super(...arguments),this.KeyframeResolver=BT}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Si(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function IN(a){return window.getComputedStyle(a)}class GN extends bC{constructor(){super(...arguments),this.type="html",this.renderInstance=oT}readValueFromInstance(t,e){if(Tl.has(e)){const n=DA(e);return n&&n.default||0}else{const n=IN(t),r=(lA(e)?n.getPropertyValue(e):n[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return aC(t,e)}build(t,e,n){hA(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return yA(t,e,n)}}class qN extends bC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&rT(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Tl.has(e)){const n=DA(e);return n&&n.default||0}return e=lT.has(e)?e:rA(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return uT(t,e,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&oe.postRender(this.updateDimensions)}build(t,e,n){pA(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){cT(t,e,n,r)}mount(t){this.isSVGTag=mA(t.tagName),super.mount(t)}}const XN=(a,t)=>fA(a)?new qN(t):new GN(t,{allowProjection:a!==W.Fragment}),YN=bO({...lP,...NN,...vN,...FN},XN),od=NL(YN);function KN(a){a.values.forEach(t=>t.stop())}function P0(a,t){[...t].reverse().forEach(n=>{const r=a.getVariant(n);r&&xA(a,r),a.variantChildren&&a.variantChildren.forEach(l=>{P0(l,t)})})}function WN(a,t){if(Array.isArray(t))return P0(a,t);if(typeof t=="string")return P0(a,[t]);xA(a,t)}function $N(){const a=new Set,t={subscribe(e){return a.add(e),()=>void a.delete(e)},start(e,n){const r=[];return a.forEach(l=>{r.push(KT(l,e,{transitionOverride:n}))}),Promise.all(r)},set(e){return a.forEach(n=>{WN(n,e)})},stop(){a.forEach(e=>{KN(e)})},mount(){return()=>{t.stop()}}};return t}function QN(){const a=I1($N);return q1(a.mount,[]),a}const ld=QN,ZN={normal:{opacity:1,pathLength:1,scale:1,transition:{duration:.3}},animate:{opacity:[0,1],pathLength:[0,1],scale:[.9,1],transition:{duration:.4}}},JN={normal:{pathLength:1,rotate:0,transition:{duration:.3}},draw:{pathLength:[0,1],rotate:0,transition:{duration:.5}},wag:{pathLength:1,rotate:[0,-15,15,-10,10,-5,5],transition:{duration:2.5,ease:"easeInOut",repeat:1/0}}},Vf=W.forwardRef(({onMouseEnter:a,onMouseLeave:t,...e},n)=>{const r=ld(),l=ld(),c=W.useRef(!1);W.useImperativeHandle(n,()=>(c.current=!0,{startAnimation:async()=>{r.start("animate"),await l.start("draw"),l.start("wag")},stopAnimation:()=>{r.start("normal"),l.start("normal")}}));const h=W.useCallback(async p=>{c.current?a==null||a(p):(r.start("animate"),await l.start("draw"),l.start("wag"))},[r,a,l]),f=W.useCallback(p=>{c.current?t==null||t(p):(r.start("normal"),l.start("normal"))},[r,l,t]);return F.jsx("div",{className:"cursor-pointer select-none p-2 hover:bg-accent rounded-md transition-colors duration-200 flex items-center justify-center",onMouseEnter:h,onMouseLeave:f,...e,children:F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[F.jsx(od.path,{variants:ZN,initial:"normal",animate:r,d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}),F.jsx(od.path,{variants:JN,initial:"normal",animate:l,d:"M9 18c-4.51 2-5-2-7-2"})]})})});Vf.displayName="GithubIcon";const tF={normal:{opacity:1,pathLength:1,pathOffset:0,transition:{duration:.4,opacity:{duration:.1}}},animate:{opacity:[0,1],pathLength:[0,1],pathOffset:[1,0],transition:{duration:.6,ease:"linear",opacity:{duration:.1}}}},eF={normal:{opacity:1,pathLength:1,pathOffset:0,transition:{duration:.4,opacity:{duration:.1}}},animate:{opacity:[0,1],pathLength:[0,1],pathOffset:[1,0],transition:{duration:.6,ease:"linear",opacity:{duration:.1}}}},iF={normal:{opacity:1,pathLength:1,pathOffset:0,transition:{duration:.4,opacity:{duration:.1}}},animate:{opacity:[0,1],pathLength:[0,1],pathOffset:[1,0],transition:{duration:.6,ease:"linear",opacity:{duration:.1}}}},wg=W.forwardRef(({onMouseEnter:a,onMouseLeave:t,...e},n)=>{const r=ld(),l=ld(),c=ld(),h=W.useRef(!1);W.useImperativeHandle(n,()=>(h.current=!0,{startAnimation:()=>{r.start("animate"),l.start("animate"),c.start("animate")},stopAnimation:()=>{r.start("normal"),l.start("normal"),c.start("normal")}}));const f=W.useCallback(g=>{h.current?a==null||a(g):(r.start("animate"),l.start("animate"),c.start("animate"))},[c,a,r,l]),p=W.useCallback(g=>{h.current?t==null||t(g):(r.start("normal"),l.start("normal"),c.start("normal"))},[r,l,c,t]);return F.jsx("div",{className:"cursor-pointer select-none p-2 hover:bg-accent rounded-md transition-colors duration-200 flex items-center justify-center",onMouseEnter:f,onMouseLeave:p,...e,children:F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[F.jsx(od.path,{variants:tF,initial:"normal",animate:r,d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),F.jsx(od.rect,{variants:eF,initial:"normal",animate:l,x:"2",y:"9",width:"4",height:"12"}),F.jsx(od.circle,{variants:iF,initial:"normal",animate:c,cx:"4",cy:"4",r:"2"})]})})});wg.displayName="LinkedinIcon";const nF=()=>F.jsx("section",{id:"about",className:"text-[var(--foreground)] mx-auto max-w-5xl px-4 mt-32",children:F.jsxs("div",{className:"flex flex-col align-middle md:flex-row md:space-x-14 md:space-y-0",children:[F.jsx("img",{className:"rounded-full shadow-lg w-48 h-48 md:w-64 md:h-64 object-cover md:mr-14 mx-auto",src:"assets/Yo.jpg",alt:"Foto de perfil"}),F.jsxs("div",{className:"flex flex-col justify-center space-y-4 mt-6 ",children:[F.jsx("h1",{className:"gradient-text-transition bg-gradient-to-r dark:from-gray-200 dark:to-purple-300 from-zinc-500 to-purple-500 bg-clip-text text-transparent font-bold text-4xl md:text-6xl md:text-start text-center",children:"Juan Villaverde"}),F.jsxs("p",{className:"text-l md:text-l md:text-start text-center",children:[F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"Desarrollador de software"})," graduado por la Universidad de A Corua (UDC) y actualmente cursando el mster en Ingeniera Informtica en la misma universidad. Experiencia como ",F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"profesor particular"})," y en ",F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"proyectos propios"}),"."]}),F.jsxs("div",{className:"flex md:flex-row flex-col justify-between mt-2 ",children:[F.jsxs("div",{className:"flex space-x-4 w-fit md:mx-0 mx-auto",children:[F.jsx("a",{href:"https://github.com/JuanVillaverdeRodriguez",className:"hover:scale-105 transition-transform",children:F.jsx(Vf,{className:"w-8 h-8 text-[var(--muted-foreground)] hover:text-purple-400"})}),F.jsx("a",{href:"https://www.linkedin.com/in/juanvillaverde",className:"hover:scale-105 transition-transform",children:F.jsx(wg,{className:"w-8 h-8 text-[var(--muted-foreground)] hover:text-blue-400"})}),F.jsx("a",{href:"mailto:juanvillaverderodriguez@gmail.com",className:"hover:scale-105 transition-transform",children:F.jsx("svg",{className:"h-8 w-8 text-[var(--muted-foreground)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),F.jsx("div",{className:"md:mr-6 md:mt-0 mt-6 md:mx-0 mx-auto",children:F.jsxs("a",{href:"https://www.linkedin.com/in/juan-villaverde-rodr%C3%ADguez/",className:"relative inline-flex group",children:[F.jsx("span",{className:"absolute -inset-1 md:blur-sm blur-xs opacity-30 group-hover:opacity-70 transition-opacity duration-2000 animate-pulse rounded-full bg-gradient-to-r from-white dark:via-zinc-600 dark:to-[var(--accent)]"}),F.jsx("span",{className:"text-base relative rounded-full bg-[var(--button)] px-4 py-2  text-[var(--muted-foreground)] shadow-sm transition-all hover:shadow-purple-400/20",children:"Hey! Estoy disponible"})]})})]})]})]})}),sF=[{title:"Profesor particular",date:"Noviembre 2024 - Febrero 2025",description:()=>F.jsxs(F.Fragment,{children:["Proporcion ",F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"clases de programacin"})," en C de forma autnoma y telemtica a travs de la plataforma de"," ",F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"Tus Clases Particulares"}),". Las clases estaban orientadas a ayudar a estudiantes a comprender las bases y superar las asignaturas de programacin."]}),link:{url:"https://www.tusclasesparticulares.com/profesores/juan-villaverde-rodriguez.htm",label:"Mi perfil",icon:"assets/TCP_Logo_Short.svg"}},{title:"Proyectos personales",date:"Constantemente...",description:()=>F.jsxs(F.Fragment,{children:["He realizado diversos ",F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"proyectos por cuenta propia"})," que me han permitido expandir mis conocimientos y mejorar mis habilidades de programacin."]}),link:null}],aF=()=>F.jsxs("section",{id:"experience",className:"text-[var(--foreground)] mx-auto max-w-5xl px-4",children:[F.jsx("h1",{className:"font-bold text-3xl mb-8",children:"Experiencia"}),F.jsx("div",{className:"relative md:ml-6",children:F.jsx("ol",{className:"relative",children:sF.map((a,t)=>F.jsx("li",{className:"relative flex flex-col md:flex-row items-start",children:F.jsxs("div",{className:"mt-8 md:mt-0 pb-8 md:ml-16 mx-12 before:absolute before:left-0 before:top-0 before:w-1 before:bg-[var(--line)] before:transition-colors before:duration-1000 before:h-full before:rounded",children:[F.jsx("div",{className:"absolute -left-1.25 mt-4 rounded-full text-[var(--accent)]",children:F.jsx("svg",{className:"w-3.5 h-3.5 bg-[var(--accent)] rounded-full",fill:"none",viewBox:"0 0 24 24"})}),F.jsx("h2",{className:"font-semibold text-xl md:text-2xl",children:a.title}),F.jsx("h3",{className:"text-base pb-4 text-[var(--muted-foreground)]",children:a.date}),F.jsx("p",{className:"text-base",children:a.description()}),a.link&&F.jsx("a",{href:a.link.url,className:"mt-2 inline-block",children:F.jsxs("div",{className:"flex space-x-2.5 bg-[var(--button)] rounded-full items-center px-3 py-1 mt-2 shadow-sm hover:shadow-purple-300/20 transition-all duration-300 ease-in-out",children:[F.jsx("div",{className:"p-0.5 rounded-sm",children:F.jsx("img",{src:a.link.icon,alt:"Logo",className:"w-5 h-5 object-contain"})}),F.jsx("span",{children:a.link.label})]})})]})},t))})})]}),rF=[{title:"Sintetizador musical",description:()=>F.jsxs(F.Fragment,{children:["Mi TFG, desarroll un ",F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"plugin de audio"})," en C++ para la creacin de sonidos y msica. Tiene funcionalidades como creacin de ondas, modulacin y efectos de sonido. La nota final fue un ",F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"9,0"}),"."]}),image:"assets/Ocnet.png",stack:[{name:"C++",icon:"assets/C++_Logo.svg"},{name:"Juce",icon:"assets/Juce_Logo.png"}],link:"https://github.com/JuanVillaverdeRodriguez/ocnet"},{title:"Bus Pontevedra",description:()=>F.jsxs(F.Fragment,{children:["Una aplicacin en desarrollo para mvil que muestra los ",F.jsx("mark",{className:"text-[var(--accent)] bg-transparent font-bold",children:"horarios de los autobuses"})," de la ciudad de Pontevedra. Dado que muchos datos son errneos, tambin fue necesario crear una pgina web para ayudar a corregirlos."]}),image:"assets/Bus_Management.png",stack:[{name:"Kotlin",icon:"assets/Kotlin_Logo.svg"},{name:"React",icon:"assets/React_Logo.svg"},{name:"Tailwind CSS",icon:"assets/Tailwind_Logo.svg"}],link:"https://github.com/JuanVillaverdeRodriguez/BusPontevedra"},{title:"HackUPC 2025",description:()=>F.jsx(F.Fragment,{children:"VuelingConnect es una aplicacin que permite a los viajeros compartir informacin crtica sobre vuelos durante cortes de red utilizando tecnologa Bluetooth de Bajo Consumo (BLE). La app crea una red en malla entre dispositivos, lo que permite que la informacin se propague sin necesidad de conexin a internet."}),image:"assets/mockuuups-smartphone-in-hand-mockup.jpg",stack:[{name:"Flutter",icon:"assets/Flutter_Logo.svg"},{name:"Python",icon:"assets/Python_Logo.png"}],link:"https://github.com/migueldeoleiros/vuelingconnect"}],oF=()=>F.jsxs("section",{id:"projects",className:"text-[var(--foreground)] mx-auto max-w-5xl px-4 transition-colors",children:[F.jsx("h1",{className:"font-bold text-3xl pb-8",children:"Proyectos"}),rF.map((a,t)=>F.jsxs("div",{className:"flex flex-col md:flex-row items-start md:ml-6 mb-12",children:[F.jsx("div",{className:"bg-[var(--card)] p-1.5 mb-4 md:mb-0",children:F.jsx("img",{src:a.image,className:"object-contain w-full md:w-96 h-auto ",alt:`Imagen de ${a.title}`})}),F.jsxs("div",{className:"flex-1 flex flex-col pl-0 md:pl-8",children:[F.jsx("div",{className:"text-2xl font-bold",children:a.title}),F.jsxs("div",{className:"pt-2 text-lg text-[var(--muted-foreground)]",children:[F.jsx("div",{className:"flex flex-wrap gap-2",children:a.stack.map((e,n)=>F.jsxs("div",{className:"flex items-center space-x-2 rounded-full bg-[var(--button)] px-2 py-1 text-sm ",children:[F.jsx("img",{src:e.icon,alt:`Logo de ${e.name}`,className:"w-4 h-4 object-contain"}),F.jsx("span",{children:e.name})]},n))}),F.jsx("div",{className:"pt-4 text-[var(--foreground)] text-base",children:a.description()}),F.jsx("div",{className:"pt-4 text-sm w-fit",children:F.jsx("a",{href:a.link,children:F.jsxs("div",{className:"cursor-pointer flex space-x-3   items-center bg-[var(--button)] shadow-sm w-fit rounded-full px-2 py-2 hover:shadow-purple-300/20",children:[F.jsx(Vf,{className:"w-5 h-5 text-[var(--muted-foreground)] -translate-y-1 "}),F.jsx("span",{children:"Cdigo"})]})})})]})]})]},t))]}),lF=({isDarkMode:a})=>{const t=h=>{const f=document.getElementById(h);f&&f.scrollIntoView({behavior:"smooth"})},[e,n]=W.useState(0),r=()=>{const h=window.innerHeight,f=document.documentElement.scrollHeight,g=window.scrollY/(f-h)*100;n(g)};W.useEffect(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}),[]);const l=Math.min(1,e/100),c=a?`rgba(39, 39, 42, ${l*4})`:`rgba(255, 255, 255, ${l*4})`;return F.jsx("nav",{className:"flex fixed left-1/2 md:w-fit  justify-center transform -translate-x-1/2 bg-opacity-0 w-fit rounded-xl py-2 px-2 z-[50] text-base",style:{backgroundColor:c},children:F.jsxs("ul",{className:"flex flex-wrap [&>li]:px-2 justify-center text-[var(--muted-foreground)] [&>li]:cursor-pointer [&>li]:hover:text-[var(--accent)] ",children:[F.jsxs("li",{onClick:()=>t("about"),children:[F.jsx("a",{href:"#about"}),"Perfil"]}),F.jsxs("li",{onClick:()=>t("experience"),children:[F.jsx("a",{href:"#experience"}),"Experiencia"]}),F.jsxs("li",{onClick:()=>t("projects"),children:[F.jsx("a",{href:"#projects"}),"Proyectos"]}),F.jsxs("li",{onClick:()=>t("certifications"),children:[F.jsx("a",{href:"#certifications"}),"Certificaciones"]}),F.jsxs("li",{onClick:()=>t("contact"),children:[F.jsx("a",{href:"#contact"}),"Contacto"]})]})})},bd={_origin:"https://api.emailjs.com"},cF=(a,t="https://api.emailjs.com")=>{bd._userID=a,bd._origin=t},AC=(a,t,e)=>{if(!a)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class a1{constructor(t){this.status=t.status,this.text=t.responseText}}const SC=(a,t,e={})=>new Promise((n,r)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:c})=>{const h=new a1(c);h.status===200||h.text==="OK"?n(h):r(h)}),l.addEventListener("error",({target:c})=>{r(new a1(c))}),l.open("POST",bd._origin+a,!0),Object.keys(e).forEach(c=>{l.setRequestHeader(c,e[c])}),l.send(t)}),uF=(a,t,e,n)=>{const r=n||bd._userID;return AC(r,a,t),SC("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:a,template_id:t,template_params:e}),{"Content-type":"application/json"})},hF=a=>{let t;if(typeof a=="string"?t=document.querySelector(a):t=a,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},dF=(a,t,e,n)=>{const r=n||bd._userID,l=hF(e);AC(r,a,t);const c=new FormData(l);return c.append("lib_version","3.2.0"),c.append("service_id",a),c.append("template_id",t),c.append("user_id",r),SC("/api/v1.0/email/send-form",c)},fF={init:cF,send:uF,sendForm:dF},pF=()=>{const[a,t]=W.useState({name:"",email:"",message:""}),[e,n]=W.useState("idle"),r=h=>{t({...a,[h.target.name]:h.target.value})},l=h=>{h.preventDefault(),n("sending"),fF.send("service_ump8ugb","template_dpcu7vi",a,"TBf9WwgbmHRTjuImO").then(()=>{n("success"),t({name:"",email:"",message:""})}).catch(()=>n("error"))},c=()=>{n("idle")};return F.jsxs("section",{id:"contact",className:"text-[var(--foreground)] mx-auto max-w-5xl px-4 mb-32",children:[F.jsx("h1",{className:"font-bold text-3xl text-center mb-12 w-0",children:"Contacto"}),F.jsxs("div",{className:"flex flex-col md:flex-row gap-12 items-start",children:[F.jsxs("div",{className:"flex-1 space-y-6",children:[F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx("svg",{className:"w-6 h-6 text-[var(--muted-foreground)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:F.jsx("path",{d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),F.jsx("span",{children:"juanvillaverderodriguez@gmail.com"})]}),F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx(Vf,{className:"w-6 h-6 text-[var(--muted-foreground)]"}),F.jsx("span",{children:"@JuanVillaverdeRodriguez"})]}),F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx(wg,{className:"w-6 h-6 text-[var(--muted-foreground)]"}),F.jsx("span",{children:"Juan Villaverde Rodrguez"})]})]}),F.jsx("div",{className:"flex-1 w-full",children:e==="success"?F.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4 p-6 rounded-xl shadow-md animate-fade-in",children:[F.jsxs("svg",{className:"w-14 h-14 text-[var(--accent)]",fill:"currentColor",viewBox:"0 0 24 24",children:[F.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"currentColor",opacity:"0.1"}),F.jsx("path",{fill:"currentColor",d:"M10 13.5l-2.5-2.5-1.42 1.42L10 16.34l7.92-7.92-1.42-1.42z"})]}),F.jsx("h2",{className:"text-xl font-semibold",children:"Mensaje enviado!"}),F.jsx("p",{className:"text-[var(--muted-foreground)]",children:"Gracias por contactarme. Responder lo antes posible."}),F.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 rounded-full bg-[var(--button)] text-[var(--accent-foreground)] font-medium hover:brightness-110 transition shadow-sm cursor-pointer hover:shadow-purple-200/20",children:"Enviar otro mensaje"})]}):F.jsxs("form",{className:"space-y-4 w-full",onSubmit:l,children:[F.jsx("input",{type:"text",name:"name",placeholder:"Tu nombre",value:a.name,onChange:r,required:!0,className:"w-full px-4 py-2 rounded-md bg-[var(--card)] text-[var(--foreground)] placeholder-[var(--muted-foreground)] outline-none focus:ring-2 focus:ring-[var(--accent)]"}),F.jsx("input",{type:"email",name:"email",placeholder:"Tu correo",value:a.email,onChange:r,required:!0,className:"w-full px-4 py-2 rounded-md bg-[var(--card)] text-[var(--foreground)] placeholder-[var(--muted-foreground)] outline-none focus:ring-2 focus:ring-[var(--accent)]"}),F.jsx("textarea",{name:"message",placeholder:"Tu mensaje",rows:5,value:a.message,onChange:r,required:!0,className:"w-full px-4 py-2 rounded-md bg-[var(--card)] text-[var(--foreground)] placeholder-[var(--muted-foreground)] outline-none focus:ring-2 focus:ring-[var(--accent)]"}),F.jsx("button",{type:"submit",disabled:e==="sending",className:"px-6 py-2 rounded-full bg-[var(--button)] text-[var(--accent-foreground)] hover:brightness-110 transition-shadow hover:shadow-purple-200/20 disabled:opacity-50 shadow-sm cursor-pointer",children:e==="sending"?"Enviando...":"Enviar mensaje"}),e==="error"&&F.jsx("p",{className:"text-red-500 text-sm",children:"Hubo un error. Intntalo de nuevo."})]})})]})]})},mF=()=>{const a=new Date().getFullYear();return F.jsx("footer",{className:"max-w-screen px-4 py-6  bg-[var(--button)] text-[var(--muted-foreground)]",children:F.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between",children:[F.jsxs("p",{className:"text-sm text-center md:text-left",children:[" ",a," Juan Villaverde. Casi todos los derechos reservados."]}),F.jsxs("div",{className:"flex space-x-5 mt-4 md:mt-0",children:[F.jsx("a",{href:"https://github.com/JuanVillaverdeRodriguez",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--accent)] transition-transform hover:scale-110",children:F.jsx(Vf,{className:"w-5 h-5"})}),F.jsx("a",{href:"https://www.linkedin.com/in/juanvillaverde",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--accent)] transition-transform hover:scale-110",children:F.jsx(wg,{className:"w-5 h-5"})})]})]})})},gF="modulepreload",yF=function(a){return"/"+a},r1={},rm=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let c=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=c(e.map(p=>{if(p=yF(p),p in r1)return;r1[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":gF,g||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((A,x)=>{b.addEventListener("load",A),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})};var cd={};cd.d=(a,t)=>{for(var e in t)cd.o(t,e)&&!cd.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})};cd.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t);var Rt=globalThis.pdfjsLib={};cd.d(Rt,{AbortException:()=>Rl,AnnotationEditorLayer:()=>Xb,AnnotationEditorParamsType:()=>Tt,AnnotationEditorType:()=>Ot,AnnotationEditorUIManager:()=>Sl,AnnotationLayer:()=>m3,AnnotationMode:()=>or,ColorPicker:()=>ig,DOMSVGFactory:()=>YA,DrawLayer:()=>$b,FeatureTest:()=>Di,GlobalWorkerOptions:()=>wa,ImageKind:()=>mm,InvalidPDFException:()=>EC,MissingPDFException:()=>Cl,OPS:()=>Un,OutputScale:()=>H0,PDFDataRangeTransport:()=>bR,PDFDateString:()=>zA,PDFWorker:()=>Rc,PasswordResponses:()=>SF,PermissionFlag:()=>AF,PixelsPerInch:()=>jr,RenderingCancelledException:()=>BA,TextLayer:()=>fb,UnexpectedResponseException:()=>Mg,Util:()=>pt,VerbosityLevel:()=>Tg,XfaLayer:()=>SR,build:()=>Wj,createValidAbsoluteUrl:()=>wF,fetchData:()=>Lg,getDocument:()=>zj,getFilenameFromUrl:()=>PF,getPdfFilenameFromUrl:()=>NF,getXfaPageViewport:()=>FF,isDataScheme:()=>Og,isPdfFile:()=>HA,noContextMenu:()=>Pn,normalizeUnicode:()=>LF,setLayerDimensions:()=>Al,shadow:()=>Ut,version:()=>Kj});const xi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xC=[1,0,0,1,0,0],N0=[.001,0,0,.001,0,0],vF=1e7,h0=1.35,rn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},or={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},bF="pdfjs_internal_editor_",Ot={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},AF={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},fi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},mm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Be={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Fh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Tg={ERRORS:0,WARNINGS:1,INFOS:5},Un={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},SF={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Cg=Tg.WARNINGS;function xF(a){Number.isInteger(a)&&(Cg=a)}function EF(){return Cg}function Rg(a){Cg>=Tg.INFOS&&console.log(`Info: ${a}`)}function Nt(a){Cg>=Tg.WARNINGS&&console.log(`Warning: ${a}`)}function ue(a){throw new Error(a)}function Ue(a,t){a||ue(t)}function _F(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function wF(a,t=null,e=null){if(!a)return null;try{if(e&&typeof a=="string"){if(e.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(e.tryConvertEncoding)try{a=DF(a)}catch{}}const n=t?new URL(a,t):new URL(a);if(_F(n))return n}catch{}return null}function Ut(a,t,e,n=!1){return Object.defineProperty(a,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Ur=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class F0 extends Ur{constructor(t,e){super(t,"PasswordException"),this.code=e}}class j0 extends Ur{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class EC extends Ur{constructor(t){super(t,"InvalidPDFException")}}class Cl extends Ur{constructor(t){super(t,"MissingPDFException")}}class Mg extends Ur{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class TF extends Ur{constructor(t){super(t,"FormatError")}}class Rl extends Ur{constructor(t){super(t,"AbortException")}}function _C(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&ue("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const n=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),c=a.subarray(r,l);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function Dg(a){typeof a!="string"&&ue("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=a.charCodeAt(n)&255;return e}function CF(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function FA(a){const t=Object.create(null);for(const[e,n]of a)t[e]=n;return t}function RF(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function MF(){try{return new Function(""),!0}catch{return!1}}class Di{static get isLittleEndian(){return Ut(this,"isLittleEndian",RF())}static get isEvalSupported(){return Ut(this,"isEvalSupported",MF())}static get isOffscreenCanvasSupported(){return Ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ut(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ut(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Ut(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const d0=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var Ma,gm,B0;class pt{static makeHexColor(t,e,n){return`#${d0[t]}${d0[e]}${d0[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,l]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],l[0],c[0]),Math.min(n[1],r[1],l[1],c[1]),Math.max(n[0],r[0],l[0],c[0]),Math.max(n[1],r[1],l[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],h=(n+c)/2,f=Math.sqrt((n+c)**2-4*(n*c-l*r))/2,p=h+f||1,g=h-f||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[n,l,r,c]}static bezierBoundingBox(t,e,n,r,l,c,h,f,p){return p?(p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],e,f)):p=[Math.min(t,h),Math.min(e,f),Math.max(t,h),Math.max(e,f)],_(this,Ma,B0).call(this,t,n,l,h,e,r,c,f,3*(-t+3*(n-l)+h),6*(t-2*n+l),3*(n-t),p),_(this,Ma,B0).call(this,t,n,l,h,e,r,c,f,3*(-e+3*(r-c)+f),6*(e-2*r+c),3*(r-e),p),p}}Ma=new WeakSet,gm=function(t,e,n,r,l,c,h,f,p,g){if(p<=0||p>=1)return;const v=1-p,b=p*p,A=b*p,x=v*(v*(v*t+3*p*e)+3*b*n)+A*r,w=v*(v*(v*l+3*p*c)+3*b*h)+A*f;g[0]=Math.min(g[0],x),g[1]=Math.min(g[1],w),g[2]=Math.max(g[2],x),g[3]=Math.max(g[3],w)},B0=function(t,e,n,r,l,c,h,f,p,g,v,b){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&_(this,Ma,gm).call(this,t,e,n,r,l,c,h,f,-v/g,b);return}const A=g**2-4*v*p;if(A<0)return;const x=Math.sqrt(A),w=2*p;_(this,Ma,gm).call(this,t,e,n,r,l,c,h,f,(-g+x)/w,b),_(this,Ma,gm).call(this,t,e,n,r,l,c,h,f,(-g-x)/w,b)},T(pt,Ma);function DF(a){return decodeURIComponent(escape(a))}let f0=null,o1=null;function LF(a){return f0||(f0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,o1=new Map([["","t"]])),a.replaceAll(f0,(t,e,n)=>e?e.normalize("NFKC"):o1.get(n))}function OF(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let t=0;t<32;t++)a[t]=Math.floor(Math.random()*255);return _C(a)}const jA="pdfjs_internal_id_",$s={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function kF(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(_C(a))}const Zs="http://www.w3.org/2000/svg",bo=class bo{};wt(bo,"CSS",96),wt(bo,"PDF",72),wt(bo,"PDF_TO_CSS_UNITS",bo.CSS/bo.PDF);let jr=bo;async function Lg(a,t="text"){if(Vh(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Uf{constructor({viewBox:t,scale:e,rotation:n,offsetX:r=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=l;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,g,v,b;switch(n%=360,n<0&&(n+=360),n){case 180:p=-1,g=0,v=0,b=1;break;case 90:p=0,g=1,v=1,b=0;break;case 270:p=0,g=-1,v=-1,b=0;break;case 0:p=1,g=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,b=-b);let A,x,w,M;p===0?(A=Math.abs(f-t[1])*e+r,x=Math.abs(h-t[0])*e+l,w=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(A=Math.abs(h-t[0])*e+r,x=Math.abs(f-t[1])*e+l,w=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[p*e,g*e,v*e,b*e,A-p*e*h-v*e*f,x-g*e*h-b*e*f],this.width=w,this.height=M}get rawDims(){const{viewBox:t}=this;return Ut(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Uf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return pt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=pt.applyTransform([t[0],t[1]],this.transform),n=pt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return pt.applyInverseTransform([t,e],this.transform)}}class BA extends Ur{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Og(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function HA(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function PF(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function NF(a,t="document.pdf"){if(typeof a!="string")return t;if(Og(a))return Nt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(a);let l=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=n.exec(decodeURIComponent(l))[0]}catch{}return l||t}class l1{constructor(){wt(this,"started",Object.create(null));wt(this,"times",[])}time(t){t in this.started&&Nt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Nt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:l}of this.times)t.push(`${n.padEnd(e)} ${l-r}ms
`);return t.join("")}}function Vh(a,t){try{const{protocol:e}=t?new URL(a,t):new URL(a);return e==="http:"||e==="https:"}catch{return!1}}function Pn(a){a.preventDefault()}function c1(a){console.log("Deprecated API usage: "+a)}var Sd;class zA{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,Sd)||E(this,Sd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,Sd).exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(c+=g,h+=v):p==="+"&&(c-=g,h-=v),new Date(Date.UTC(n,r,l,c,h,f))}}Sd=new WeakMap,T(zA,Sd);function FF(a,{scale:t=1,rotation:e=0}){const{width:n,height:r}=a.attributes.style,l=[0,0,parseInt(n),parseInt(r)];return new Uf({viewBox:l,scale:t,rotation:e})}function VA(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Nt(`Not a valid color format: "${a}"`),[0,0,0])}function jF(a){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of a.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;a.set(e,VA(n))}t.remove()}function ye(a){const{a:t,b:e,c:n,d:r,e:l,f:c}=a.getTransform();return[t,e,n,r,l,c]}function Qs(a){const{a:t,b:e,c:n,d:r,e:l,f:c}=a.getTransform().invertSelf();return[t,e,n,r,l,c]}function Al(a,t,e=!1,n=!0){if(t instanceof Uf){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=a,h=Di.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${l}px`,g=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,v=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(c.width=g,c.height=v):(c.width=v,c.height=g)}n&&a.setAttribute("data-main-rotation",t.rotation)}class H0{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var lr,xo,In,Eo,xd,Ed,sg,wC,Li,TC,CC,ym,RC,V0;const Js=class Js{constructor(t){T(this,Li);T(this,lr,null);T(this,xo,null);T(this,In);T(this,Eo,null);T(this,xd,null);E(this,In,t),d(Js,Ed)||E(Js,Ed,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=E(this,lr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,In)._uiManager._signal;t.addEventListener("contextmenu",Pn,{signal:e}),t.addEventListener("pointerdown",_(Js,sg,wC),{signal:e});const n=E(this,Eo,document.createElement("div"));n.className="buttons",t.append(n);const r=d(this,In).toolbarPosition;if(r){const{style:l}=t,c=d(this,In)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,Li,RC).call(this),t}get div(){return d(this,lr)}hide(){var t;d(this,lr).classList.add("hidden"),(t=d(this,xo))==null||t.hideDropdown()}show(){var t;d(this,lr).classList.remove("hidden"),(t=d(this,xd))==null||t.shown()}async addAltText(t){const e=await t.render();_(this,Li,ym).call(this,e),d(this,Eo).prepend(e,d(this,Li,V0)),E(this,xd,t)}addColorPicker(t){E(this,xo,t);const e=t.renderButton();_(this,Li,ym).call(this,e),d(this,Eo).prepend(e,d(this,Li,V0))}remove(){var t;d(this,lr).remove(),(t=d(this,xo))==null||t.destroy(),E(this,xo,null)}};lr=new WeakMap,xo=new WeakMap,In=new WeakMap,Eo=new WeakMap,xd=new WeakMap,Ed=new WeakMap,sg=new WeakSet,wC=function(t){t.stopPropagation()},Li=new WeakSet,TC=function(t){d(this,In)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},CC=function(t){d(this,In)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},ym=function(t){const e=d(this,In)._uiManager._signal;t.addEventListener("focusin",_(this,Li,TC).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",_(this,Li,CC).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Pn,{signal:e})},RC=function(){const{editorType:t,_uiManager:e}=d(this,In),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",d(Js,Ed)[t]),_(this,Li,ym).call(this,n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),d(this,Eo).append(n)},V0=function(){const t=document.createElement("div");return t.className="divider",t},T(Js,sg),T(Js,Ed,null);let z0=Js;var _d,_o,wo,Hr,MC,DC,LC;class BF{constructor(t){T(this,Hr);T(this,_d,null);T(this,_o,null);T(this,wo);E(this,wo,t)}show(t,e,n){const[r,l]=_(this,Hr,DC).call(this,e,n),{style:c}=d(this,_o)||E(this,_o,_(this,Hr,MC).call(this));t.append(d(this,_o)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,_o).remove()}}_d=new WeakMap,_o=new WeakMap,wo=new WeakMap,Hr=new WeakSet,MC=function(){const t=E(this,_o,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Pn,{signal:d(this,wo)._signal});const e=E(this,_d,document.createElement("div"));return e.className="buttons",t.append(e),_(this,Hr,LC).call(this),t},DC=function(t,e){let n=0,r=0;for(const l of t){const c=l.y+l.height;if(c<n)continue;const h=l.x+(e?l.width:0);if(c>n){r=h,n=c;continue}e?h>r&&(r=h):h<r&&(r=h)}return[e?1-r:r,n]},LC=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=d(this,wo)._signal;t.addEventListener("contextmenu",Pn,{signal:n}),t.addEventListener("click",()=>{d(this,wo).highlightSelection("floating_button")},{signal:n}),d(this,_d).append(t)};function Jm(a,t,e){for(const n of e)t.addEventListener(n,a[n].bind(a))}function HF(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var ag;class zF{constructor(){T(this,ag,0)}get id(){return`${bF}${wi(this,ag)._++}`}}ag=new WeakMap;var Lc,wd,mi,Oc,vm;const $A=class $A{constructor(){T(this,Oc);T(this,Lc,OF());T(this,wd,0);T(this,mi,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ut(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:n,size:r,type:l}=t;return _(this,Oc,vm).call(this,`${e}_${n}_${r}_${l}`,t)}async getFromUrl(t){return _(this,Oc,vm).call(this,t,t)}async getFromBlob(t,e){const n=await e;return _(this,Oc,vm).call(this,t,n)}async getFromId(t){d(this,mi)||E(this,mi,new Map);const e=d(this,mi).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,mi)||E(this,mi,new Map);let n=d(this,mi).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${d(this,Lc)}_${wi(this,wd)._++}`,refCounter:1,isSvg:!1},d(this,mi).set(t,n),d(this,mi).set(n.id,n),n}getSvgUrl(t){const e=d(this,mi).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;d(this,mi)||E(this,mi,new Map);const e=d(this,mi).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(n.width,n.height);l.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=l.convertToBlob()}(r=n.close)==null||r.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,Lc)}_`)}};Lc=new WeakMap,wd=new WeakMap,mi=new WeakMap,Oc=new WeakSet,vm=async function(t,e){d(this,mi)||E(this,mi,new Map);let n=d(this,mi).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,Lc)}_${wi(this,wd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(n.url=e,r=await Lg(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=$A._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((p,g)=>{h.onload=()=>{n.bitmap=h,n.isSvg=!0,p()},c.onload=async()=>{const v=n.svgUrl=c.result;h.src=await l?`${v}#svgView(preserveAspectRatio(none))`:v},h.onerror=c.onerror=g});c.readAsDataURL(r),await f}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return d(this,mi).set(t,n),n&&d(this,mi).set(n.id,n),n};let U0=$A;var We,cr,Td,$e;class VF{constructor(t=128){T(this,We,[]);T(this,cr,!1);T(this,Td);T(this,$e,-1);E(this,Td,t)}add({cmd:t,undo:e,post:n,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&t(),d(this,cr))return;const f={cmd:t,undo:e,post:n,type:l};if(d(this,$e)===-1){d(this,We).length>0&&(d(this,We).length=0),E(this,$e,0),d(this,We).push(f);return}if(c&&d(this,We)[d(this,$e)].type===l){h&&(f.undo=d(this,We)[d(this,$e)].undo),d(this,We)[d(this,$e)]=f;return}const p=d(this,$e)+1;p===d(this,Td)?d(this,We).splice(0,1):(E(this,$e,p),p<d(this,We).length&&d(this,We).splice(p)),d(this,We).push(f)}undo(){if(d(this,$e)===-1)return;E(this,cr,!0);const{undo:t,post:e}=d(this,We)[d(this,$e)];t(),e==null||e(),E(this,cr,!1),E(this,$e,d(this,$e)-1)}redo(){if(d(this,$e)<d(this,We).length-1){E(this,$e,d(this,$e)+1),E(this,cr,!0);const{cmd:t,post:e}=d(this,We)[d(this,$e)];t(),e==null||e(),E(this,cr,!1)}}hasSomethingToUndo(){return d(this,$e)!==-1}hasSomethingToRedo(){return d(this,$e)<d(this,We).length-1}destroy(){E(this,We,null)}}We=new WeakMap,cr=new WeakMap,Td=new WeakMap,$e=new WeakMap;var rg,OC;class If{constructor(t){T(this,rg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Di.platform;for(const[n,r,l={}]of t)for(const c of n){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(_(this,rg,OC).call(this,e));if(!n)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:h=null}}=n;h&&!h(t,e)||(r.bind(t,...c,e)(),l||(e.stopPropagation(),e.preventDefault()))}}rg=new WeakSet,OC=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const og=class og{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return jF(t),Ut(this,"_colors",t)}convert(t){const e=VA(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((l,c)=>l===e[c]))return og._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?pt.makeHexColor(...e):t}};wt(og,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let I0=og;var kc,Qi,He,si,Pc,ea,Nc,Gn,ur,Fc,To,hs,qn,Co,Cd,Rd,jc,Md,ds,hr,Bc,dr,fs,lg,fr,Dd,pr,Ro,Ld,Od,Qe,Wt,ia,Mo,kd,Pd,mr,ps,na,Nd,Tn,rt,bm,G0,kC,PC,Am,NC,FC,jC,q0,BC,X0,Y0,HC,Ti,ar,zC,VC,K0,UC,Uh,W0;const Tc=class Tc{constructor(t,e,n,r,l,c,h,f,p,g,v){T(this,rt);T(this,kc,new AbortController);T(this,Qi,null);T(this,He,new Map);T(this,si,new Map);T(this,Pc,null);T(this,ea,null);T(this,Nc,null);T(this,Gn,new VF);T(this,ur,null);T(this,Fc,0);T(this,To,new Set);T(this,hs,null);T(this,qn,null);T(this,Co,new Set);T(this,Cd,!1);T(this,Rd,!1);T(this,jc,!1);T(this,Md,null);T(this,ds,null);T(this,hr,null);T(this,Bc,null);T(this,dr,!1);T(this,fs,null);T(this,lg,new zF);T(this,fr,!1);T(this,Dd,!1);T(this,pr,null);T(this,Ro,null);T(this,Ld,null);T(this,Od,null);T(this,Qe,Ot.NONE);T(this,Wt,new Set);T(this,ia,null);T(this,Mo,null);T(this,kd,null);T(this,Pd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,mr,[0,0]);T(this,ps,null);T(this,na,null);T(this,Nd,null);T(this,Tn,null);const b=this._signal=d(this,kc).signal;E(this,na,t),E(this,Nd,e),E(this,Pc,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:b}),_(this,rt,NC).call(this),_(this,rt,HC).call(this),_(this,rt,q0).call(this),E(this,ea,l.annotationStorage),E(this,Md,l.filterFactory),E(this,Mo,c),E(this,Bc,h||null),E(this,Cd,f),E(this,Rd,p),E(this,jc,g),E(this,Od,v||null),this.viewParameters={realScale:jr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Tc.prototype,e=c=>d(c,na).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new If([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,na).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,na).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,n,r;(t=d(this,Tn))==null||t.resolve(),E(this,Tn,null),(e=d(this,kc))==null||e.abort(),E(this,kc,null),this._signal=null;for(const l of d(this,si).values())l.destroy();d(this,si).clear(),d(this,He).clear(),d(this,Co).clear(),E(this,Qi,null),d(this,Wt).clear(),d(this,Gn).destroy(),(n=d(this,Pc))==null||n.destroy(),(r=d(this,fs))==null||r.hide(),E(this,fs,null),d(this,ds)&&(clearTimeout(d(this,ds)),E(this,ds,null)),d(this,ps)&&(clearTimeout(d(this,ps)),E(this,ps,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,Od)}get useNewAltTextFlow(){return d(this,Rd)}get useNewAltTextWhenAddingImage(){return d(this,jc)}get hcmFilter(){return Ut(this,"hcmFilter",d(this,Mo)?d(this,Md).addHCMFilter(d(this,Mo).foreground,d(this,Mo).background):"none")}get direction(){return Ut(this,"direction",getComputedStyle(d(this,na)).direction)}get highlightColors(){return Ut(this,"highlightColors",d(this,Bc)?new Map(d(this,Bc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){E(this,Ld,t)}editAltText(t,e=!1){var n;(n=d(this,Pc))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":E(this,jc,e);break}}onPageChanging({pageNumber:t}){E(this,Fc,t-1)}focusMainContainer(){d(this,na).focus()}findParent(t,e){for(const n of d(this,si).values()){const{x:r,y:l,width:c,height:h}=n.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=l&&e<=l+h)return n}return null}disableUserSelect(t=!1){d(this,Nd).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,Co).add(t)}removeShouldRescale(t){d(this,Co).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*jr.PDF_TO_CSS_UNITS;for(const e of d(this,Co))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c}=e,h=e.toString(),p=_(this,rt,bm).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const v=_(this,rt,G0).call(this,p),b=d(this,Qe)===Ot.NONE,A=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Ot.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,ea)&&!d(this,ea).has(t.id)&&d(this,ea).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,dr)&&(E(this,dr,!1),_(this,rt,Am).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,Wt))if(e.div.contains(t)){E(this,Ro,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,Ro))return;const[t,e]=d(this,Ro);E(this,Ro,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){_(this,rt,q0).call(this),_(this,rt,X0).call(this)}removeEditListeners(){_(this,rt,BC).call(this),_(this,rt,Y0).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of d(this,qn))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of d(this,qn))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=d(this,Qi))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of d(this,Wt)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of d(this,qn))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){Nt(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of n){const p=await r.deserialize(f);if(!p)return;l.push(p)}const c=()=>{for(const f of l)_(this,rt,K0).call(this,f);_(this,rt,W0).call(this,l)},h=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){Nt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Qe)!==Ot.NONE&&!this.isEditorHandlingKeyboard&&Tc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,dr)&&(E(this,dr,!1),_(this,rt,Am).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(_(this,rt,FC).call(this),_(this,rt,X0).call(this),_(this,rt,Ti).call(this,{isEditing:d(this,Qe)!==Ot.NONE,isEmpty:_(this,rt,Uh).call(this),hasSomethingToUndo:d(this,Gn).hasSomethingToUndo(),hasSomethingToRedo:d(this,Gn).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,rt,jC).call(this),_(this,rt,Y0).call(this),_(this,rt,Ti).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,qn)){E(this,qn,t);for(const e of d(this,qn))_(this,rt,ar).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,lg).id}get currentLayer(){return d(this,si).get(d(this,Fc))}getLayer(t){return d(this,si).get(t)}get currentPageIndex(){return d(this,Fc)}addLayer(t){d(this,si).set(t.pageIndex,t),d(this,fr)?t.enable():t.disable()}removeLayer(t){d(this,si).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(d(this,Qe)!==t&&!(d(this,Tn)&&(await d(this,Tn).promise,!d(this,Tn)))){if(E(this,Tn,Promise.withResolvers()),E(this,Qe,t),t===Ot.NONE){this.setEditingState(!1),_(this,rt,VC).call(this),d(this,Tn).resolve();return}this.setEditingState(!0),await _(this,rt,zC).call(this),this.unselectAll();for(const r of d(this,si).values())r.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),d(this,Tn).resolve();return}for(const r of d(this,He).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();d(this,Tn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,Qe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(d(this,qn)){switch(t){case Tt.CREATE:this.currentLayer.addNewEditor();return;case Tt.HIGHLIGHT_DEFAULT_COLOR:(n=d(this,Ld))==null||n.updateColor(e);break;case Tt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,kd)||E(this,kd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of d(this,Wt))r.updateParams(t,e);for(const r of d(this,qn))r.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var l;for(const c of d(this,He).values())c.editorType===t&&c.show(e);(((l=d(this,kd))==null?void 0:l.get(Tt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&_(this,rt,ar).call(this,[[Tt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,Dd)!==t){E(this,Dd,t);for(const e of d(this,si).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of d(this,He).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return d(this,He).get(t)}addEditor(t){d(this,He).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,ds)&&clearTimeout(d(this,ds)),E(this,ds,setTimeout(()=>{this.focusMainContainer(),E(this,ds,null)},0))),d(this,He).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,To).has(t.annotationElementId))&&((e=d(this,ea))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,To).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,To).has(t)}removeDeletedAnnotationElement(t){d(this,To).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,Qi)!==t&&(E(this,Qi,t),t&&_(this,rt,ar).call(this,t.propertiesToUpdate))}updateUI(t){d(this,rt,UC)===t&&_(this,rt,ar).call(this,t.propertiesToUpdate)}toggleSelected(t){if(d(this,Wt).has(t)){d(this,Wt).delete(t),t.unselect(),_(this,rt,Ti).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Wt).add(t),t.select(),_(this,rt,ar).call(this,t.propertiesToUpdate),_(this,rt,Ti).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of d(this,Wt))e!==t&&e.unselect();d(this,Wt).clear(),d(this,Wt).add(t),t.select(),_(this,rt,ar).call(this,t.propertiesToUpdate),_(this,rt,Ti).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,Wt).has(t)}get firstSelectedEditor(){return d(this,Wt).values().next().value}unselect(t){t.unselect(),d(this,Wt).delete(t),_(this,rt,Ti).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Wt).size!==0}get isEnterHandled(){return d(this,Wt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,Gn).undo(),_(this,rt,Ti).call(this,{hasSomethingToUndo:d(this,Gn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,rt,Uh).call(this)})}redo(){d(this,Gn).redo(),_(this,rt,Ti).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Gn).hasSomethingToRedo(),isEmpty:_(this,rt,Uh).call(this)})}addCommands(t){d(this,Gn).add(t),_(this,rt,Ti).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,rt,Uh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...d(this,Wt)],e=()=>{for(const r of t)r.remove()},n=()=>{for(const r of t)_(this,rt,K0).call(this,r)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=d(this,Qi))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,Qi)||this.hasSelection}selectAll(){for(const t of d(this,Wt))t.commit();_(this,rt,W0).call(this,d(this,He).values())}unselectAll(){if(!(d(this,Qi)&&(d(this,Qi).commitOrRemove(),d(this,Qe)!==Ot.NONE))&&this.hasSelection){for(const t of d(this,Wt))t.unselect();d(this,Wt).clear(),_(this,rt,Ti).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,mr)[0]+=t,d(this,mr)[1]+=e;const[r,l]=d(this,mr),c=[...d(this,Wt)],h=1e3;d(this,ps)&&clearTimeout(d(this,ps)),E(this,ps,setTimeout(()=>{E(this,ps,null),d(this,mr)[0]=d(this,mr)[1]=0,this.addCommands({cmd:()=>{for(const f of c)d(this,He).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of c)d(this,He).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},h));for(const f of c)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,hs,new Map);for(const t of d(this,Wt))d(this,hs).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,hs))return!1;this.disableUserSelect(!1);const t=d(this,hs);E(this,hs,null);let e=!1;for(const[{x:r,y:l,pageIndex:c},h]of t)h.newX=r,h.newY=l,h.newPageIndex=c,e||(e=r!==h.savedX||l!==h.savedY||c!==h.savedPageIndex);if(!e)return!1;const n=(r,l,c,h)=>{if(d(this,He).has(r.id)){const f=d(this,si).get(h);f?r._setParentAndPosition(f,l,c):(r.pageIndex=h,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:h}]of t)n(r,l,c,h)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:h}]of t)n(r,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,hs))for(const n of d(this,hs).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,Wt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,Qi)===t}getActive(){return d(this,Qi)}getMode(){return d(this,Qe)}get imageManager(){return Ut(this,"imageManager",new U0)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:l,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,g,v,b)=>({x:(g-r)/c,y:1-(p+v-n)/l,width:b/c,height:v/l});break;case"180":h=(p,g,v,b)=>({x:1-(p+v-n)/l,y:1-(g+b-r)/c,width:v/l,height:b/c});break;case"270":h=(p,g,v,b)=>({x:1-(g+b-r)/c,y:(p-n)/l,width:b/c,height:v/l});break;default:h=(p,g,v,b)=>({x:(p-n)/l,y:(g-r)/c,width:v/l,height:b/c});break}const f=[];for(let p=0,g=e.rangeCount;p<g;p++){const v=e.getRangeAt(p);if(!v.collapsed)for(const{x:b,y:A,width:x,height:w}of v.getClientRects())x===0||w===0||f.push(h(b,A,x,w))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Nc)||E(this,Nc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Nc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=d(this,Nc))==null?void 0:r.get(t.data.id);if(!e)return;const n=d(this,ea).getRawValue(e);n&&(d(this,Qe)===Ot.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};kc=new WeakMap,Qi=new WeakMap,He=new WeakMap,si=new WeakMap,Pc=new WeakMap,ea=new WeakMap,Nc=new WeakMap,Gn=new WeakMap,ur=new WeakMap,Fc=new WeakMap,To=new WeakMap,hs=new WeakMap,qn=new WeakMap,Co=new WeakMap,Cd=new WeakMap,Rd=new WeakMap,jc=new WeakMap,Md=new WeakMap,ds=new WeakMap,hr=new WeakMap,Bc=new WeakMap,dr=new WeakMap,fs=new WeakMap,lg=new WeakMap,fr=new WeakMap,Dd=new WeakMap,pr=new WeakMap,Ro=new WeakMap,Ld=new WeakMap,Od=new WeakMap,Qe=new WeakMap,Wt=new WeakMap,ia=new WeakMap,Mo=new WeakMap,kd=new WeakMap,Pd=new WeakMap,mr=new WeakMap,ps=new WeakMap,na=new WeakMap,Nd=new WeakMap,Tn=new WeakMap,rt=new WeakSet,bm=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},G0=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of d(this,si).values())if(n.hasTextLayer(t))return n;return null},kC=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=_(this,rt,bm).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(d(this,fs)||E(this,fs,new BF(this)),d(this,fs).show(n,r,this.direction==="ltr"))},PC=function(){var l,c,h;const t=document.getSelection();if(!t||t.isCollapsed){d(this,ia)&&((l=d(this,fs))==null||l.hide(),E(this,ia,null),_(this,rt,Ti).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,ia))return;const r=_(this,rt,bm).call(this,t).closest(".textLayer");if(!r){d(this,ia)&&((c=d(this,fs))==null||c.hide(),E(this,ia,null),_(this,rt,Ti).call(this,{hasSelectedText:!1}));return}if((h=d(this,fs))==null||h.hide(),E(this,ia,e),_(this,rt,Ti).call(this,{hasSelectedText:!0}),!(d(this,Qe)!==Ot.HIGHLIGHT&&d(this,Qe)!==Ot.NONE)&&(d(this,Qe)===Ot.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,dr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=d(this,Qe)===Ot.HIGHLIGHT?_(this,rt,G0).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),v=b=>{b.type==="pointerup"&&b.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&_(this,rt,Am).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("blur",v,{signal:g})}},Am=function(t=""){d(this,Qe)===Ot.HIGHLIGHT?this.highlightSelection(t):d(this,Cd)&&_(this,rt,kC).call(this)},NC=function(){document.addEventListener("selectionchange",_(this,rt,PC).bind(this),{signal:this._signal})},FC=function(){if(d(this,hr))return;E(this,hr,new AbortController);const t=this.combinedSignal(d(this,hr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},jC=function(){var t;(t=d(this,hr))==null||t.abort(),E(this,hr,null)},q0=function(){if(d(this,pr))return;E(this,pr,new AbortController);const t=this.combinedSignal(d(this,pr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},BC=function(){var t;(t=d(this,pr))==null||t.abort(),E(this,pr,null)},X0=function(){if(d(this,ur))return;E(this,ur,new AbortController);const t=this.combinedSignal(d(this,ur));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Y0=function(){var t;(t=d(this,ur))==null||t.abort(),E(this,ur,null)},HC=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Ti=function(t){Object.entries(t).some(([n,r])=>d(this,Pd)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Pd),t)}),d(this,Qe)===Ot.HIGHLIGHT&&t.hasSelectedEditor===!1&&_(this,rt,ar).call(this,[[Tt.HIGHLIGHT_FREE,!0]]))},ar=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},zC=async function(){if(!d(this,fr)){E(this,fr,!0);const t=[];for(const e of d(this,si).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,He).values())e.enable()}},VC=function(){if(this.unselectAll(),d(this,fr)){E(this,fr,!1);for(const t of d(this,si).values())t.disable();for(const t of d(this,He).values())t.disable()}},K0=function(t){const e=d(this,si).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},UC=function(){let t=null;for(t of d(this,Wt));return t},Uh=function(){if(d(this,He).size===0)return!0;if(d(this,He).size===1)for(const t of d(this,He).values())return t.isEmpty();return!1},W0=function(t){for(const e of d(this,Wt))e.unselect();d(this,Wt).clear();for(const e of t)e.isEmpty()||(d(this,Wt).add(e),e.select());_(this,rt,Ti).call(this,{hasSelectedEditor:this.hasSelection})},wt(Tc,"TRANSLATE_SMALL",1),wt(Tc,"TRANSLATE_BIG",10);let Sl=Tc;var Ze,ms,Xn,Hc,gs,Zi,zc,ys,Bi,sa,Do,vs,gr,is,Ih,Sm;const Ci=class Ci{constructor(t){T(this,is);T(this,Ze,null);T(this,ms,!1);T(this,Xn,null);T(this,Hc,null);T(this,gs,null);T(this,Zi,null);T(this,zc,!1);T(this,ys,null);T(this,Bi,null);T(this,sa,null);T(this,Do,null);T(this,vs,!1);E(this,Bi,t),E(this,vs,t._uiManager.useNewAltTextFlow),d(Ci,gr)||E(Ci,gr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ci._l10n??(Ci._l10n=t)}async render(){const t=E(this,Xn,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=E(this,Hc,document.createElement("span"));t.append(e),d(this,vs)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(Ci,gr).missing),e.setAttribute("data-l10n-id",d(Ci,gr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=d(this,Bi)._uiManager._signal;t.addEventListener("contextmenu",Pn,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const r=l=>{l.preventDefault(),d(this,Bi)._uiManager.editAltText(d(this,Bi)),d(this,vs)&&d(this,Bi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,is,Ih)}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(E(this,zc,!0),r(l))},{signal:n}),await _(this,is,Sm).call(this),t}finish(){d(this,Xn)&&(d(this,Xn).focus({focusVisible:d(this,zc)}),E(this,zc,!1))}isEmpty(){return d(this,vs)?d(this,Ze)===null:!d(this,Ze)&&!d(this,ms)}hasData(){return d(this,vs)?d(this,Ze)!==null||!!d(this,sa):this.isEmpty()}get guessedText(){return d(this,sa)}async setGuessedText(t){d(this,Ze)===null&&(E(this,sa,t),E(this,Do,await Ci._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),_(this,is,Sm).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,vs)||d(this,Ze)){(e=d(this,ys))==null||e.remove(),E(this,ys,null);return}if(!d(this,ys)){const n=E(this,ys,document.createElement("div"));n.className="noAltTextBadge",d(this,Bi).div.append(n)}d(this,ys).classList.toggle("hidden",!t)}serialize(t){let e=d(this,Ze);return!t&&d(this,sa)===e&&(e=d(this,Do)),{altText:e,decorative:d(this,ms),guessedText:d(this,sa),textWithDisclaimer:d(this,Do)}}get data(){return{altText:d(this,Ze),decorative:d(this,ms)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:l=!1}){n&&(E(this,sa,n),E(this,Do,r)),!(d(this,Ze)===t&&d(this,ms)===e)&&(l||(E(this,Ze,t),E(this,ms,e)),_(this,is,Sm).call(this))}toggle(t=!1){d(this,Xn)&&(!t&&d(this,Zi)&&(clearTimeout(d(this,Zi)),E(this,Zi,null)),d(this,Xn).disabled=!t)}shown(){d(this,Bi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,is,Ih)}})}destroy(){var t,e;(t=d(this,Xn))==null||t.remove(),E(this,Xn,null),E(this,Hc,null),E(this,gs,null),(e=d(this,ys))==null||e.remove(),E(this,ys,null)}};Ze=new WeakMap,ms=new WeakMap,Xn=new WeakMap,Hc=new WeakMap,gs=new WeakMap,Zi=new WeakMap,zc=new WeakMap,ys=new WeakMap,Bi=new WeakMap,sa=new WeakMap,Do=new WeakMap,vs=new WeakMap,gr=new WeakMap,is=new WeakSet,Ih=function(){return d(this,Ze)&&"added"||d(this,Ze)===null&&this.guessedText&&"review"||"missing"},Sm=async function(){var r,l,c;const t=d(this,Xn);if(!t)return;if(d(this,vs)){if(t.classList.toggle("done",!!d(this,Ze)),t.setAttribute("data-l10n-id",d(Ci,gr)[d(this,is,Ih)]),(r=d(this,Hc))==null||r.setAttribute("data-l10n-id",d(Ci,gr)[`${d(this,is,Ih)}-label`]),!d(this,Ze)){(l=d(this,gs))==null||l.remove();return}}else{if(!d(this,Ze)&&!d(this,ms)){t.classList.remove("done"),(c=d(this,gs))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,gs);if(!e){E(this,gs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,Bi).id}`;const h=100,f=d(this,Bi)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(d(this,Zi)),E(this,Zi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{E(this,Zi,setTimeout(()=>{E(this,Zi,null),d(this,gs).classList.add("show"),d(this,Bi)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;d(this,Zi)&&(clearTimeout(d(this,Zi)),E(this,Zi,null)),(p=d(this,gs))==null||p.classList.remove("show")},{signal:f})}d(this,ms)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,Ze)),e.parentNode||t.append(e);const n=d(this,Bi).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},T(Ci,gr,null),wt(Ci,"_l10n",null);let tg=Ci;var Lo,Yn,me,Vc,Oo,ai,ko,yr,Fd,Po,vr,jd,No,aa,bs,Uc,Ic,Cn,Bd,cg,kt,$0,Hd,Q0,Z0,IC,GC,J0,tb,eb,qC,ib,XC,YC,KC,nb,Gh;const Kt=class Kt{constructor(t){T(this,kt);T(this,Lo,null);T(this,Yn,null);T(this,me,null);T(this,Vc,!1);T(this,Oo,!1);T(this,ai,null);T(this,ko,null);T(this,yr,null);T(this,Fd,"");T(this,Po,!1);T(this,vr,null);T(this,jd,!1);T(this,No,!1);T(this,aa,!1);T(this,bs,null);T(this,Uc,0);T(this,Ic,0);T(this,Cn,null);wt(this,"_editToolbar",null);wt(this,"_initialOptions",Object.create(null));wt(this,"_initialData",null);wt(this,"_isVisible",!0);wt(this,"_uiManager",null);wt(this,"_focusEventsAllowed",!0);T(this,Bd,!1);T(this,cg,Kt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[l,c];const[h,f]=this.parentDimensions;this.x=t.x/h,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Kt.prototype._resizeWithKeyboard,e=Sl.TRANSLATE_SMALL,n=Sl.TRANSLATE_BIG;return Ut(this,"_resizerKeyboardManager",new If([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Kt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new UF({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Kt._l10n??(Kt._l10n=t),Kt._l10nResizer||(Kt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Kt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Kt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ue("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,Bd)}set _isDraggable(t){var e;E(this,Bd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,cg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):_(this,kt,Gh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Po)?E(this,Po,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[l,c]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/l,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){_(this,kt,$0).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,vr)||E(this,vr,[this.x,this.y]),_(this,kt,$0).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,vr)||E(this,vr,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=t/n,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,vr)&&(d(this,vr)[0]!==this.x||d(this,vr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Kt,r=n/t,l=n/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:r,y:l,width:c,height:h}=this;if(c*=e,h*=n,r*=e,l*=n,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),l=Math.max(0,Math.min(n-h,l));break;case 90:r=Math.max(0,Math.min(e-h,r)),l=Math.min(n,Math.max(c,l));break;case 180:r=Math.min(e,Math.max(c,r)),l=Math.min(n,Math.max(h,l));break;case 270:r=Math.min(e,Math.max(h,r)),l=Math.max(0,Math.min(n-c,l));break}this.x=r/=e,this.y=l/=n;const[f,p]=this.getBaseTranslation();r+=f,l+=p;const{style:g}=this.div;g.left=`${(100*r).toFixed(2)}%`,g.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return _(n=Kt,Hd,Q0).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return _(n=Kt,Hd,Q0).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,d(this,Oo)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),l=!d(this,Oo)&&e.endsWith("%");if(r&&l)return;const[c,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/c).toFixed(2)}%`),!d(this,Oo)&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=d(this,me))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,No)?this._editToolbar:(this._editToolbar=new z0(this),this.div.append(this._editToolbar.render()),d(this,me)&&await this._editToolbar.addAltText(d(this,me)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,me))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,me)||(tg.initialize(Kt._l10n),E(this,me,new tg(this)),d(this,Lo)&&(d(this,me).data=d(this,Lo),E(this,Lo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,me))==null?void 0:t.data}set altTextData(t){d(this,me)&&(d(this,me).data=t)}get guessedAltText(){var t;return(t=d(this,me))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,me))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,me))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,me)&&!d(this,me).isEmpty()}hasAltTextData(){var t;return((t=d(this,me))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,Vc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),_(this,kt,ib).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),Jm(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Di.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(E(this,Po,!0),this._isDraggable){_(this,kt,qC).call(this,t);return}_(this,kt,eb).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){d(this,bs)&&clearTimeout(d(this,bs)),E(this,bs,setTimeout(()=>{var t;E(this,bs,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[h,f]=this.pageTranslation,p=t/r,g=e/r,v=this.x*l,b=this.y*c,A=this.width*l,x=this.height*c;switch(n){case 0:return[v+p+h,c-b-g-x+f,v+p+A+h,c-b-g+f];case 90:return[v+g+h,c-b+p+f,v+g+x+h,c-b+p+A+f];case 180:return[v-p-A+h,c-b+g+f,v-p+h,c-b+g+x+f];case 270:return[v-g-x+h,c-b-p-A+f,v-g+h,c-b-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,l,c]=t,h=l-n,f=c-r;switch(this.rotation){case 0:return[n,e-c,h,f];case 90:return[n,e-r,f,h];case 180:return[l,e-r,h,f];case 270:return[l,e-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,No,!0)}disableEditMode(){E(this,No,!1)}isInEditMode(){return d(this,No)}shouldGetKeyboardEvents(){return d(this,aa)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){_(this,kt,ib).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ue("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,E(r,Lo,t.accessibilityData);const[l,c]=r.pageDimensions,[h,f,p,g]=r.getRectInCurrentCoords(t.rect,c);return r.x=h/l,r.y=f/c,r.width=p/l,r.height=g/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=d(this,yr))==null||t.abort(),E(this,yr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,bs)&&(clearTimeout(d(this,bs)),E(this,bs,null)),_(this,kt,Gh).call(this),this.removeEditToolbar(),d(this,Cn)){for(const e of d(this,Cn).values())clearTimeout(e);E(this,Cn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,kt,IC).call(this),d(this,ai).classList.remove("hidden"),Jm(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),E(this,ko,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,ai).children;if(!d(this,Yn)){E(this,Yn,Array.from(e));const c=_(this,kt,XC).bind(this),h=_(this,kt,YC).bind(this),f=this._uiManager._signal;for(const p of d(this,Yn)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",_(this,kt,KC).bind(this,g),{signal:f}),p.setAttribute("data-l10n-id",Kt._l10nResizer[g])}}const n=d(this,Yn)[0];let r=0;for(const c of e){if(c===n)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(d(this,Yn).length/4);if(l!==r){if(l<r)for(let h=0;h<r-l;h++)d(this,ai).append(d(this,ai).firstChild);else if(l>r)for(let h=0;h<l-r;h++)d(this,ai).firstChild.before(d(this,ai).lastChild);let c=0;for(const h of e){const p=d(this,Yn)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Kt._l10nResizer[p])}}_(this,kt,nb).call(this,0),E(this,aa,!0),d(this,ai).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,aa)&&_(this,kt,tb).call(this,d(this,Fd),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){_(this,kt,Gh).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(n=d(this,me))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,r,l;(t=d(this,ai))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=d(this,me))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,jd)}set isEditing(t){E(this,jd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){E(this,Oo,!0);const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,Cn)||E(this,Cn,new Map);const{action:n}=t;let r=d(this,Cn).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),d(this,Cn).delete(n),d(this,Cn).size===0&&E(this,Cn,null)},Kt._telemetryTimeout),d(this,Cn).set(n,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),E(this,Vc,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Vc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Lo=new WeakMap,Yn=new WeakMap,me=new WeakMap,Vc=new WeakMap,Oo=new WeakMap,ai=new WeakMap,ko=new WeakMap,yr=new WeakMap,Fd=new WeakMap,Po=new WeakMap,vr=new WeakMap,jd=new WeakMap,No=new WeakMap,aa=new WeakMap,bs=new WeakMap,Uc=new WeakMap,Ic=new WeakMap,Cn=new WeakMap,Bd=new WeakMap,cg=new WeakMap,kt=new WeakSet,$0=function([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this.fixAndSetPosition()},Hd=new WeakSet,Q0=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Z0=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},IC=function(){if(d(this,ai))return;E(this,ai,document.createElement("div")),d(this,ai).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");d(this,ai).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",_(this,kt,GC).bind(this,n),{signal:e}),r.addEventListener("contextmenu",Pn,{signal:e}),r.tabIndex=-1}this.div.prepend(d(this,ai))},GC=function(t,e){var x;e.preventDefault();const{isMac:n}=Di.platform;if(e.button!==0||e.ctrlKey&&n)return;(x=d(this,me))==null||x.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,kt,tb).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Pn,{signal:c});const h=this.x,f=this.y,p=this.width,g=this.height,v=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var w;l.abort(),this.parent.togglePointerEvents(!0),(w=d(this,me))==null||w.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=v,this.div.style.cursor=b,_(this,kt,J0).call(this,h,f,p,g)};window.addEventListener("pointerup",A,{signal:c}),window.addEventListener("blur",A,{signal:c})},J0=function(t,e,n,r){const l=this.x,c=this.y,h=this.width,f=this.height;l===t&&c===e&&h===n&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=l,this.y=c;const[p,g]=this.parentDimensions;this.setDims(p*h,g*f),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=t,this.y=e;const[p,g]=this.parentDimensions;this.setDims(p*n,g*r),this.fixAndSetPosition()},mustExec:!0})},tb=function(t,e){const[n,r]=this.parentDimensions,l=this.x,c=this.y,h=this.width,f=this.height,p=Kt.MIN_SIZE/n,g=Kt.MIN_SIZE/r,v=Y=>Math.round(Y*1e4)/1e4,b=_(this,kt,Z0).call(this,this.rotation),A=(Y,Z)=>[b[0]*Y+b[2]*Z,b[1]*Y+b[3]*Z],x=_(this,kt,Z0).call(this,360-this.rotation),w=(Y,Z)=>[x[0]*Y+x[2]*Z,x[1]*Y+x[3]*Z];let M,C,L=!1,O=!1;switch(t){case"topLeft":L=!0,M=(Y,Z)=>[0,0],C=(Y,Z)=>[Y,Z];break;case"topMiddle":M=(Y,Z)=>[Y/2,0],C=(Y,Z)=>[Y/2,Z];break;case"topRight":L=!0,M=(Y,Z)=>[Y,0],C=(Y,Z)=>[0,Z];break;case"middleRight":O=!0,M=(Y,Z)=>[Y,Z/2],C=(Y,Z)=>[0,Z/2];break;case"bottomRight":L=!0,M=(Y,Z)=>[Y,Z],C=(Y,Z)=>[0,0];break;case"bottomMiddle":M=(Y,Z)=>[Y/2,Z],C=(Y,Z)=>[Y/2,0];break;case"bottomLeft":L=!0,M=(Y,Z)=>[0,Z],C=(Y,Z)=>[Y,0];break;case"middleLeft":O=!0,M=(Y,Z)=>[0,Z/2],C=(Y,Z)=>[Y,Z/2];break}const j=M(h,f),P=C(h,f);let z=A(...P);const q=v(l+z[0]),I=v(c+z[1]);let G=1,tt=1,[it,vt]=this.screenToPageTranslation(e.movementX,e.movementY);if([it,vt]=w(it/n,vt/r),L){const Y=Math.hypot(h,f);G=tt=Math.max(Math.min(Math.hypot(P[0]-j[0]-it,P[1]-j[1]-vt)/Y,1/h,1/f),p/h,g/f)}else O?G=Math.max(p,Math.min(1,Math.abs(P[0]-j[0]-it)))/h:tt=Math.max(g,Math.min(1,Math.abs(P[1]-j[1]-vt)))/f;const ft=v(h*G),ut=v(f*tt);z=A(...C(ft,ut));const mt=q-z[0],$=I-z[1];this.width=ft,this.height=ut,this.x=mt,this.y=$,this.setDims(n*ft,r*ut),this.fixAndSetPosition()},eb=function(t){const{isMac:e}=Di.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},qC=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),E(this,Uc,t.clientX),E(this,Ic,t.clientY);const c=h=>{const{clientX:f,clientY:p}=h,[g,v]=this.screenToPageTranslation(f-d(this,Uc),p-d(this,Ic));E(this,Uc,f),E(this,Ic,p),this._uiManager.dragSelectedEditors(g,v)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const l=()=>{n.abort(),e&&this.div.classList.remove("moving"),E(this,Po,!1),this._uiManager.endDragSession()||_(this,kt,eb).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},ib=function(){if(d(this,yr)||!this.div)return;E(this,yr,new AbortController);const t=this._uiManager.combinedSignal(d(this,yr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},XC=function(t){Kt._resizerKeyboardManager.exec(this,t)},YC=function(t){var e;d(this,aa)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,ai)&&_(this,kt,Gh).call(this)},KC=function(t){E(this,Fd,d(this,aa)?t:"")},nb=function(t){if(d(this,Yn))for(const e of d(this,Yn))e.tabIndex=t},Gh=function(){if(E(this,aa,!1),_(this,kt,nb).call(this,-1),d(this,ko)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=d(this,ko);_(this,kt,J0).call(this,t,e,n,r),E(this,ko,null)}},T(Kt,Hd),wt(Kt,"_l10n",null),wt(Kt,"_l10nResizer",null),wt(Kt,"_borderLineWidth",-1),wt(Kt,"_colorManager",new I0),wt(Kt,"_zIndex",1),wt(Kt,"_telemetryTimeout",1e3);let Qt=Kt;class UF extends Qt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const u1=3285377520,_n=4294901760,us=65535;class WC{constructor(t){this.h1=t?t&4294967295:u1,this.h2=t?t&4294967295:u1}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let w=0,M=t.length;w<M;w++){const C=t.charCodeAt(w);C<=255?e[n++]=C:(e[n++]=C>>>8,e[n++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,l=n-r*4,c=new Uint32Array(e.buffer,0,r);let h=0,f=0,p=this.h1,g=this.h2;const v=3432918353,b=461845907,A=v&us,x=b&us;for(let w=0;w<r;w++)w&1?(h=c[w],h=h*v&_n|h*A&us,h=h<<15|h>>>17,h=h*b&_n|h*x&us,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[w],f=f*v&_n|f*A&us,f=f<<15|f>>>17,f=f*b&_n|f*x&us,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,l){case 3:h^=e[r*4+2]<<16;case 2:h^=e[r*4+1]<<8;case 1:h^=e[r*4],h=h*v&_n|h*A&us,h=h<<15|h>>>17,h=h*b&_n|h*x&us,r&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&_n|t*36045&us,e=e*4283543511&_n|((e<<16|t>>>16)*2950163797&_n)>>>16,t^=e>>>1,t=t*444984403&_n|t*60499&us,e=e*3301882366&_n|((e<<16|t>>>16)*3120437893&_n)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const sb=Object.freeze({map:null,hash:"",transfer:void 0});var Fo,jo,Je,ug,$C;class UA{constructor(){T(this,ug);T(this,Fo,!1);T(this,jo,null);T(this,Je,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=d(this,Je).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return d(this,Je).get(t)}remove(t){if(d(this,Je).delete(t),d(this,Je).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,Je).values())if(e instanceof Qt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=d(this,Je).get(t);let r=!1;if(n!==void 0)for(const[l,c]of Object.entries(e))n[l]!==c&&(r=!0,n[l]=c);else r=!0,d(this,Je).set(t,e);r&&_(this,ug,$C).call(this),e instanceof Qt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,Je).has(t)}getAll(){return d(this,Je).size>0?FA(d(this,Je)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return d(this,Je).size}resetModified(){d(this,Fo)&&(E(this,Fo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new QC(this)}get serializable(){if(d(this,Je).size===0)return sb;const t=new Map,e=new WC,n=[],r=Object.create(null);let l=!1;for(const[c,h]of d(this,Je)){const f=h instanceof Qt?h.serialize(!1,r):h;f&&(t.set(c,f),e.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of t.values())c.bitmap&&n.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:sb}get editorStats(){let t=null;const e=new Map;for(const n of d(this,Je).values()){if(!(n instanceof Qt))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const g=p.get(f)??0;p.set(f,g+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){E(this,jo,null)}get modifiedIds(){if(d(this,jo))return d(this,jo);const t=[];for(const e of d(this,Je).values())!(e instanceof Qt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return E(this,jo,{ids:new Set(t),hash:t.join(",")})}}Fo=new WeakMap,jo=new WeakMap,Je=new WeakMap,ug=new WeakSet,$C=function(){d(this,Fo)||(E(this,Fo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zd;class QC extends UA{constructor(e){super();T(this,zd);const{map:n,hash:r,transfer:l}=e.serializable,c=structuredClone(n,l?{transfer:l}:null);E(this,zd,{map:c,hash:r,transfer:l})}get print(){ue("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,zd)}get modifiedIds(){return Ut(this,"modifiedIds",{ids:new Set,hash:""})}}zd=new WeakMap;var Gc;class IF{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){T(this,Gc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,Gc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,Gc).has(t.loadedName))){if(Ue(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:l}=t,c=new FontFace(n,r,l);this.addNativeFontFace(c);try{await c.load(),d(this,Gc).add(n),e==null||e(t)}catch{Nt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ue("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Nt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ut(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(xi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ut(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ue(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ut(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(j,P){return j.charCodeAt(P)<<24|j.charCodeAt(P+1)<<16|j.charCodeAt(P+2)<<8|j.charCodeAt(P+3)&255}function r(j,P,z,q){const I=j.substring(0,P),G=j.substring(P+z);return I+q+G}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function g(j,P){if(++p>30){Nt("Load test font never loaded."),P();return}if(f.font="30px "+j,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(g.bind(null,j,P))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,v.length,v);const x=16,w=1482184792;let M=n(b,x);for(l=0,c=v.length-3;l<c;l+=4)M=M-w+n(v,l)|0;l<v.length&&(M=M-w+n(v+"XXX",l)|0),b=r(b,x,4,CF(M));const C=`url(data:font/opentype;base64,${btoa(b)});`,L=`@font-face {font-family:"${v}";src:${C}}`;this.insertRule(L);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const j of[t.loadedName,v]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=j,O.append(P)}this._document.body.append(O),g(v,()=>{O.remove(),e.complete()})}}Gc=new WeakMap;class GF{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${kF(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(l){Nt(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(l,c){};const r=[];for(let l=0,c=n.length;l<c;)switch(n[l++]){case $s.BEZIER_CURVE_TO:{const[h,f,p,g,v,b]=n.slice(l,l+6);r.push(A=>A.bezierCurveTo(h,f,p,g,v,b)),l+=6}break;case $s.MOVE_TO:{const[h,f]=n.slice(l,l+2);r.push(p=>p.moveTo(h,f)),l+=2}break;case $s.LINE_TO:{const[h,f]=n.slice(l,l+2);r.push(p=>p.lineTo(h,f)),l+=2}break;case $s.QUADRATIC_CURVE_TO:{const[h,f,p,g]=n.slice(l,l+4);r.push(v=>v.quadraticCurveTo(h,f,p,g)),l+=4}break;case $s.RESTORE:r.push(h=>h.restore());break;case $s.SAVE:r.push(h=>h.save());break;case $s.SCALE:Ue(r.length===2,"Scale command is only valid at the third position.");break;case $s.TRANSFORM:{const[h,f,p,g,v,b]=n.slice(l,l+6);r.push(A=>A.transform(h,f,p,g,v,b)),l+=6}break;case $s.TRANSLATE:{const[h,f]=n.slice(l,l+2);r.push(p=>p.translate(h,f)),l+=2}break}return this.compiledGlyphs[e]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let f=2,p=r.length;f<p;f++)r[f](c)}}}var Vd;class ZC{constructor({enableHWA:t=!1}){T(this,Vd,!1);E(this,Vd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,Vd)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ue("Abstract method `_createCanvas` called.")}}Vd=new WeakMap;class qF extends ZC{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class JC{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class tR extends JC{async _fetch(t){const e=await Lg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Dg(e)}}class eR{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,l){return"none"}destroy(t=!1){}}var Bo,Ho,As,ra,gi,hg,zo,lt,pi,fc,pc,xm,mc,iR,ab,gc,qh,Xh,rb,Yh;class XF extends eR{constructor({docId:e,ownerDocument:n=globalThis.document}){super();T(this,lt);T(this,Bo);T(this,Ho);T(this,As);T(this,ra);T(this,gi);T(this,hg);T(this,zo,0);E(this,ra,e),E(this,gi,n)}addFilter(e){if(!e)return"none";let n=d(this,lt,pi).get(e);if(n)return n;const[r,l,c]=_(this,lt,xm).call(this,e),h=e.length===1?r:`${r}${l}${c}`;if(n=d(this,lt,pi).get(h),n)return d(this,lt,pi).set(e,n),n;const f=`g_${d(this,ra)}_transfer_map_${wi(this,zo)._++}`,p=_(this,lt,mc).call(this,f);d(this,lt,pi).set(e,p),d(this,lt,pi).set(h,p);const g=_(this,lt,gc).call(this,f);return _(this,lt,Xh).call(this,r,l,c,g),p}addHCMFilter(e,n){var x;const r=`${e}-${n}`,l="base";let c=d(this,lt,fc).get(l);if((c==null?void 0:c.key)===r||(c?((x=c.filter)==null||x.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},d(this,lt,fc).set(l,c)),!e||!n))return c.url;const h=_(this,lt,Yh).call(this,e);e=pt.makeHexColor(...h);const f=_(this,lt,Yh).call(this,n);if(n=pt.makeHexColor(...f),d(this,lt,pc).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return c.url;const p=new Array(256);for(let w=0;w<=255;w++){const M=w/255;p[w]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const g=p.join(","),v=`g_${d(this,ra)}_hcm_filter`,b=c.filter=_(this,lt,gc).call(this,v);_(this,lt,Xh).call(this,g,g,g,b),_(this,lt,ab).call(this,b);const A=(w,M)=>{const C=h[w]/255,L=f[w]/255,O=new Array(M+1);for(let j=0;j<=M;j++)O[j]=C+j/M*(L-C);return O.join(",")};return _(this,lt,Xh).call(this,A(0,5),A(1,5),A(2,5),b),c.url=_(this,lt,mc).call(this,v),c.url}addAlphaFilter(e){let n=d(this,lt,pi).get(e);if(n)return n;const[r]=_(this,lt,xm).call(this,[e]),l=`alpha_${r}`;if(n=d(this,lt,pi).get(l),n)return d(this,lt,pi).set(e,n),n;const c=`g_${d(this,ra)}_alpha_map_${wi(this,zo)._++}`,h=_(this,lt,mc).call(this,c);d(this,lt,pi).set(e,h),d(this,lt,pi).set(l,h);const f=_(this,lt,gc).call(this,c);return _(this,lt,rb).call(this,r,f),h}addLuminosityFilter(e){let n=d(this,lt,pi).get(e||"luminosity");if(n)return n;let r,l;if(e?([r]=_(this,lt,xm).call(this,[e]),l=`luminosity_${r}`):l="luminosity",n=d(this,lt,pi).get(l),n)return d(this,lt,pi).set(e,n),n;const c=`g_${d(this,ra)}_luminosity_map_${wi(this,zo)._++}`,h=_(this,lt,mc).call(this,c);d(this,lt,pi).set(e,h),d(this,lt,pi).set(l,h);const f=_(this,lt,gc).call(this,c);return _(this,lt,iR).call(this,f),e&&_(this,lt,rb).call(this,r,f),h}addHighlightHCMFilter(e,n,r,l,c){var L;const h=`${n}-${r}-${l}-${c}`;let f=d(this,lt,fc).get(e);if((f==null?void 0:f.key)===h||(f?((L=f.filter)==null||L.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},d(this,lt,fc).set(e,f)),!n||!r))return f.url;const[p,g]=[n,r].map(_(this,lt,Yh).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[A,x]=[l,c].map(_(this,lt,Yh).bind(this));b<v&&([v,b,A,x]=[b,v,x,A]),d(this,lt,pc).style.color="";const w=(O,j,P)=>{const z=new Array(256),q=(b-v)/P,I=O/255,G=(j-O)/(255*P);let tt=0;for(let it=0;it<=P;it++){const vt=Math.round(v+it*q),ft=I+it*G;for(let ut=tt;ut<=vt;ut++)z[ut]=ft;tt=vt+1}for(let it=tt;it<256;it++)z[it]=z[tt-1];return z.join(",")},M=`g_${d(this,ra)}_hcm_${e}_filter`,C=f.filter=_(this,lt,gc).call(this,M);return _(this,lt,ab).call(this,C),_(this,lt,Xh).call(this,w(A[0],x[0],5),w(A[1],x[1],5),w(A[2],x[2],5),C),f.url=_(this,lt,mc).call(this,M),f.url}destroy(e=!1){e&&d(this,lt,fc).size!==0||(d(this,As)&&(d(this,As).parentNode.parentNode.remove(),E(this,As,null)),d(this,Ho)&&(d(this,Ho).clear(),E(this,Ho,null)),E(this,zo,0))}}Bo=new WeakMap,Ho=new WeakMap,As=new WeakMap,ra=new WeakMap,gi=new WeakMap,hg=new WeakMap,zo=new WeakMap,lt=new WeakSet,pi=function(){return d(this,Ho)||E(this,Ho,new Map)},fc=function(){return d(this,hg)||E(this,hg,new Map)},pc=function(){if(!d(this,As)){const e=d(this,gi).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=d(this,gi).createElementNS(Zs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,As,d(this,gi).createElementNS(Zs,"defs")),e.append(r),r.append(d(this,As)),d(this,gi).body.append(e)}return d(this,As)},xm=function(e){if(e.length===1){const p=e[0],g=new Array(256);for(let b=0;b<256;b++)g[b]=p[b]/255;const v=g.join(",");return[v,v,v]}const[n,r,l]=e,c=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)c[p]=n[p]/255,h[p]=r[p]/255,f[p]=l[p]/255;return[c.join(","),h.join(","),f.join(",")]},mc=function(e){if(d(this,Bo)===void 0){E(this,Bo,"");const n=d(this,gi).URL;n!==d(this,gi).baseURI&&(Og(n)?Nt('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,Bo,n.split("#",1)[0]))}return`url(${d(this,Bo)}#${e})`},iR=function(e){const n=d(this,gi).createElementNS(Zs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},ab=function(e){const n=d(this,gi).createElementNS(Zs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},gc=function(e){const n=d(this,gi).createElementNS(Zs,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),d(this,lt,pc).append(n),n},qh=function(e,n,r){const l=d(this,gi).createElementNS(Zs,n);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},Xh=function(e,n,r,l){const c=d(this,gi).createElementNS(Zs,"feComponentTransfer");l.append(c),_(this,lt,qh).call(this,c,"feFuncR",e),_(this,lt,qh).call(this,c,"feFuncG",n),_(this,lt,qh).call(this,c,"feFuncB",r)},rb=function(e,n){const r=d(this,gi).createElementNS(Zs,"feComponentTransfer");n.append(r),_(this,lt,qh).call(this,r,"feFuncA",e)},Yh=function(e){return d(this,lt,pc).style.color=e,VA(getComputedStyle(d(this,lt,pc)).getPropertyValue("color"))};class nR{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class sR extends nR{async _fetch(t){const e=await Lg(t,"arraybuffer");return new Uint8Array(e)}}if(xi){var ob=Promise.withResolvers(),ud=null;(async()=>{const t=await rm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await rm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await rm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await rm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:t,http:e,https:n,url:r,canvas:l,path2d:c}))})().then(t=>{ud=t,ob.resolve()},t=>{Nt(`loadPackages: ${t}`),ud=new Map,ob.resolve()})}class Br{static get promise(){return ob.promise}static get(t){return ud==null?void 0:ud.get(t)}}async function aR(a){const e=await Br.get("fs").promises.readFile(a);return new Uint8Array(e)}class YF extends eR{}class KF extends ZC{_createCanvas(t,e){return Br.get("canvas").createCanvas(t,e)}}class WF extends JC{async _fetch(t){return aR(t)}}class $F extends nR{async _fetch(t){return aR(t)}}const Ri={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function lb(a,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),a.clip(r)}class IA{getPattern(){ue("Abstract method `getPattern` called.")}}class QF extends IA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let l;if(r===Ri.STROKE||r===Ri.FILL){const c=e.current.getClippedPathBoundingBox(r,ye(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=e.cachedCanvases.getCanvas("pattern",h,f),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),n=pt.transform(n,[1,0,0,1,c[0],c[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),lb(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=t.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(n);l.setTransform(v)}else lb(t,this._bbox),l=this._createGradient(t);return l}}function p0(a,t,e,n,r,l,c,h){const f=t.coords,p=t.colors,g=a.data,v=a.width*4;let b;f[e+1]>f[n+1]&&(b=e,e=n,n=b,b=l,l=c,c=b),f[n+1]>f[r+1]&&(b=n,n=r,r=b,b=c,c=h,h=b),f[e+1]>f[n+1]&&(b=e,e=n,n=b,b=l,l=c,c=b);const A=(f[e]+t.offsetX)*t.scaleX,x=(f[e+1]+t.offsetY)*t.scaleY,w=(f[n]+t.offsetX)*t.scaleX,M=(f[n+1]+t.offsetY)*t.scaleY,C=(f[r]+t.offsetX)*t.scaleX,L=(f[r+1]+t.offsetY)*t.scaleY;if(x>=L)return;const O=p[l],j=p[l+1],P=p[l+2],z=p[c],q=p[c+1],I=p[c+2],G=p[h],tt=p[h+1],it=p[h+2],vt=Math.round(x),ft=Math.round(L);let ut,mt,$,Y,Z,xt,k,J;for(let ot=vt;ot<=ft;ot++){if(ot<M){const _t=ot<x?0:(x-ot)/(x-M);ut=A-(A-w)*_t,mt=O-(O-z)*_t,$=j-(j-q)*_t,Y=P-(P-I)*_t}else{let _t;ot>L?_t=1:M===L?_t=0:_t=(M-ot)/(M-L),ut=w-(w-C)*_t,mt=z-(z-G)*_t,$=q-(q-tt)*_t,Y=I-(I-it)*_t}let at;ot<x?at=0:ot>L?at=1:at=(x-ot)/(x-L),Z=A-(A-C)*at,xt=O-(O-G)*at,k=j-(j-tt)*at,J=P-(P-it)*at;const nt=Math.round(Math.min(ut,Z)),Et=Math.round(Math.max(ut,Z));let ht=v*ot+nt*4;for(let _t=nt;_t<=Et;_t++)at=(ut-_t)/(ut-Z),at<0?at=0:at>1&&(at=1),g[ht++]=mt-(mt-xt)*at|0,g[ht++]=$-($-k)*at|0,g[ht++]=Y-(Y-J)*at|0,g[ht++]=255}}function ZF(a,t,e){const n=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const h=t.verticesPerRow,f=Math.floor(n.length/h)-1,p=h-1;for(l=0;l<f;l++){let g=l*h;for(let v=0;v<p;v++,g++)p0(a,e,n[g],n[g+1],n[g+h],r[g],r[g+1],r[g+h]),p0(a,e,n[g+h+1],n[g+1],n[g+h],r[g+h+1],r[g+1],r[g+h])}break;case"triangles":for(l=0,c=n.length;l<c;l+=3)p0(a,e,n[l],n[l+1],n[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class JF extends IA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),A=p/v,x=g/b,w={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/A,scaleY:1/x},M=v+2*2,C=b+2*2,L=n.getCanvas("mesh",M,C),O=L.context,j=O.createImageData(v,b);if(e){const z=j.data;for(let q=0,I=z.length;q<I;q+=4)z[q]=e[0],z[q+1]=e[1],z[q+2]=e[2],z[q+3]=255}for(const z of this._figures)ZF(j,z,w);return O.putImageData(j,2,2),{canvas:L.canvas,offsetX:h-2*A,offsetY:f-2*x,scaleX:A,scaleY:x}}getPattern(t,e,n,r){lb(t,this._bbox);let l;if(r===Ri.SHADING)l=pt.singularValueDecompose2dScale(ye(t));else if(l=pt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const h=pt.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const c=this._createMeshCanvas(l,r===Ri.SHADING?null:this._background,e.cachedCanvases);return r!==Ri.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class tj extends IA{getPattern(){return"hotpink"}}function ej(a){switch(a[0]){case"RadialAxial":return new QF(a);case"Mesh":return new JF(a);case"Dummy":return new tj}throw new Error(`Unknown IR type: ${a[0]}`)}const h1={COLORED:1,UNCOLORED:2},dg=class dg{constructor(t,e,n,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Rg("TilingType: "+l);const g=e[0],v=e[1],b=e[2],A=e[3],x=b-g,w=A-v,M=pt.singularValueDecompose2dScale(this.matrix),C=pt.singularValueDecompose2dScale(this.baseTransform),L=M[0]*C[0],O=M[1]*C[1];let j=x,P=w,z=!1,q=!1;const I=Math.ceil(f*L),G=Math.ceil(p*O),tt=Math.ceil(x*L),it=Math.ceil(w*O);I>=tt?j=f:z=!0,G>=it?P=p:q=!0;const vt=this.getSizeAndScale(j,this.ctx.canvas.width,L),ft=this.getSizeAndScale(P,this.ctx.canvas.height,O),ut=t.cachedCanvases.getCanvas("pattern",vt.size,ft.size),mt=ut.context,$=h.createCanvasGraphics(mt);if($.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext($,r,c),mt.translate(-vt.scale*g,-ft.scale*v),$.transform(vt.scale,0,0,ft.scale,0,0),mt.save(),this.clipBbox($,g,v,b,A),$.baseTransform=ye($.ctx),$.executeOperatorList(n),$.endDrawing(),mt.restore(),z||q){const Y=ut.canvas;z&&(j=f),q&&(P=p);const Z=this.getSizeAndScale(j,this.ctx.canvas.width,L),xt=this.getSizeAndScale(P,this.ctx.canvas.height,O),k=Z.size,J=xt.size,ot=t.cachedCanvases.getCanvas("pattern-workaround",k,J),at=ot.context,nt=z?Math.floor(x/f):0,Et=q?Math.floor(w/p):0;for(let ht=0;ht<=nt;ht++)for(let _t=0;_t<=Et;_t++)at.drawImage(Y,k*ht,J*_t,k,J,0,0,k,J);return{canvas:ot.canvas,scaleX:Z.scale,scaleY:xt.scale,offsetX:g,offsetY:v}}return{canvas:ut.canvas,scaleX:vt.scale,scaleY:ft.scale,offsetX:g,offsetY:v}}getSizeAndScale(t,e,n){const r=Math.max(dg.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*n);return l>=r?l=r:n=l/t,{scale:n,size:l}}clipBbox(t,e,n,r,l){const c=r-e,h=l-n;t.ctx.rect(e,n,c,h),t.current.updateRectMinMax(ye(t.ctx),[e,n,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,l=t.current;switch(e){case h1.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case h1.UNCOLORED:const h=pt.makeHexColor(n[0],n[1],n[2]);r.fillStyle=h,r.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new TF(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,r){let l=n;r!==Ri.SHADING&&(l=pt.transform(l,e.baseTransform),this.matrix&&(l=pt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};wt(dg,"MAX_PATTERN_SIZE",3e3);let cb=dg;function ij({src:a,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Di.isLittleEndian?4278190080:255,[f,p]=c?[l,h]:[h,l],g=n>>3,v=n&7,b=a.length;e=new Uint32Array(e.buffer);let A=0;for(let x=0;x<r;x++){for(const M=t+g;t<M;t++){const C=t<b?a[t]:255;e[A++]=C&128?p:f,e[A++]=C&64?p:f,e[A++]=C&32?p:f,e[A++]=C&16?p:f,e[A++]=C&8?p:f,e[A++]=C&4?p:f,e[A++]=C&2?p:f,e[A++]=C&1?p:f}if(v===0)continue;const w=t<b?a[t++]:255;for(let M=0;M<v;M++)e[A++]=w&1<<7-M?p:f}return{srcPos:t,destPos:A}}const d1=16,f1=100,nj=15,p1=10,m1=1e3,Vi=16;function sj(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(n,r){t.translate(n,r),this.__originalTranslate(n,r)},a.scale=function(n,r){t.scale(n,r),this.__originalScale(n,r)},a.transform=function(n,r,l,c,h,f){t.transform(n,r,l,c,h,f),this.__originalTransform(n,r,l,c,h,f)},a.setTransform=function(n,r,l,c,h,f){t.setTransform(n,r,l,c,h,f),this.__originalSetTransform(n,r,l,c,h,f)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(n){t.rotate(n),this.__originalRotate(n)},a.clip=function(n){t.clip(n),this.__originalClip(n)},a.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},a.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},a.bezierCurveTo=function(e,n,r,l,c,h){t.bezierCurveTo(e,n,r,l,c,h),this.__originalBezierCurveTo(e,n,r,l,c,h)},a.rect=function(e,n,r,l){t.rect(e,n,r,l),this.__originalRect(e,n,r,l)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class aj{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function om(a,t,e,n,r,l,c,h,f,p){const[g,v,b,A,x,w]=ye(a);if(v===0&&b===0){const L=c*g+x,O=Math.round(L),j=h*A+w,P=Math.round(j),z=(c+f)*g+x,q=Math.abs(Math.round(z)-O)||1,I=(h+p)*A+w,G=Math.abs(Math.round(I)-P)||1;return a.setTransform(Math.sign(g),0,0,Math.sign(A),O,P),a.drawImage(t,e,n,r,l,0,0,q,G),a.setTransform(g,v,b,A,x,w),[q,G]}if(g===0&&A===0){const L=h*b+x,O=Math.round(L),j=c*v+w,P=Math.round(j),z=(h+p)*b+x,q=Math.abs(Math.round(z)-O)||1,I=(c+f)*v+w,G=Math.abs(Math.round(I)-P)||1;return a.setTransform(0,Math.sign(v),Math.sign(b),0,O,P),a.drawImage(t,e,n,r,l,0,0,G,q),a.setTransform(g,v,b,A,x,w),[G,q]}a.drawImage(t,e,n,r,l,c,h,f,p);const M=Math.hypot(g,v),C=Math.hypot(b,A);return[M*f,C*p]}function rj(a){const{width:t,height:e}=a;if(t>m1||e>m1)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(e+1)),h,f,p;const g=t+7&-8;let v=new Uint8Array(g*e),b=0;for(const C of a.data){let L=128;for(;L>0;)v[b++]=C&L?0:255,L>>=1}let A=0;for(b=0,v[b]!==0&&(c[0]=1,++A),f=1;f<t;f++)v[b]!==v[b+1]&&(c[f]=v[b]?2:1,++A),b++;for(v[b]!==0&&(c[f]=2,++A),h=1;h<e;h++){b=h*g,p=h*l,v[b-g]!==v[b]&&(c[p]=v[b]?1:8,++A);let C=(v[b]?4:0)+(v[b-g]?8:0);for(f=1;f<t;f++)C=(C>>2)+(v[b+1]?4:0)+(v[b-g+1]?8:0),r[C]&&(c[p+f]=r[C],++A),b++;if(v[b-g]!==v[b]&&(c[p+f]=v[b]?2:4,++A),A>n)return null}for(b=g*(e-1),p=h*l,v[b]!==0&&(c[p]=8,++A),f=1;f<t;f++)v[b]!==v[b+1]&&(c[p+f]=v[b]?4:8,++A),b++;if(v[b]!==0&&(c[p+f]=4,++A),A>n)return null;const x=new Int32Array([0,l,-1,0,-l,0,0,0,1]),w=new Path2D;for(h=0;A&&h<=e;h++){let C=h*l;const L=C+t;for(;C<L&&!c[C];)C++;if(C===L)continue;w.moveTo(C%l,h);const O=C;let j=c[C];do{const P=x[j];do C+=P;while(!c[C]);const z=c[C];z!==5&&z!==10?(j=z,c[C]=0):(j=z&51*j>>4,c[C]&=j>>2|j<<2),w.lineTo(C%l,C/l|0),c[C]||--A}while(O!==C);--h}return v=null,c=null,function(C){C.save(),C.scale(1/t,-1/e),C.translate(0,-e),C.fill(w),C.beginPath(),C.restore()}}class g1{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=xC,this.textMatrixScale=1,this.fontMatrix=N0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=fi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=pt.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=pt.applyTransform(e,t),r=pt.applyTransform(e.slice(2),t),l=pt.applyTransform([e[0],e[3]],t),c=pt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],r[0],l[0],c[0]),this.minY=Math.min(this.minY,n[1],r[1],l[1],c[1]),this.maxX=Math.max(this.maxX,n[0],r[0],l[0],c[0]),this.maxY=Math.max(this.maxY,n[1],r[1],l[1],c[1])}updateScalingPathMinMax(t,e){pt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,r,l,c,h,f,p,g){const v=pt.bezierBoundingBox(e,n,r,l,c,h,f,p,g);g||this.updateRectMinMax(t,v)}getPathBoundingBox(t=Ri.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ri.STROKE){e||ue("Stroke bounding box must include transform.");const r=pt.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;n[0]-=l,n[1]-=c,n[2]+=l,n[3]+=c}return n}updateClipFromPath(){const t=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Ri.FILL,e=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function y1(a,t){if(typeof ImageData<"u"&&t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%Vi,l=(e-r)/Vi,c=r===0?l:l+1,h=a.createImageData(n,Vi);let f=0,p;const g=t.data,v=h.data;let b,A,x,w;if(t.kind===mm.GRAYSCALE_1BPP){const M=g.byteLength,C=new Uint32Array(v.buffer,0,v.byteLength>>2),L=C.length,O=n+7>>3,j=4294967295,P=Di.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(x=b<l?Vi:r,p=0,A=0;A<x;A++){const z=M-f;let q=0;const I=z>O?n:z*8-7,G=I&-8;let tt=0,it=0;for(;q<G;q+=8)it=g[f++],C[p++]=it&128?j:P,C[p++]=it&64?j:P,C[p++]=it&32?j:P,C[p++]=it&16?j:P,C[p++]=it&8?j:P,C[p++]=it&4?j:P,C[p++]=it&2?j:P,C[p++]=it&1?j:P;for(;q<I;q++)tt===0&&(it=g[f++],tt=128),C[p++]=it&tt?j:P,tt>>=1}for(;p<L;)C[p++]=0;a.putImageData(h,0,b*Vi)}}else if(t.kind===mm.RGBA_32BPP){for(A=0,w=n*Vi*4,b=0;b<l;b++)v.set(g.subarray(f,f+w)),f+=w,a.putImageData(h,0,A),A+=Vi;b<c&&(w=n*r*4,v.set(g.subarray(f,f+w)),a.putImageData(h,0,A))}else if(t.kind===mm.RGB_24BPP)for(x=Vi,w=n*x,b=0;b<c;b++){for(b>=l&&(x=r,w=n*x),p=0,A=w;A--;)v[p++]=g[f++],v[p++]=g[f++],v[p++]=g[f++],v[p++]=255;a.putImageData(h,0,b*Vi)}else throw new Error(`bad image kind: ${t.kind}`)}function v1(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%Vi,l=(e-r)/Vi,c=r===0?l:l+1,h=a.createImageData(n,Vi);let f=0;const p=t.data,g=h.data;for(let v=0;v<c;v++){const b=v<l?Vi:r;({srcPos:f}=ij({src:p,srcPos:f,dest:g,width:n,height:b,nonBlackColor:0})),a.putImageData(h,0,v*Vi)}}function jh(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)a[n]!==void 0&&(t[n]=a[n]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function lm(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!xi){const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}}function b1(a,t){if(t)return!0;const e=pt.singularValueDecompose2dScale(a);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*jr.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const oj=["butt","round","square"],lj=["miter","round","bevel"],cj={},A1={};var zr,ub,hb;const QA=class QA{constructor(t,e,n,r,l,{optionalContentConfig:c,markedContentStack:h=null},f,p){T(this,zr);this.ctx=t,this.current=new g1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new aj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,n){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ye(this.compositeCtx))}this.ctx.save(),lm(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ye(this.ctx)}executeOperatorList(t,e,n,r){const l=t.argsArray,c=t.fnArray;let h=e||0;const f=l.length;if(f===h)return h;const p=f-h>p1&&typeof n=="function",g=p?Date.now()+nj:0;let v=0;const b=this.commonObjs,A=this.objs;let x;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,n),h;if(x=c[h],x!==Un.dependency)this[x].apply(this,l[h]);else for(const w of l[h]){const M=w.startsWith("g_")?b:A;if(!M.has(w))return M.get(w,n),h}if(h++,h===f)return h;if(p&&++v>p1){if(Date.now()>g)return n(),h;v=0}}}endDrawing(){_(this,zr,ub).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),_(this,zr,hb).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=n,f=r,p="prescale1",g,v;for(;l>2&&h>1||c>2&&f>1;){let b=h,A=f;l>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/b),c>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/A),g=this.cachedCanvases.getCanvas(p,b,A),v=g.context,v.clearRect(0,0,b,A),v.drawImage(t,0,0,h,f,0,0,b,A),t=g.canvas,h=b,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,h=ye(e);let f,p,g,v;if((t.bitmap||t.data)&&t.count>1){const I=t.bitmap||t.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(I),f||(f=new Map,this._cachedBitmapsMap.set(I,f));const G=f.get(p);if(G&&!c){const tt=Math.round(Math.min(h[0],h[2])+h[4]),it=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:G,offsetX:tt,offsetY:it}}g=G}g||(v=this.cachedCanvases.getCanvas("maskCanvas",n,r),v1(v.context,t));let b=pt.transform(h,[1/n,0,0,-1/r,0,0]);b=pt.transform(b,[1,0,0,1,0,-r]);const[A,x,w,M]=pt.getAxialAlignedBoundingBox([0,0,n,r],b),C=Math.round(w-A)||1,L=Math.round(M-x)||1,O=this.cachedCanvases.getCanvas("fillCanvas",C,L),j=O.context,P=A,z=x;j.translate(-P,-z),j.transform(...b),g||(g=this._scaleImage(v.canvas,Qs(j)),g=g.img,f&&c&&f.set(p,g)),j.imageSmoothingEnabled=b1(ye(j),t.interpolate),om(j,g,0,0,g.width,g.height,0,0,n,r),j.globalCompositeOperation="source-in";const q=pt.transform(Qs(j),[1,0,0,1,-P,-z]);return j.fillStyle=c?l.getPattern(e,this,q,Ri.FILL):l,j.fillRect(0,0,n,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,O.canvas)),{canvas:O.canvas,offsetX:Math.round(P),offsetY:Math.round(z)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=oj[t]}setLineJoin(t){this.ctx.lineJoin=lj[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...ye(this.suspendedCtx)),jh(this.suspendedCtx,l),sj(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),jh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const l=r[0],c=r[1],h=r[2]-l,f=r[3]-c;h===0||f===0||(this.genericComposeSMask(e.context,n,h,f,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,l,c,h,f,p,g,v){let b=t.canvas,A=f-g,x=p-v;if(c){const M=pt.makeHexColor(...c);if(A<0||x<0||A+n>b.width||x+r>b.height){const C=this.cachedCanvases.getCanvas("maskExtension",n,r),L=C.context;L.drawImage(b,-A,-x),L.globalCompositeOperation="destination-atop",L.fillStyle=M,L.fillRect(0,0,n,r),L.globalCompositeOperation="source-over",b=C.canvas,A=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(A,x,n,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(A,x,n,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const w=new Path2D;w.rect(f,p,n,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(b,A,x,n,r,f,p,n,r),e.restore()}save(){this.inSMaskMode?(jh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),jh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,l,c){this.ctx.transform(t,e,n,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const r=this.ctx,l=this.current;let c=l.x,h=l.y,f,p;const g=ye(r),v=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,b=v?n.slice(0):null;for(let A=0,x=0,w=t.length;A<w;A++)switch(t[A]|0){case Un.rectangle:c=e[x++],h=e[x++];const M=e[x++],C=e[x++],L=c+M,O=h+C;r.moveTo(c,h),M===0||C===0?r.lineTo(L,O):(r.lineTo(L,h),r.lineTo(L,O),r.lineTo(c,O)),v||l.updateRectMinMax(g,[c,h,L,O]),r.closePath();break;case Un.moveTo:c=e[x++],h=e[x++],r.moveTo(c,h),v||l.updatePathMinMax(g,c,h);break;case Un.lineTo:c=e[x++],h=e[x++],r.lineTo(c,h),v||l.updatePathMinMax(g,c,h);break;case Un.curveTo:f=c,p=h,c=e[x+4],h=e[x+5],r.bezierCurveTo(e[x],e[x+1],e[x+2],e[x+3],c,h),l.updateCurvePathMinMax(g,f,p,e[x],e[x+1],e[x+2],e[x+3],c,h,b),x+=6;break;case Un.curveTo2:f=c,p=h,r.bezierCurveTo(c,h,e[x],e[x+1],e[x+2],e[x+3]),l.updateCurvePathMinMax(g,f,p,c,h,e[x],e[x+1],e[x+2],e[x+3],b),c=e[x+2],h=e[x+3],x+=4;break;case Un.curveTo3:f=c,p=h,c=e[x+2],h=e[x+3],r.bezierCurveTo(e[x],e[x+1],c,h,c,h),l.updateCurvePathMinMax(g,f,p,e[x],e[x+1],c,h,c,h,b),x+=4;break;case Un.closePath:r.closePath();break}v&&l.updateScalingPathMinMax(g,b),l.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,Qs(e),Ri.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=n.getPattern(e,this,Qs(e),Ri.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=cj}eoClip(){this.pendingClip=A1}beginText(){this.current.textMatrix=xC,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||N0,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Nt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const l=n.loadedName||"sans-serif",c=((g=n.systemFontInfo)==null?void 0:g.css)||`"${l}", ${n.fallbackName}`;let h="normal";n.black?h="900":n.bold&&(h="bold");const f=n.italic?"italic":"normal";let p=e;e<d1?p=d1:e>f1&&(p=f1),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${h} ${p}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,l,c){this.current.textMatrix=[t,e,n,r,l,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,r){const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,g=f&fi.FILL_STROKE_MASK,v=!!(f&fi.ADD_TO_PATH_FLAG),b=c.patternFill&&!h.missingFile;let A;(h.disableFontFace||v||b)&&(A=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||b?(l.save(),l.translate(e,n),l.beginPath(),A(l,p),r&&l.setTransform(...r),(g===fi.FILL||g===fi.FILL_STROKE)&&l.fill(),(g===fi.STROKE||g===fi.FILL_STROKE)&&l.stroke(),l.restore()):((g===fi.FILL||g===fi.FILL_STROKE)&&l.fillText(t,e,n),(g===fi.STROKE||g===fi.FILL_STROKE)&&l.strokeText(t,e,n)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ye(l),x:e,y:n,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Ut(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,c=e.fontSizeScale,h=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,v=t.length,b=n.vertical,A=b?1:-1,x=n.defaultVMetrics,w=r*e.fontMatrix[0],M=e.textRenderingMode===fi.FILL&&!n.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),p>0?l.scale(g,-1):l.scale(g,1);let C;if(e.patternFill){l.save();const z=e.fillColor.getPattern(l,this,Qs(l),Ri.FILL);C=ye(l),l.restore(),l.fillStyle=z}let L=e.lineWidth;const O=e.textMatrixScale;if(O===0||L===0){const z=e.textRenderingMode&fi.FILL_STROKE_MASK;(z===fi.STROKE||z===fi.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=O;if(c!==1&&(l.scale(c,c),L/=c),l.lineWidth=L,n.isInvalidPDFjsFont){const z=[];let q=0;for(const I of t)z.push(I.unicode),q+=I.width;l.fillText(z.join(""),0,0),e.x+=q*w*g,l.restore(),this.compose();return}let j=0,P;for(P=0;P<v;++P){const z=t[P];if(typeof z=="number"){j+=A*z*r/1e3;continue}let q=!1;const I=(z.isSpace?f:0)+h,G=z.fontChar,tt=z.accent;let it,vt,ft=z.width;if(b){const mt=z.vmetric||x,$=-(z.vmetric?mt[1]:ft*.5)*w,Y=mt[2]*w;ft=mt?-mt[0]:ft,it=$/c,vt=(j+Y)/c}else it=j/c,vt=0;if(n.remeasure&&ft>0){const mt=l.measureText(G).width*1e3/r*c;if(ft<mt&&this.isFontSubpixelAAEnabled){const $=ft/mt;q=!0,l.save(),l.scale($,1),it/=$}else ft!==mt&&(it+=(ft-mt)/2e3*r/c)}if(this.contentVisible&&(z.isInFont||n.missingFile)){if(M&&!tt)l.fillText(G,it,vt);else if(this.paintChar(G,it,vt,C),tt){const mt=it+r*tt.offset.x/c,$=vt-r*tt.offset.y/c;this.paintChar(tt.fontChar,mt,$,C)}}const ut=b?ft*w-I*p:ft*w+I*p;j+=ut,q&&l.restore()}b?e.y-=j:e.x+=j*g,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,l=n.fontSize,c=n.fontDirection,h=r.vertical?1:-1,f=n.charSpacing,p=n.wordSpacing,g=n.textHScale*c,v=n.fontMatrix||N0,b=t.length,A=n.textRenderingMode===fi.INVISIBLE;let x,w,M,C;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(g,c),x=0;x<b;++x){if(w=t[x],typeof w=="number"){C=h*w*l/1e3,this.ctx.translate(C,0),n.x+=C*g;continue}const L=(w.isSpace?p:0)+f,O=r.charProcOperatorList[w.operatorListId];if(!O){Nt(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(l,l),e.transform(...v),this.executeOperatorList(O),this.restore()),M=pt.applyTransform([w.width,0],v)[0]*l+L,e.translate(M,0),n.x+=M*g}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,l,c){this.ctx.rect(n,r,l-n,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],r=this.baseTransform||ye(this.ctx),l={createCanvasGraphics:c=>new QA(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new cb(t,n,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=pt.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=pt.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=ej(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Qs(e),Ri.SHADING);const r=Qs(e);if(r){const{width:l,height:c}=e.canvas,[h,f,p,g]=pt.getAxialAlignedBoundingBox([0,0,l,c],r);this.ctx.fillRect(h,f,p-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ue("Should not call beginInlineImage")}beginImageData(){ue("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ye(this.ctx),e)){const n=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],n,r),this.current.updateRectMinMax(ye(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Rg("TODO: Support non-isolated groups."),t.knockout&&Nt("Knockout groups not supported.");const n=ye(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=pt.getAxialAlignedBoundingBox(t.bbox,ye(e));const l=[0,0,e.canvas.width,e.canvas.height];r=pt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,f,p),b=v.context;b.translate(-c,-h),b.transform(...n),t.smask?this.smaskStack.push({canvas:v.canvas,context:b,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),jh(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ye(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=pt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,l){if(_(this,zr,ub).call(this),lm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h;const[f,p]=pt.singularValueDecompose2dScale(ye(this.ctx)),{viewportScale:g}=this,v=Math.ceil(c*this.outputScaleX*g),b=Math.ceil(h*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(v,b);const{canvas:A,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),lm(this.ctx)}else lm(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new g1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,zr,hb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=rj(t)),r.compiled)){r.compiled(n);return}const l=this._createMaskCanvas(t),c=l.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(c,l.offsetX,l.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const f=ye(h);h.transform(e,n,r,l,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let g=0,v=c.length;g<v;g+=2){const b=pt.transform(f,[e,n,r,l,c[g],c[g+1]]),[A,x]=pt.applyTransform([0,0],b);h.drawImage(p.canvas,A,x)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:h,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=g.context;v.save();const b=this.getObject(c,l);v1(v,b),v.globalCompositeOperation="source-in",v.fillStyle=r?n.getPattern(v,this,Qs(e),Ri.FILL):n,v.fillRect(0,0,h,f),v.restore(),e.save(),e.transform(...p),e.scale(1,-1),om(e,g.canvas,0,0,h,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Nt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Nt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let p=0,g=r.length;p<g;p+=2)f.push({transform:[e,0,0,n,r[p],r[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;if(this.save(),!xi){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/e,-1/n);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,n).context;y1(f,t),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,Qs(r));r.imageSmoothingEnabled=b1(ye(r),t.interpolate),om(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;y1(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of e)n.save(),n.transform(...l.transform),n.scale(1,-1),om(n,r,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===A1?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ye(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:l}=this.ctx.getTransform();let c,h;if(n===0&&r===0){const f=Math.abs(e),p=Math.abs(l);if(f===p)if(t===0)c=h=1/f;else{const g=f*t;c=h=g<1?1/g:1}else if(t===0)c=1/f,h=1/p;else{const g=f*t,v=p*t;c=g<1?1/g:1,h=v<1?1/v:1}}else{const f=Math.abs(e*l-n*r),p=Math.hypot(e,n),g=Math.hypot(r,l);if(t===0)c=g/f,h=p/f;else{const v=t*f;c=g>v?g/v:1,h=p>v?p/v:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=n||1,r===1&&l===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,l),c.length>0){const h=Math.max(r,l);e.setLineDash(c.map(f=>f/h)),e.lineDashOffset/=h}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};zr=new WeakSet,ub=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},hb=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Cc=QA;for(const a in Un)Cc.prototype[a]!==void 0&&(Cc.prototype[Un[a]]=Cc.prototype[a]);var Ud,Id;class wa{static get workerPort(){return d(this,Ud)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");E(this,Ud,t)}static get workerSrc(){return d(this,Id)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");E(this,Id,t)}}Ud=new WeakMap,Id=new WeakMap,T(wa,Ud,null),T(wa,Id,"");const cm={DATA:1,ERROR:2},ke={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $i(a){switch(a instanceof Error||typeof a=="object"&&a!==null||ue('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Rl(a.message);case"MissingPDFException":return new Cl(a.message);case"PasswordException":return new F0(a.message,a.code);case"UnexpectedResponseException":return new Mg(a.message,a.status);case"UnknownErrorException":return new j0(a.message,a.details);default:return new j0(a.message,a.toString())}}var qc,kn,rR,oR,lR,Em;class Kh{constructor(t,e,n){T(this,kn);T(this,qc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",_(this,kn,rR).bind(this),{signal:d(this,qc).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,n,r){const l=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:t,streamId:l,data:e,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,f.postMessage({sourceName:c,targetName:h,stream:ke.PULL,streamId:l,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Ue(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:ke.CANCEL,streamId:l,reason:$i(p)}),g.promise}},n)}destroy(){var t;(t=d(this,qc))==null||t.abort(),E(this,qc,null)}}qc=new WeakMap,kn=new WeakSet,rR=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){_(this,kn,lR).call(this,t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===cm.DATA)r.resolve(t.data);else if(t.callback===cm.ERROR)r.reject($i(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){l.postMessage({sourceName:n,targetName:r,callback:cm.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:n,targetName:r,callback:cm.ERROR,callbackId:t.callbackId,reason:$i(c)})});return}if(t.streamId){_(this,kn,oR).call(this,t);return}e(t.data)},oR=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this,h=this.actionHandler[t.action],f={enqueue(p,g=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:r,stream:ke.ENQUEUE,streamId:e,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:ke.CLOSE,streamId:e}),delete c.streamSinks[e])},error(p){Ue(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:ke.ERROR,streamId:e,reason:$i(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(p){p(h(t.data,f))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:ke.START_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:ke.START_COMPLETE,streamId:e,reason:$i(p)})})},lR=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case ke.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject($i(t.reason));break;case ke.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject($i(t.reason));break;case ke.PULL:if(!h){l.postMessage({sourceName:n,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(f){var p;f((p=h.onPull)==null?void 0:p.call(h))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,reason:$i(f)})});break;case ke.ENQUEUE:if(Ue(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case ke.CLOSE:if(Ue(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),_(this,kn,Em).call(this,c,e);break;case ke.ERROR:Ue(c,"error should have stream controller"),c.controller.error($i(t.reason)),_(this,kn,Em).call(this,c,e);break;case ke.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject($i(t.reason)),_(this,kn,Em).call(this,c,e);break;case ke.CANCEL:if(!h)break;new Promise(function(f){var p;f((p=h.onCancel)==null?void 0:p.call(h,$i(t.reason)))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:ke.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:r,stream:ke.CANCEL_COMPLETE,streamId:e,reason:$i(f)})}),h.sinkCapability.reject($i(t.reason)),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Em=async function(t,e){var n,r,l;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var Vo,Gd;class uj{constructor({parsedData:t,rawData:e}){T(this,Vo);T(this,Gd);E(this,Vo,t),E(this,Gd,e)}getRaw(){return d(this,Gd)}get(t){return d(this,Vo).get(t)??null}getAll(){return FA(d(this,Vo))}has(t){return d(this,Vo).has(t)}}Vo=new WeakMap,Gd=new WeakMap;const yc=Symbol("INTERNAL");var qd,Xd,Yd,Xc;class hj{constructor(t,{name:e,intent:n,usage:r,rbGroups:l}){T(this,qd,!1);T(this,Xd,!1);T(this,Yd,!1);T(this,Xc,!0);E(this,qd,!!(t&rn.DISPLAY)),E(this,Xd,!!(t&rn.PRINT)),this.name=e,this.intent=n,this.usage=r,this.rbGroups=l}get visible(){if(d(this,Yd))return d(this,Xc);if(!d(this,Xc))return!1;const{print:t,view:e}=this.usage;return d(this,qd)?(e==null?void 0:e.viewState)!=="OFF":d(this,Xd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==yc&&ue("Internal method `_setVisible` called."),E(this,Yd,n),E(this,Xc,e)}}qd=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,Xc=new WeakMap;var br,$t,Yc,Kc,Kd,db;class dj{constructor(t,e=rn.DISPLAY){T(this,Kd);T(this,br,null);T(this,$t,new Map);T(this,Yc,null);T(this,Kc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,E(this,Kc,t.order);for(const n of t.groups)d(this,$t).set(n.id,new hj(e,n));if(t.baseState==="OFF")for(const n of d(this,$t).values())n._setVisible(yc,!1);for(const n of t.on)d(this,$t).get(n)._setVisible(yc,!0);for(const n of t.off)d(this,$t).get(n)._setVisible(yc,!1);E(this,Yc,this.getHash())}}isVisible(t){if(d(this,$t).size===0)return!0;if(!t)return Rg("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,$t).has(t.id)?d(this,$t).get(t.id).visible:(Nt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return _(this,Kd,db).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,$t).has(e))return Nt(`Optional content group not found: ${e}`),!0;if(d(this,$t).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,$t).has(e))return Nt(`Optional content group not found: ${e}`),!0;if(!d(this,$t).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,$t).has(e))return Nt(`Optional content group not found: ${e}`),!0;if(!d(this,$t).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,$t).has(e))return Nt(`Optional content group not found: ${e}`),!0;if(d(this,$t).get(e).visible)return!1}return!0}return Nt(`Unknown optional content policy ${t.policy}.`),!0}return Nt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var l;const r=d(this,$t).get(t);if(!r){Nt(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==t&&((l=d(this,$t).get(h))==null||l._setVisible(yc,!1,!0));r._setVisible(yc,!!e,!0),E(this,br,null)}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const l=d(this,$t).get(r);if(l)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}E(this,br,null)}get hasInitialVisibility(){return d(this,Yc)===null||this.getHash()===d(this,Yc)}getOrder(){return d(this,$t).size?d(this,Kc)?d(this,Kc).slice():[...d(this,$t).keys()]:null}getGroups(){return d(this,$t).size>0?FA(d(this,$t)):null}getGroup(t){return d(this,$t).get(t)||null}getHash(){if(d(this,br)!==null)return d(this,br);const t=new WC;for(const[e,n]of d(this,$t))t.update(`${e}:${n.visible}`);return E(this,br,t.hexdigest())}}br=new WeakMap,$t=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Kd=new WeakSet,db=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const l=t[r];let c;if(Array.isArray(l))c=_(this,Kd,db).call(this,l);else if(d(this,$t).has(l))c=d(this,$t).get(l).visible;else return Nt(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"};class fj{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ue(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});Ue(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,r,l;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ue(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new pj(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new mj(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class pj{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=HA(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class mj{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gj(a){let t=!0,e=n("filename\\*","i").exec(a);if(e){e=e[1];let g=h(e);return g=unescape(g),g=f(g),g=p(g),l(g)}if(e=c(a),e){const g=p(e);return l(g)}if(e=n("filename","i").exec(a),e){e=e[1];let g=h(e);return g=p(g),l(g)}function n(g,v){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(g,v){if(g){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(g,{fatal:!0}),A=Dg(v);v=b.decode(A),t=!1}catch{}}return v}function l(g){return t&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),t&&(g=r("iso-8859-1",g))),g}function c(g){const v=[];let b;const A=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(g))!==null;){let[,w,M,C]=b;if(w=parseInt(w,10),w in v){if(w===0)break;continue}v[w]=[M,C]}const x=[];for(let w=0;w<v.length&&w in v;++w){let[M,C]=v[w];C=h(C),M&&(C=unescape(C),w===0&&(C=f(C))),x.push(C)}return x.join("")}function h(g){if(g.startsWith('"')){const v=g.slice(1).split('\\"');for(let b=0;b<v.length;++b){const A=v[b].indexOf('"');A!==-1&&(v[b]=v[b].slice(0,A),v.length=b+1),v[b]=v[b].replaceAll(/\\(.)/g,"$1")}g=v.join('"')}return g}function f(g){const v=g.indexOf("'");if(v===-1)return g;const b=g.slice(0,v),x=g.slice(v+1).replace(/^[^']*'/,"");return r(b,x)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,A,x){if(A==="q"||A==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,M){return String.fromCharCode(parseInt(M,16))}),r(b,x);try{x=atob(x)}catch{}return r(b,x)})}return""}function GA(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function qA({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(a.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||n||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function XA(a){const t=a.get("Content-Disposition");if(t){let e=gj(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(HA(e))return e}return null}function kg(a,t){return a===404||a===0&&t.startsWith("file:")?new Cl('Missing PDF "'+t+'".'):new Mg(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a)}function cR(a){return a===200||a===206}function uR(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function hR(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Nt(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class S1{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=GA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ue(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new yj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new vj(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class yj{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,uR(n,this._withCredentials,this._abortController)).then(l=>{if(!cR(l.status))throw kg(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:f}=qA({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=XA(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Rl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:hR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class vj{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${n-1}`);const c=r.url;fetch(c,uR(l,this._withCredentials,this._abortController)).then(h=>{if(!cR(h.status))throw kg(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:hR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const m0=200,g0=206;function bj(a){const t=a.response;return typeof t!="string"?t:Dg(t).buffer}class Aj{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=GA(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const r={begin:t,end:e};for(const l in n)r[l]=n[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=g0):r.expectedStatus=m0,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var r;const n=this.pendingRequests[t];n&&((r=n.onProgress)==null||r.call(n,e))}onStateChange(t,e){var f,p,g;const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=n.onError)==null||f.call(n,r.status);return}const l=r.status||m0;if(!(l===m0&&n.expectedStatus===g0)&&l!==n.expectedStatus){(p=n.onError)==null||p.call(n,r.status);return}const h=bj(r);if(l===g0){const v=r.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);n.onDone({begin:parseInt(b[1],10),chunk:h})}else h?n.onDone({begin:0,chunk:h}):(g=n.onError)==null||g.call(n,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Sj{constructor(t){this._source=t,this._manager=new Aj(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ue(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xj(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new Ej(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class xj{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=qA({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=XA(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=kg(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ej{constructor(t,e,n){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=kg(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _j=/^[a-z][a-z0-9\-+.]+:/i;function wj(a){if(_j.test(a))return new URL(a);const t=Br.get("url");return new URL(t.pathToFileURL(a))}function dR(a,t,e){return a.protocol==="http:"?Br.get("http").request(a,{headers:t},e):Br.get("https").request(a,{headers:t},e)}class Tj{constructor(t){this.source=t,this.url=wj(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=GA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ue(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Mj(this):new Cj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Dj(this,t,e):new Rj(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class fR{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Rl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pR{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class Cj extends fR{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=r=>{if(r.statusCode===404){const f=new Cl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=qA({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=XA(l)};this._request=dR(this._url,e,n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class Rj extends pR{constructor(t,e,n){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${n-1}`;const l=c=>{if(c.statusCode===404){const h=new Cl(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=dR(this._url,r,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class Mj extends fR{constructor(t){super(t);const e=Br.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Cl(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class Dj extends pR{constructor(t,e,n){super(t);const r=Br.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}}const Lj=1e5,Fi=30,Oj=.8;var F1,Ar,Hi,Wd,$d,Uo,oa,Qd,Zd,Io,Wc,$c,Sr,Qc,Jd,Zc,Go,tf,ef,Ee,qo,Xo,nf,xr,Jc,Oa,mR,gR,pb,cn,_m,mb,yR,vR;let fb=(Ee=class{constructor({textContentSource:t,container:e,viewport:n}){T(this,Oa);T(this,Ar,Promise.withResolvers());T(this,Hi,null);T(this,Wd,!1);T(this,$d,!!((F1=globalThis.FontInspector)!=null&&F1.enabled));T(this,Uo,null);T(this,oa,null);T(this,Qd,0);T(this,Zd,0);T(this,Io,null);T(this,Wc,null);T(this,$c,0);T(this,Sr,0);T(this,Qc,Object.create(null));T(this,Jd,[]);T(this,Zc,null);T(this,Go,[]);T(this,tf,new WeakMap);T(this,ef,null);var f;if(t instanceof ReadableStream)E(this,Zc,t);else if(typeof t=="object")E(this,Zc,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Hi,E(this,Wc,e)),E(this,Sr,n.scale*(globalThis.devicePixelRatio||1)),E(this,$c,n.rotation),E(this,oa,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:c,pageY:h}=n.rawDims;E(this,ef,[1,0,0,-1,-c,h+l]),E(this,Zd,r),E(this,Qd,l),_(f=Ee,cn,yR).call(f),Al(e,n),d(this,Ar).promise.finally(()=>{d(Ee,Jc).delete(this),E(this,oa,null),E(this,Qc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Di.platform;return Ut(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Io).read().then(({value:e,done:n})=>{if(n){d(this,Ar).resolve();return}d(this,Uo)??E(this,Uo,e.lang),Object.assign(d(this,Qc),e.styles),_(this,Oa,mR).call(this,e.items),t()},d(this,Ar).reject)};return E(this,Io,d(this,Zc).getReader()),d(Ee,Jc).add(this),t(),d(this,Ar).promise}update({viewport:t,onBefore:e=null}){var l;const n=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==d(this,$c)&&(e==null||e(),E(this,$c,r),Al(d(this,Wc),{rotation:r})),n!==d(this,Sr)){e==null||e(),E(this,Sr,n);const c={div:null,properties:null,ctx:_(l=Ee,cn,_m).call(l,d(this,Uo))};for(const h of d(this,Go))c.properties=d(this,tf).get(h),c.div=h,_(this,Oa,pb).call(this,c)}}cancel(){var e;const t=new Rl("TextLayer task cancelled.");(e=d(this,Io))==null||e.cancel(t).catch(()=>{}),E(this,Io,null),d(this,Ar).reject(t)}get textDivs(){return d(this,Go)}get textContentItemsStr(){return d(this,Jd)}static cleanup(){if(!(d(this,Jc).size>0)){d(this,qo).clear();for(const{canvas:t}of d(this,Xo).values())t.remove();d(this,Xo).clear()}}},Ar=new WeakMap,Hi=new WeakMap,Wd=new WeakMap,$d=new WeakMap,Uo=new WeakMap,oa=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Io=new WeakMap,Wc=new WeakMap,$c=new WeakMap,Sr=new WeakMap,Qc=new WeakMap,Jd=new WeakMap,Zc=new WeakMap,Go=new WeakMap,tf=new WeakMap,ef=new WeakMap,qo=new WeakMap,Xo=new WeakMap,nf=new WeakMap,xr=new WeakMap,Jc=new WeakMap,Oa=new WeakSet,mR=function(t){var r,l;if(d(this,Wd))return;(l=d(this,oa)).ctx??(l.ctx=_(r=Ee,cn,_m).call(r,d(this,Uo)));const e=d(this,Go),n=d(this,Jd);for(const c of t){if(e.length>Lj){Nt("Ignoring additional textDivs for performance reasons."),E(this,Wd,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=d(this,Hi);E(this,Hi,document.createElement("span")),d(this,Hi).classList.add("markedContent"),c.id!==null&&d(this,Hi).setAttribute("id",`${c.id}`),h.append(d(this,Hi))}else c.type==="endMarkedContent"&&E(this,Hi,d(this,Hi).parentNode);continue}n.push(c.str),_(this,Oa,gR).call(this,c)}},gR=function(t){var w;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Go).push(e);const r=pt.transform(d(this,ef),t.transform);let l=Math.atan2(r[1],r[0]);const c=d(this,Qc)[t.fontName];c.vertical&&(l+=Math.PI/2);let h=d(this,$d)&&c.fontSubstitution||c.fontFamily;h=Ee.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),p=f*_(w=Ee,cn,vR).call(w,h,d(this,Uo));let g,v;l===0?(g=r[4],v=r[5]-p):(g=r[4]+p*Math.sin(l),v=r[5]-p*Math.cos(l));const b="calc(var(--scale-factor)*",A=e.style;d(this,Hi)===d(this,Wc)?(A.left=`${(100*g/d(this,Zd)).toFixed(2)}%`,A.top=`${(100*v/d(this,Qd)).toFixed(2)}%`):(A.left=`${b}${g.toFixed(2)}px)`,A.top=`${b}${v.toFixed(2)}px)`),A.fontSize=`${b}${(d(Ee,xr)*f).toFixed(2)}px)`,A.fontFamily=h,n.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,$d)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);M!==C&&Math.max(M,C)/Math.min(M,C)>1.5&&(x=!0)}if(x&&(n.canvasWidth=c.vertical?t.height:t.width),d(this,tf).set(e,n),d(this,oa).div=e,d(this,oa).properties=n,_(this,Oa,pb).call(this,d(this,oa)),n.hasText&&d(this,Hi).append(e),n.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),d(this,Hi).append(M)}},pb=function(t){var h;const{div:e,properties:n,ctx:r}=t,{style:l}=e;let c="";if(d(Ee,xr)>1&&(c=`scale(${1/d(Ee,xr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:f}=l,{canvasWidth:p,fontSize:g}=n;_(h=Ee,cn,mb).call(h,r,g*d(this,Sr),f);const{width:v}=r.measureText(e.textContent);v>0&&(c=`scaleX(${p*d(this,Sr)/v}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(l.transform=c)},cn=new WeakSet,_m=function(t=null){let e=d(this,Xo).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Xo).set(t,e),d(this,nf).set(e,{size:0,family:""})}return e},mb=function(t,e,n){const r=d(this,nf).get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)},yR=function(){if(d(this,xr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),E(this,xr,t.getBoundingClientRect().height),t.remove()},vR=function(t,e){const n=d(this,qo).get(t);if(n)return n;const r=_(this,cn,_m).call(this,e);r.canvas.width=r.canvas.height=Fi,_(this,cn,mb).call(this,r,Fi,t);const l=r.measureText("");let c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(c){const g=c/(c+h);return d(this,qo).set(t,g),r.canvas.width=r.canvas.height=0,g}r.strokeStyle="red",r.clearRect(0,0,Fi,Fi),r.strokeText("g",0,0);let f=r.getImageData(0,0,Fi,Fi).data;h=0;for(let g=f.length-1-3;g>=0;g-=4)if(f[g]>0){h=Math.ceil(g/4/Fi);break}r.clearRect(0,0,Fi,Fi),r.strokeText("A",0,Fi),f=r.getImageData(0,0,Fi,Fi).data,c=0;for(let g=0,v=f.length;g<v;g+=4)if(f[g]>0){c=Fi-Math.floor(g/4/Fi);break}r.canvas.width=r.canvas.height=0;const p=c?c/(c+h):Oj;return d(this,qo).set(t,p),p},T(Ee,cn),T(Ee,qo,new Map),T(Ee,Xo,new Map),T(Ee,nf,new WeakMap),T(Ee,xr,null),T(Ee,Jc,new Set),Ee);class Ad{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(l){var f;if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(Ad.shouldBuildText(h))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const p of l.children)r(p)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const kj=65536,Pj=100,Nj=5e3,Fj=xi?KF:qF,jj=xi?WF:tR,Bj=xi?YF:XF,Hj=xi?$F:sR;function zj(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new gb,{docId:e}=t,n=a.url?Vj(a.url):null,r=a.data?Uj(a.data):null,l=a.httpHeaders||null,c=a.withCredentials===!0,h=a.password??null,f=a.range instanceof bR?a.range:null,p=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:kj;let g=a.worker instanceof Rc?a.worker:null;const v=a.verbosity,b=typeof a.docBaseUrl=="string"&&!Og(a.docBaseUrl)?a.docBaseUrl:null,A=typeof a.cMapUrl=="string"?a.cMapUrl:null,x=a.cMapPacked!==!1,w=a.CMapReaderFactory||jj,M=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,C=a.StandardFontDataFactory||Hj,L=a.stopAtErrors!==!0,O=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,j=a.isEvalSupported!==!1,P=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!xi,z=typeof a.isChrome=="boolean"?a.isChrome:!Di.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),q=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,I=typeof a.disableFontFace=="boolean"?a.disableFontFace:xi,G=a.fontExtraProperties===!0,tt=a.enableXfa===!0,it=a.ownerDocument||globalThis.document,vt=a.disableRange===!0,ft=a.disableStream===!0,ut=a.disableAutoFetch===!0,mt=a.pdfBug===!0,$=a.CanvasFactory||Fj,Y=a.FilterFactory||Bj,Z=a.enableHWA===!0,xt=f?f.length:a.length??NaN,k=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!xi&&!I,J=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:w===tR&&C===sR&&A&&M&&Vh(A,document.baseURI)&&Vh(M,document.baseURI);a.canvasFactory&&c1("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&c1("`filterFactory`-instance option, please use `FilterFactory` instead.");const ot=null;xF(v);const at={canvasFactory:new $({ownerDocument:it,enableHWA:Z}),filterFactory:new Y({docId:e,ownerDocument:it}),cMapReaderFactory:J?null:new w({baseUrl:A,isCompressed:x}),standardFontDataFactory:J?null:new C({baseUrl:M})};if(!g){const ht={verbosity:v,port:wa.workerPort};g=ht.port?Rc.fromPort(ht):new Rc(ht),t._worker=g}const nt={docId:e,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:ut,rangeChunkSize:p,length:xt,docBaseUrl:b,enableXfa:tt,evaluatorOptions:{maxImageSize:O,disableFontFace:I,ignoreErrors:L,isEvalSupported:j,isOffscreenCanvasSupported:P,isChrome:z,canvasMaxAreaInBytes:q,fontExtraProperties:G,useSystemFonts:k,cMapUrl:J?A:null,standardFontDataUrl:J?M:null}},Et={disableFontFace:I,fontExtraProperties:G,ownerDocument:it,pdfBug:mt,styleElement:ot,loadingParams:{disableAutoFetch:ut,enableXfa:tt}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ht=g.messageHandler.sendWithPromise("GetDocRequest",nt,r?[r.buffer]:null);let _t;if(f)_t=new fj(f,{disableRange:vt,disableStream:ft});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Dt;xi?Dt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Vh(n)?S1:Tj:Dt=Vh(n)?S1:Sj,_t=new Dt({url:n,length:xt,httpHeaders:l,withCredentials:c,rangeChunkSize:p,disableRange:vt,disableStream:ft})}return ht.then(Dt=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Gt=new Kh(e,Dt,g.port),St=new Xj(Gt,t,_t,Et,at);t._transport=St,Gt.send("Ready",null)})}).catch(t._capability.reject),t}function Vj(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(xi&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Uj(a){if(xi&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Dg(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function x1(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var fg;const pg=class pg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${wi(pg,fg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};fg=new WeakMap,T(pg,fg,0);let gb=pg,bR=class{constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ue("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Ij{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Er,la,Ln,vc,wm;class Gj{constructor(t,e,n,r=!1){T(this,Ln);T(this,Er,null);T(this,la,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new l1:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new AR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:l=!1}={}){return new Uf({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=or.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:v=!1}){var j,P;(j=this._stats)==null||j.time("Overall");const b=this._transport.getRenderingIntent(n,r,g,v),{renderingIntent:A,cacheKey:x}=b;E(this,la,!1),_(this,Ln,wm).call(this),h||(h=this._transport.getOptionalContentConfig(A));let w=this._intentStates.get(x);w||(w=Object.create(null),this._intentStates.set(x,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const M=!!(A&rn.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(b));const C=z=>{var q;w.renderTasks.delete(L),(this._maybeCleanupAfterRender||M)&&E(this,la,!0),_(this,Ln,vc).call(this,!M),z?(L.capability.reject(z),this._abortOperatorList({intentState:w,reason:z instanceof Error?z:new Error(z)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(q=globalThis.Stats)!=null&&q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new vb({callback:C,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:p});(w.renderTasks||(w.renderTasks=new Set)).add(L);const O=L.task;return Promise.all([w.displayReadyCapability.promise,h]).then(([z,q])=>{var I;if(this.destroyed){C();return}if((I=this._stats)==null||I.time("Rendering"),!(q.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:z,optionalContentConfig:q}),L.operatorListChanged()}).catch(C),O}getOperatorList({intent:t="display",annotationMode:e=or.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,e,n,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ad.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function l(){c.read().then(function({value:f,done:p}){if(p){n(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),l()},r)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),E(this,la,!1),_(this,Ln,wm).call(this),Promise.all(t)}cleanup(t=!1){E(this,la,!0);const e=_(this,Ln,vc).call(this,!1);return t&&e&&this._stats&&(this._stats=new l1),e}_startRenderPage(t,e){var r,l;const n=this._intentStates.get(e);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=n.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&_(this,Ln,vc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:l,transfer:c}=n,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},c).getReader(),p=this._intentStates.get(e);p.streamReader=f;const g=()=>{f.read().then(({value:v,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,p),g())},v=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();_(this,Ln,vc).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(v);else if(p.opListReadCapability)p.opListReadCapability.reject(v);else throw v}})};g()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof BA){let r=Pj;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Rl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Er=new WeakMap,la=new WeakMap,Ln=new WeakSet,vc=function(t=!1){if(_(this,Ln,wm).call(this),!d(this,la)||this.destroyed)return!1;if(t)return E(this,Er,setTimeout(()=>{E(this,Er,null),_(this,Ln,vc).call(this,!1)},Nj)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,la,!1),!0},wm=function(){d(this,Er)&&(clearTimeout(d(this,Er)),E(this,Er,null))};var ca,mg;class qj{constructor(){T(this,ca,new Map);T(this,mg,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};d(this,mg).then(()=>{for(const[r]of d(this,ca))r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:l}=n;if(l.aborted){Nt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}d(this,ca).set(e,r)}removeEventListener(t,e){const n=d(this,ca).get(e);n==null||n(),d(this,ca).delete(e)}terminate(){for(const[,t]of d(this,ca))t==null||t();d(this,ca).clear()}}ca=new WeakMap,mg=new WeakMap;var gg,Yo,Ko,tu,Tm,eu,Cm;const he=class he{constructor({name:t=null,port:e=null,verbosity:n=EF()}={}){T(this,tu);var r;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=d(he,Ko))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(he,Ko)||E(he,Ko,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return xi?Promise.all([Br.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Kh("main","worker",t),this._messageHandler.on("ready",function(){}),_(this,tu,Tm).call(this)}_initialize(){if(d(he,Yo)||d(he,eu,Cm)){this._setupFakeWorker();return}let{workerSrc:t}=he;try{he._isSameOrigin(window.location.href,t)||(t=he._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Kh("main","worker",e),r=()=>{l.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),n.on("test",h=>{if(l.abort(),this.destroyed||!h){r();return}this._messageHandler=n,this._port=e,this._webWorker=e,_(this,tu,Tm).call(this)}),n.on("ready",h=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};c();return}catch{Rg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(he,Yo)||(Nt("Setting up fake worker."),E(he,Yo,!0)),he._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new qj;this._port=e;const n=`fake${wi(he,gg)._++}`,r=new Kh(n+"_worker",n,e);t.setup(r,e),this._messageHandler=new Kh(n,n+"_worker",e),_(this,tu,Tm).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=d(he,Ko))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=d(this,Ko))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new he(t)}static get workerSrc(){if(wa.workerSrc)return wa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ut(this,"_setupFakeWorkerGlobal",(async()=>d(this,eu,Cm)?d(this,eu,Cm):(await import(this.workerSrc)).WorkerMessageHandler)())}};gg=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,tu=new WeakSet,Tm=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},eu=new WeakSet,Cm=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},T(he,eu),T(he,gg,0),T(he,Yo,!1),T(he,Ko),xi&&(E(he,Yo,!0),wa.workerSrc||(wa.workerSrc="./pdf.worker.mjs")),he._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},he._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Rc=he;var ua,Ss,iu,nu,xs,Wo,Wh;class Xj{constructor(t,e,n,r,l){T(this,Wo);T(this,ua,new Map);T(this,Ss,new Map);T(this,iu,new Map);T(this,nu,new Map);T(this,xs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new AR,this.fontLoader=new IF({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ut(this,"annotationStorage",new UA)}getRenderingIntent(t,e=or.ENABLE,n=null,r=!1,l=!1){let c=rn.DISPLAY,h=sb;switch(t){case"any":c=rn.ANY;break;case"display":break;case"print":c=rn.PRINT;break;default:Nt(`getRenderingIntent - invalid intent: ${t}`)}const f=c&rn.PRINT&&n instanceof QC?n:this.annotationStorage;switch(e){case or.DISABLE:c+=rn.ANNOTATIONS_DISABLE;break;case or.ENABLE:break;case or.ENABLE_FORMS:c+=rn.ANNOTATIONS_FORMS;break;case or.ENABLE_STORAGE:c+=rn.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Nt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=rn.IS_EDITING),l&&(c+=rn.OPLIST);const{ids:p,hash:g}=f.modifiedIds,v=[c,h.hash,g];return{renderingIntent:c,cacheKey:v.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,xs))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of d(this,Ss).values())t.push(r._destroy());d(this,Ss).clear(),d(this,iu).clear(),d(this,nu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),d(this,ua).clear(),this.filterFactory.destroy(),fb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Rl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Ue(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}Ue(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async n=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((h=e.onProgress)==null||h.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(n,r)=>{Ue(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){r.close();return}Ue(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Ij(n,this))}),t.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new F0(n.message,n.code);break;case"InvalidPDFException":r=new EC(n.message);break;case"MissingPDFException":r=new Cl(n.message);break;case"UnexpectedResponseException":r=new Mg(n.message,n.status);break;case"UnknownErrorException":r=new j0(n.message,n.details);break;default:ue("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",n=>{if(E(this,xs,Promise.withResolvers()),e.onPassword){const r=l=>{l instanceof Error?d(this,xs).reject(l):d(this,xs).resolve({password:l})};try{e.onPassword(r,n.code)}catch(l){d(this,xs).reject(l)}}else d(this,xs).reject(new F0(n.message,n.code));return d(this,xs).promise}),t.on("DataLoaded",n=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,Ss).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,l])=>{var c;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in l){const A=l.error;Nt(`Error during font loading: ${A}`),this.commonObjs.resolve(n,A);break}const g=p&&((c=globalThis.FontInspector)!=null&&c.enabled)?(A,x)=>globalThis.FontInspector.fontAdded(A,x):null,v=new GF(l,{disableFontFace:h,inspectFont:g});this.fontLoader.bind(v).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(n,v)});break;case"CopyLocalImage":const{imageRef:b}=l;Ue(b,"The imageRef must be defined.");for(const A of d(this,Ss).values())for(const[,x]of A.objs)if((x==null?void 0:x.ref)===b)return x.dataLen?(this.commonObjs.resolve(n,structuredClone(x)),x.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,l,c])=>{var f;if(this.destroyed)return;const h=d(this,Ss).get(r);if(!h.objs.has(n)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":h.objs.resolve(n,c),(c==null?void 0:c.dataLen)>vF&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Nt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=d(this,iu).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&d(this,nu).set(l.refStr,t);const c=new Gj(e,l,this,this._params.pdfBug);return d(this,Ss).set(e,c),c});return d(this,iu).set(e,r),r}getPageIndex(t){return x1(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return _(this,Wo,Wh).call(this,"GetFieldObjects")}hasJSActions(){return _(this,Wo,Wh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,Wo,Wh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return _(this,Wo,Wh).call(this,"GetOptionalContentConfig").then(e=>new dj(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,ua).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,c;return{info:r[0],metadata:r[1]?new uj(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return d(this,ua).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,Ss).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,ua).clear(),this.filterFactory.destroy(!0),fb.cleanup()}}cachedPageNumber(t){if(!x1(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,nu).get(e)??null}}ua=new WeakMap,Ss=new WeakMap,iu=new WeakMap,nu=new WeakMap,xs=new WeakMap,Wo=new WeakSet,Wh=function(t,e=null){const n=d(this,ua).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return d(this,ua).set(t,r),r};const um=Symbol("INITIAL_DATA");var Kn,sf,yb;class AR{constructor(){T(this,sf);T(this,Kn,Object.create(null))}get(t,e=null){if(e){const r=_(this,sf,yb).call(this,t);return r.promise.then(()=>e(r.data)),null}const n=d(this,Kn)[t];if(!n||n.data===um)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=d(this,Kn)[t];return!!e&&e.data!==um}resolve(t,e=null){const n=_(this,sf,yb).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in d(this,Kn)){const{data:n}=d(this,Kn)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}E(this,Kn,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,Kn)){const{data:e}=d(this,Kn)[t];e!==um&&(yield[t,e])}}}Kn=new WeakMap,sf=new WeakSet,yb=function(t){var e;return(e=d(this,Kn))[t]||(e[t]={...Promise.withResolvers(),data:um})};var _r;class Yj{constructor(t){T(this,_r,null);E(this,_r,t),this.onContinue=null}get promise(){return d(this,_r).capability.promise}cancel(t=0){d(this,_r).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,_r).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,_r);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}_r=new WeakMap;var wr,$o;const Ao=class Ao{constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:v=!1,pageColors:b=null}){T(this,wr,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=v,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Yj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,f;if(this.cancelled)return;if(this._canvas){if(d(Ao,$o).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(Ao,$o).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:l,background:c}=this.params;this.gfx=new Cc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,wr)&&(window.cancelAnimationFrame(d(this,wr)),E(this,wr,null)),d(Ao,$o).delete(this._canvas),this.callback(t||new BA(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,wr,window.requestAnimationFrame(()=>{E(this,wr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(Ao,$o).delete(this._canvas),this.callback())))}};wr=new WeakMap,$o=new WeakMap,T(Ao,$o,new WeakSet);let vb=Ao;const Kj="4.8.69",Wj="3634dab10";function E1(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Bh(a){return Math.max(0,Math.min(255,255*a))}class _1{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Bh(t),[t,t,t]}static G_HTML([t]){const e=E1(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Bh)}static RGB_HTML(t){return`#${t.map(E1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Bh(1-Math.min(1,t+r)),Bh(1-Math.min(1,n+r)),Bh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,l=1-e,c=1-n,h=Math.min(r,l,c);return["CMYK",r,l,c,h]}}class $j{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ue("Abstract method `_createSVG` called.")}}class YA extends $j{_createSVG(t){return document.createElementNS(Zs,t)}}class SR{static setupStorage(t,e,n,r,l){const c=r.getValue(e,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?t.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{r.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of n.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:l}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}h&&l.addLinkAttributes(t,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(t,c.dataId,e,n)}static render(t){var v,b;const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:n});const h=l!=="richText",f=t.div;if(f.append(c),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);c.append(A),h&&Ad.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const g=[[r,-1,c]];for(;g.length>0;){const[A,x,w]=g.at(-1);if(x+1===A.children.length){g.pop();continue}const M=A.children[++g.at(-1)[1]];if(M===null)continue;const{name:C}=M;if(C==="#text"){const O=document.createTextNode(M.value);p.push(O),w.append(O);continue}const L=(v=M==null?void 0:M.attributes)!=null&&v.xmlns?document.createElementNS(M.attributes.xmlns,C):document.createElement(C);if(w.append(L),M.attributes&&this.setAttributes({html:L,element:M,storage:e,intent:l,linkService:n}),((b=M.children)==null?void 0:b.length)>0)g.push([M,-1,L]);else if(M.value){const O=document.createTextNode(M.value);h&&Ad.shouldBuildText(C)&&p.push(O),L.append(O)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Gf=1e3,Qj=9,xl=new WeakSet;function Ra(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class Zj{static create(t){switch(t.data.annotationType){case Be.LINK:return new xR(t);case Be.TEXT:return new Jj(t);case Be.WIDGET:switch(t.data.fieldType){case"Tx":return new t3(t);case"Btn":return t.data.radioButton?new wR(t):t.data.checkBox?new i3(t):new n3(t);case"Ch":return new s3(t);case"Sig":return new e3(t)}return new Ml(t);case Be.POPUP:return new Ab(t);case Be.FREETEXT:return new DR(t);case Be.LINE:return new r3(t);case Be.SQUARE:return new o3(t);case Be.CIRCLE:return new l3(t);case Be.POLYLINE:return new LR(t);case Be.CARET:return new u3(t);case Be.INK:return new KA(t);case Be.POLYGON:return new c3(t);case Be.HIGHLIGHT:return new OR(t);case Be.UNDERLINE:return new h3(t);case Be.SQUIGGLY:return new d3(t);case Be.STRIKEOUT:return new f3(t);case Be.STAMP:return new kR(t);case Be.FILEATTACHMENT:return new p3(t);default:return new Me(t)}}}var Qo,su,au,af,bb;const ZA=class ZA{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){T(this,af);T(this,Qo,null);T(this,su,!1);T(this,au,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ZA._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;d(this,Qo)||E(this,Qo,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&_(this,af,bb).call(this,e),(n=d(this,au))==null||n.popup.updateEdited(t)}resetEdited(){var t;d(this,Qo)&&(_(this,af,bb).call(this,d(this,Qo).rect),(t=d(this,au))==null||t.popup.resetEdited(),E(this,Qo,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof Ml||(l.tabIndex=Gf);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof Ab){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,l),l}const{width:h,height:f}=Ra(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(w>0||M>0){const L=`calc(${w}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;c.borderRadius=L}else if(this instanceof wR){const L=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=L}switch(e.borderStyle.style){case Fh.SOLID:c.borderStyle="solid";break;case Fh.DASHED:c.borderStyle="dashed";break;case Fh.BEVELED:Nt("Unimplemented border style: beveled");break;case Fh.INSET:Nt("Unimplemented border style: inset");break;case Fh.UNDERLINE:c.borderBottomStyle="solid";break}const C=e.borderColor||null;C?(E(this,su,!0),c.borderColor=pt.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):c.borderWidth=0}const p=pt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:v,pageX:b,pageY:A}=r.rawDims;c.left=`${100*(p[0]-b)/g}%`,c.top=`${100*(p[1]-A)/v}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(c.width=`${100*h/g}%`,c.height=`${100*f/v}%`):this.setRotation(x,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:c}=Ra(this.data.rect);let h,f;t%180===0?(h=100*l/n,f=100*c/r):(h=100*c/n,f=100*l/r),e.style.width=`${h}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const l=r.detail[e],c=l[0],h=l.slice(1);r.target.style[n]=_1[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[n]:_1[`${c}_rgb`](h)})};return Ut(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||n[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,l]of Object.entries(e)){const c=n[r];if(c){const h={detail:{[r]:l},target:t};c(h),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,l]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,M,C,L]=t.subarray(2,6);if(r===w&&l===M&&e===C&&n===L)return}const{style:c}=this.container;let h;if(d(this,su)){const{borderColor:w,borderWidth:M}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=r-e,p=l-n,{svgFactory:g}=this,v=g.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const b=g.createElement("defs");v.append(b);const A=g.createElement("clipPath"),x=`clippath_${this.data.id}`;A.setAttribute("id",x),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let w=2,M=t.length;w<M;w+=8){const C=t[w],L=t[w+1],O=t[w+2],j=t[w+3],P=g.createElement("rect"),z=(O-e)/f,q=(l-L)/p,I=(C-O)/f,G=(L-j)/p;P.setAttribute("x",z),P.setAttribute("y",q),P.setAttribute("width",I),P.setAttribute("height",G),A.append(P),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${z}" y="${q}" width="${I}" height="${G}"/>`)}d(this,su)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(v),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:t}=this,e=E(this,au,new Ab({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ue("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:h}of r){if(l===-1||c===e)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!xl.has(p)){Nt(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:f,domElement:p})}return n}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==e&&xl.has(r)&&n.push({id:c,exportValue:l,domElement:r})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Qo=new WeakMap,su=new WeakMap,au=new WeakMap,af=new WeakSet,bb=function(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:f}}}}=this;n==null||n.splice(0,4,...t);const{width:p,height:g}=Ra(t);e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(c-t[3]+f)/c}%`,r===0?(e.width=`${100*p/l}%`,e.height=`${100*g/c}%`):this.setRotation(r)};let Me=ZA;var on,mo,ER,_R;class xR extends Me{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});T(this,on);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(_(this,on,ER).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(_(this,on,_R).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&_(this,on,mo).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),_(this,on,mo).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(n.actions)){const c=r.get(l);c&&(e[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),_(this,on,mo).call(this)}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),_(this,on,mo).call(this),!this._fieldObjects){Nt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var v;r==null||r();const{fields:l,refs:c,include:h}=n,f=[];if(l.length!==0||c.length!==0){const b=new Set(c);for(const A of l){const x=this._fieldObjects[A]||[];for(const{id:w}of x)b.add(w)}for(const A of Object.values(this._fieldObjects))for(const x of A)b.has(x.id)===h&&f.push(x)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const p=this.annotationStorage,g=[];for(const b of f){const{id:A}=b;switch(g.push(A),b.type){case"text":{const w=b.defaultValue||"";p.setValue(A,{value:w});break}case"checkbox":case"radiobutton":{const w=b.defaultValue===b.exportValues;p.setValue(A,{value:w});break}case"combobox":case"listbox":{const w=b.defaultValue||"";p.setValue(A,{value:w});break}default:continue}const x=document.querySelector(`[data-element-id="${A}"]`);if(x){if(!xl.has(x)){Nt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}on=new WeakSet,mo=function(){this.container.setAttribute("data-internal-link","")},ER=function(e,n,r=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(n.content,n.filename,r),!1},_(this,on,mo).call(this)},_R=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),_(this,on,mo).call(this)};class Jj extends Me{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ml extends Me{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Di.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,l){n.includes("mouse")?t.addEventListener(n,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(n,c=>{var h;if(n==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}l&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}}))})}_setEventListeners(t,e,n,r){var l,c,h;for(const[f,p]of n)(p==="Action"||(l=this.data.actions)!=null&&l[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,r),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":pt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Qj,l=t.style;let c;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(h0*r))||1,v=p/g;c=Math.min(r,f(v/h0))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,f(p/h0))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=pt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class t3 extends Ml{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=n),l.setValue(c.id,{[r]:n})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let h=c.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??h,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",p??h),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),xl.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Gf,this._setRequired(n,this.data.required),f&&(n.maxLength=f),n.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",b=>{const A=this.data.defaultFieldValue??"";n.value=g.userValue=A,g.formattedValue=null});let v=b=>{const{formattedValue:A}=g;A!=null&&(b.target.value=A),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{var w;if(g.focused)return;const{target:x}=A;g.userValue&&(x.value=g.userValue),g.lastCommittedValue=x.value,g.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const x={value(w){g.userValue=w.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),w.target.value=g.userValue},formattedValue(w){const{formattedValue:M}=w.detail;g.formattedValue=M,M!=null&&w.target!==document.activeElement&&(w.target.value=M),t.setValue(e,{formattedValue:M})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var O;const{charLimit:M}=w.detail,{target:C}=w;if(M===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",M);let L=g.userValue;!L||L.length<=M||(L=L.slice(0,M),C.value=g.userValue=L,t.setValue(e,{value:L}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(x,A)}),n.addEventListener("keydown",A=>{var M;g.commitKey=1;let x=-1;if(A.key==="Escape"?x=0:A.key==="Enter"&&!this.data.multiLine?x=2:A.key==="Tab"&&(g.commitKey=3),x===-1)return;const{value:w}=A.target;g.lastCommittedValue!==w&&(g.lastCommittedValue=w,g.userValue=w,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:x,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const b=v;v=null,n.addEventListener("blur",A=>{var w,M;if(!g.focused||!A.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(g.focused=!1);const{value:x}=A.target;g.userValue=x,g.lastCommittedValue!==x&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:g.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),b(A)}),(l=this.data.actions)!=null&&l.Keystroke&&n.addEventListener("beforeinput",A=>{var P;g.lastCommittedValue=null;const{data:x,target:w}=A,{value:M,selectionStart:C,selectionEnd:L}=w;let O=C,j=L;switch(A.inputType){case"deleteWordBackward":{const z=M.substring(0,C).match(/\w*[^\w]*$/);z&&(O-=z[0].length);break}case"deleteWordForward":{const z=M.substring(C).match(/^[^\w]*\w*/);z&&(j+=z[0].length);break}case"deleteContentBackward":C===L&&(O-=1);break;case"deleteContentForward":C===L&&(j+=1);break}A.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:x||"",willCommit:!1,selStart:O,selEnd:j}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class e3 extends Ml{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class i3 extends Ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return xl.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=Gf,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,n)){const g=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(n,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(n,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class wR extends Ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,n))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(xl.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=Gf,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,n))t.setValue(p.id,{value:!1});t.setValue(n,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const g=c===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const b=g&&v.id===n;v.domElement&&(v.domElement.checked=b),t.setValue(v.id,{value:b})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class n3 extends xR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class s3 extends Ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");xl.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Gf;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const v=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===v});for(const g of this.data.options){const v=document.createElement("option");v.textContent=g.displayValue,v.value=g.exportValue,n.value.includes(g.exportValue)&&(v.setAttribute("selected",!0),l=!1),r.append(v)}let c=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),c=()=>{g.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=g=>{const v=g?"value":"textContent",{options:b,multiple:A}=r;return A?Array.prototype.filter.call(b,x=>x.selected).map(x=>x[v]):b.selectedIndex===-1?null:b[b.selectedIndex][v]};let f=h(!1);const p=g=>{const v=g.target.options;return Array.prototype.map.call(v,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const v={value(b){c==null||c();const A=b.detail.value,x=new Set(Array.isArray(A)?A:[A]);for(const w of r.options)w.selected=x.has(w.value);t.setValue(e,{value:h(!0)}),f=h(!1)},multipleSelection(b){r.multiple=!0},remove(b){const A=r.options,x=b.detail.remove;A[x].selected=!1,r.remove(x),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:h(!0),items:p(b)}),f=h(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=h(!1)},insert(b){const{index:A,displayValue:x,exportValue:w}=b.detail.insert,M=r.children[A],C=document.createElement("option");C.textContent=x,C.value=w,M?M.before(C):r.append(C),t.setValue(e,{value:h(!0),items:p(b)}),f=h(!1)},items(b){const{items:A}=b.detail;for(;r.length!==0;)r.remove(0);for(const x of A){const{displayValue:w,exportValue:M}=x,C=document.createElement("option");C.textContent=w,C.value=M,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:h(!0),items:p(b)}),f=h(!1)},indices(b){const A=new Set(b.detail.indices);for(const x of b.target.options)x.selected=A.has(x.index);t.setValue(e,{value:h(!0)}),f=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(v,g)}),r.addEventListener("input",g=>{var A;const v=h(!0),b=h(!1);t.setValue(e,{value:v}),g.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:b,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Ab extends Me{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Me._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new a3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${jA}${n}`).join(",")),this.container}}var ru,yg,vg,ou,Zo,xe,ha,lu,rf,of,cu,da,Wn,fa,lf,pa,cf,Jo,tl,ee,Rm,Sb,TR,CR,RR,MR,Mm,Dm,xb;class a3{constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:l,contentsObj:c,richText:h,parent:f,rect:p,parentRect:g,open:v}){T(this,ee);T(this,ru,_(this,ee,RR).bind(this));T(this,yg,_(this,ee,xb).bind(this));T(this,vg,_(this,ee,Dm).bind(this));T(this,ou,_(this,ee,Mm).bind(this));T(this,Zo,null);T(this,xe,null);T(this,ha,null);T(this,lu,null);T(this,rf,null);T(this,of,null);T(this,cu,null);T(this,da,!1);T(this,Wn,null);T(this,fa,null);T(this,lf,null);T(this,pa,null);T(this,cf,null);T(this,Jo,null);T(this,tl,!1);var b;E(this,xe,t),E(this,cf,r),E(this,ha,c),E(this,pa,h),E(this,of,f),E(this,Zo,e),E(this,lf,p),E(this,cu,g),E(this,rf,n),E(this,lu,zA.toDateObject(l)),this.trigger=n.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",d(this,ou)),A.addEventListener("mouseenter",d(this,vg)),A.addEventListener("mouseleave",d(this,yg)),A.classList.add("popupTriggerArea");for(const A of n)(b=A.container)==null||b.addEventListener("keydown",d(this,ru));d(this,xe).hidden=!0,v&&_(this,ee,Mm).call(this)}render(){if(d(this,Wn))return;const t=E(this,Wn,document.createElement("div"));if(t.className="popup",d(this,Zo)){const l=t.style.outlineColor=pt.makeHexColor(...d(this,Zo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=pt.makeHexColor(...d(this,Zo).map(h=>Math.floor(.7*(255-h)+h)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=d(this,cf),t.append(e),d(this,lu)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,lu).valueOf()})),e.append(l)}const r=d(this,ee,Rm);if(r)SR.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(d(this,ha));t.append(l)}d(this,xe).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const h=r[l];n.append(document.createTextNode(h)),l<c-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;d(this,Jo)||E(this,Jo,{contentsObj:d(this,ha),richText:d(this,pa)}),t&&E(this,fa,null),e&&(E(this,pa,_(this,ee,CR).call(this,e)),E(this,ha,null)),(n=d(this,Wn))==null||n.remove(),E(this,Wn,null)}resetEdited(){var t;d(this,Jo)&&({contentsObj:wi(this,ha)._,richText:wi(this,pa)._}=d(this,Jo),E(this,Jo,null),(t=d(this,Wn))==null||t.remove(),E(this,Wn,null),E(this,fa,null))}forceHide(){E(this,tl,this.isVisible),d(this,tl)&&(d(this,xe).hidden=!0)}maybeShow(){d(this,tl)&&(d(this,Wn)||_(this,ee,Dm).call(this),E(this,tl,!1),d(this,xe).hidden=!1)}get isVisible(){return d(this,xe).hidden===!1}}ru=new WeakMap,yg=new WeakMap,vg=new WeakMap,ou=new WeakMap,Zo=new WeakMap,xe=new WeakMap,ha=new WeakMap,lu=new WeakMap,rf=new WeakMap,of=new WeakMap,cu=new WeakMap,da=new WeakMap,Wn=new WeakMap,fa=new WeakMap,lf=new WeakMap,pa=new WeakMap,cf=new WeakMap,Jo=new WeakMap,tl=new WeakMap,ee=new WeakSet,Rm=function(){const t=d(this,pa),e=d(this,ha);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,pa).html||null},Sb=function(){var t,e,n;return((n=(e=(t=d(this,ee,Rm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},TR=function(){var t,e,n;return((n=(e=(t=d(this,ee,Rm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},CR=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:d(this,ee,TR),fontSize:d(this,ee,Sb)?`calc(${d(this,ee,Sb)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return n},RR=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,da))&&_(this,ee,Mm).call(this)},MR=function(){if(d(this,fa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:l}}}=d(this,of);let c=!!d(this,cu),h=c?d(this,cu):d(this,lf);for(const x of d(this,rf))if(!h||pt.intersect(x.data.rect,h)!==null){h=x.data.rect,c=!0;break}const f=pt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),g=c?h[2]-h[0]+5:0,v=f[0]+g,b=f[1];E(this,fa,[100*(v-r)/e,100*(b-l)/n]);const{style:A}=d(this,xe);A.left=`${d(this,fa)[0]}%`,A.top=`${d(this,fa)[1]}%`},Mm=function(){E(this,da,!d(this,da)),d(this,da)?(_(this,ee,Dm).call(this),d(this,xe).addEventListener("click",d(this,ou)),d(this,xe).addEventListener("keydown",d(this,ru))):(_(this,ee,xb).call(this),d(this,xe).removeEventListener("click",d(this,ou)),d(this,xe).removeEventListener("keydown",d(this,ru)))},Dm=function(){d(this,Wn)||this.render(),this.isVisible?d(this,da)&&d(this,xe).classList.add("focused"):(_(this,ee,MR).call(this),d(this,xe).hidden=!1,d(this,xe).style.zIndex=parseInt(d(this,xe).style.zIndex)+1e3)},xb=function(){d(this,xe).classList.remove("focused"),!(d(this,da)||!this.isVisible)&&(d(this,xe).hidden=!0,d(this,xe).style.zIndex=parseInt(d(this,xe).style.zIndex)-1e3)};class DR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ot.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var uf;class r3 extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,uf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:r}=Ra(e.rect),l=this.svgFactory.create(n,r,!0),c=E(this,uf,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,uf)}addHighlightArea(){this.container.classList.add("highlightArea")}}uf=new WeakMap;var hf;class o3 extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,hf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:r}=Ra(e.rect),l=this.svgFactory.create(n,r,!0),c=e.borderStyle.width,h=E(this,hf,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",n-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,hf)}addHighlightArea(){this.container.classList.add("highlightArea")}}hf=new WeakMap;var df;class l3 extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,df,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:r}=Ra(e.rect),l=this.svgFactory.create(n,r,!0),c=e.borderStyle.width,h=E(this,df,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",n/2),h.setAttribute("cy",r/2),h.setAttribute("rx",n/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,df)}addHighlightArea(){this.container.classList.add("highlightArea")}}df=new WeakMap;var ff;class LR extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,ff,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:l}}=this;if(!n)return this.container;const{width:c,height:h}=Ra(e),f=this.svgFactory.create(c,h,!0);let p=[];for(let v=0,b=n.length;v<b;v+=2){const A=n[v]-e[0],x=e[3]-n[v+1];p.push(`${A},${x}`)}p=p.join(" ");const g=E(this,ff,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}ff=new WeakMap;class c3 extends LR{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class u3 extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var pf;class KA extends Me{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,pf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ot.HIGHLIGHT:Ot.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:r,popupRef:l}}=this,{width:c,height:h}=Ra(e),f=this.svgFactory.create(c,h,!0);for(const p of n){let g=[];for(let b=0,A=p.length;b<A;b+=2){const x=p[b]-e[0],w=e[3]-p[b+1];g.push(`${x},${w}`)}g=g.join(" ");const v=this.svgFactory.createElement(this.svgElementName);d(this,pf).push(v),v.setAttribute("points",g),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return d(this,pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}pf=new WeakMap;class OR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ot.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class h3 extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class d3 extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class f3 extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class kR extends Me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ot.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mf,gf,Eb;class p3 extends Me{constructor(e){var r;super(e,{isRenderable:!0});T(this,gf);T(this,mf,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,gf,Eb).bind(this)),E(this,mf,r);const{isMac:l}=Di.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&_(this,gf,Eb).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return d(this,mf)}addHighlightArea(){this.container.classList.add("highlightArea")}}mf=new WeakMap,gf=new WeakSet,Eb=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var yf,el,il,vf,_l,PR,_b,j1;let m3=(j1=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:h}){T(this,_l);T(this,yf,null);T(this,el,null);T(this,il,new Map);T(this,vf,null);this.div=t,E(this,yf,e),E(this,el,n),E(this,vf,h||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return d(this,il).size>0}async render(t){var c;const{annotations:e}=t,n=this.div;Al(n,this.viewport);const r=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new YA,annotationStorage:t.annotationStorage||new UA,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const f=h.annotationType===Be.POPUP;if(f){const v=r.get(h.id);if(!v)continue;l.elements=v}else{const{width:v,height:b}=Ra(h.rect);if(v<=0||b<=0)continue}l.data=h;const p=Zj.create(l);if(!p.isRenderable)continue;if(!f&&h.popupRef){const v=r.get(h.popupRef);v?v.push(p):r.set(h.popupRef,[p])}const g=p.render();h.hidden&&(g.style.visibility="hidden"),await _(this,_l,PR).call(this,g,h.id),p._isEditable&&(d(this,il).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}_(this,_l,_b).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Al(e,{rotation:t.rotation}),_(this,_l,_b).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,il).values())}getEditableAnnotation(t){return d(this,il).get(t)}},yf=new WeakMap,el=new WeakMap,il=new WeakMap,vf=new WeakMap,_l=new WeakSet,PR=async function(t,e){var c,h;const n=t.firstChild||t,r=n.id=`${jA}${e}`,l=await((c=d(this,vf))==null?void 0:c.getAriaAttributes(r));if(l)for(const[f,p]of l)n.setAttribute(f,p);this.div.append(t),(h=d(this,yf))==null||h.moveElementInDOM(this.div,t,n,!1)},_b=function(){if(!d(this,el))return;const t=this.div;for(const[e,n]of d(this,el)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(n):l.classList.contains("annotationContent")?l.after(n):l.before(n):r.append(n)}d(this,el).clear()},j1);const hm=/\r\n?|\n/g;var $n,Ji,bf,nl,tn,Ne,NR,FR,jR,Lm,Da,Om,km,BR,Tb,HR;const re=class re extends Qt{constructor(e){super({...e,name:"freeTextEditor"});T(this,Ne);T(this,$n);T(this,Ji,"");T(this,bf,`${this.id}-editor`);T(this,nl,null);T(this,tn);E(this,$n,e.color||re._defaultColor||Qt._defaultLineColor),E(this,tn,e.fontSize||re._defaultFontSize)}static get _keyboardManager(){const e=re.prototype,n=c=>c.isEmpty(),r=Sl.TRANSLATE_SMALL,l=Sl.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new If([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:n}]]))}static initialize(e,n){Qt.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Tt.FREETEXT_SIZE:re._defaultFontSize=n;break;case Tt.FREETEXT_COLOR:re._defaultColor=n;break}}updateParams(e,n){switch(e){case Tt.FREETEXT_SIZE:_(this,Ne,NR).call(this,n);break;case Tt.FREETEXT_COLOR:_(this,Ne,FR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.FREETEXT_SIZE,re._defaultFontSize],[Tt.FREETEXT_COLOR,re._defaultColor||Qt._defaultLineColor]]}get propertiesToUpdate(){return[[Tt.FREETEXT_SIZE,d(this,tn)],[Tt.FREETEXT_COLOR,d(this,$n)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-re._internalPadding*e,-(re._internalPadding+d(this,tn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ot.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,nl,new AbortController);const e=this._uiManager.combinedSignal(d(this,nl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,bf)),this._isDraggable=!0,(e=d(this,nl))==null||e.abort(),E(this,nl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,Ji),n=E(this,Ji,_(this,Ne,jR).call(this).trimEnd());if(e===n)return;const r=l=>{if(E(this,Ji,l),!l){this.remove();return}_(this,Ne,km).call(this),this._uiManager.rebuild(this),_(this,Ne,Lm).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),_(this,Ne,Lm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){re._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,bf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${d(this,tn)}px * var(--scale-factor))`,r.color=d(this,$n),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Jm(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[g,v]=this.pageDimensions,[b,A]=this.pageTranslation;let x,w;switch(this.rotation){case 0:x=e+(h[0]-b)/g,w=n+this.height-(h[1]-A)/v;break;case 90:x=e+(h[0]-b)/g,w=n-(h[1]-A)/v,[f,p]=[p,-f];break;case 180:x=e-this.width+(h[0]-b)/g,w=n-(h[1]-A)/v,[f,p]=[-f,-p];break;case 270:x=e+(h[0]-b-this.height*v)/g,w=n+(h[1]-A-this.width*g)/v,[f,p]=[-p,f];break}this.setAt(x*l,w*c,f,p)}else this.setAt(e*l,n*c,this.width*l,this.height*c);_(this,Ne,km).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var x,w,M;const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=_(x=re,Da,Tb).call(x,n.getData("text")||"").replaceAll(hm,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!l.includes(`
`)){h.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:p}=h,g=[],v=[];if(f.nodeType===Node.TEXT_NODE){const C=f.parentElement;if(v.push(f.nodeValue.slice(p).replaceAll(hm,"")),C!==this.editorDiv){let L=g;for(const O of this.editorDiv.childNodes){if(O===C){L=v;continue}L.push(_(w=re,Da,Om).call(w,O))}}g.push(f.nodeValue.slice(0,p).replaceAll(hm,""))}else if(f===this.editorDiv){let C=g,L=0;for(const O of this.editorDiv.childNodes)L++===p&&(C=v),C.push(_(M=re,Da,Om).call(M,O))}E(this,Ji,`${g.join(`
`)}${l}${v.join(`
`)}`),_(this,Ne,km).call(this);const b=new Range;let A=g.reduce((C,L)=>C+L.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const L=C.nodeValue.length;if(A<=L){b.setStart(C,A),b.setEnd(C,A);break}A-=L}c.removeAllRanges(),c.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,r){var h;let l=null;if(e instanceof DR){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:g,rotation:v,id:b,popupRef:A},textContent:x,textPosition:w,parent:{page:{pageNumber:M}}}=e;if(!x||x.length===0)return null;l=e={annotationType:Ot.FREETEXT,color:Array.from(p),fontSize:f,value:x.join(`
`),position:w,pageIndex:M-1,rect:g.slice(0),rotation:v,id:b,deleted:!1,popupRef:A}}const c=await super.deserialize(e,n,r);return E(c,tn,e.fontSize),E(c,$n,pt.makeHexColor(...e.color)),E(c,Ji,_(h=re,Da,Tb).call(h,e.value)),c.annotationElementId=e.id||null,c._initialData=l,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=re._internalPadding*this.parentScale,r=this.getRect(n,n),l=Qt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,$n)),c={annotationType:Ot.FREETEXT,color:l,fontSize:d(this,tn),value:_(this,Ne,BR).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!_(this,Ne,HR).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${d(this,tn)}px * var(--scale-factor))`,r.color=d(this,$n),n.replaceChildren();for(const c of d(this,Ji).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),n.append(h)}const l=re._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:d(this,Ji)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};$n=new WeakMap,Ji=new WeakMap,bf=new WeakMap,nl=new WeakMap,tn=new WeakMap,Ne=new WeakSet,NR=function(e){const n=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-d(this,tn))*this.parentScale),E(this,tn,l),_(this,Ne,Lm).call(this)},r=d(this,tn);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},FR=function(e){const n=l=>{E(this,$n,this.editorDiv.style.color=l)},r=d(this,$n);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},jR=function(){var r;const e=[];this.editorDiv.normalize();let n=null;for(const l of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(_(r=re,Da,Om).call(r,l)),n=l);return e.join(`
`)},Lm=function(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()},Da=new WeakSet,Om=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(hm,"")},km=function(){if(this.editorDiv.replaceChildren(),!!d(this,Ji))for(const e of d(this,Ji).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},BR=function(){return d(this,Ji).replaceAll(""," ")},Tb=function(e){return e.replaceAll(" ","")},HR=function(e){const{value:n,fontSize:r,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((h,f)=>h!==l[f])||e.pageIndex!==c},T(re,Da),wt(re,"_freeTextDefaultContent",""),wt(re,"_internalPadding",0),wt(re,"_defaultColor",null),wt(re,"_defaultFontSize",10),wt(re,"_type","freetext"),wt(re,"_editorType",Ot.FREETEXT);let wb=re;class zR{toSVGPath(){ue("Abstract method `toSVGPath` must be implemented.")}get box(){ue("Abstract getter `box` must be implemented.")}serialize(t,e){ue("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ue("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ue("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var en,Qn,uu,hu,Es,jt,sl,al,Af,Sf,du,fu,Tr,xf,bg,Ag,Ie,$h,VR,UR,IR,GR,qR,XR;const ta=class ta{constructor({x:t,y:e},n,r,l,c,h=0){T(this,Ie);T(this,en);T(this,Qn,[]);T(this,uu);T(this,hu);T(this,Es,[]);T(this,jt,new Float64Array(18));T(this,sl);T(this,al);T(this,Af);T(this,Sf);T(this,du);T(this,fu);T(this,Tr,[]);E(this,en,n),E(this,fu,l*r),E(this,hu,c),d(this,jt).set([NaN,NaN,NaN,NaN,t,e],6),E(this,uu,h),E(this,Sf,d(ta,xf)*r),E(this,Af,d(ta,Ag)*r),E(this,du,r),d(this,Tr).push(t,e)}isEmpty(){return isNaN(d(this,jt)[8])}add({x:t,y:e}){var G;E(this,sl,t),E(this,al,e);const[n,r,l,c]=d(this,en);let[h,f,p,g]=d(this,jt).subarray(8,12);const v=t-p,b=e-g,A=Math.hypot(v,b);if(A<d(this,Af))return!1;const x=A-d(this,Sf),w=x/A,M=w*v,C=w*b;let L=h,O=f;h=p,f=g,p+=M,g+=C,(G=d(this,Tr))==null||G.push(t,e);const j=-C/x,P=M/x,z=j*d(this,fu),q=P*d(this,fu);return d(this,jt).set(d(this,jt).subarray(2,8),0),d(this,jt).set([p+z,g+q],4),d(this,jt).set(d(this,jt).subarray(14,18),12),d(this,jt).set([p-z,g-q],16),isNaN(d(this,jt)[6])?(d(this,Es).length===0&&(d(this,jt).set([h+z,f+q],2),d(this,Es).push(NaN,NaN,NaN,NaN,(h+z-n)/l,(f+q-r)/c),d(this,jt).set([h-z,f-q],14),d(this,Qn).push(NaN,NaN,NaN,NaN,(h-z-n)/l,(f-q-r)/c)),d(this,jt).set([L,O,h,f,p,g],6),!this.isEmpty()):(d(this,jt).set([L,O,h,f,p,g],6),Math.abs(Math.atan2(O-f,L-h)-Math.atan2(C,M))<Math.PI/2?([h,f,p,g]=d(this,jt).subarray(2,6),d(this,Es).push(NaN,NaN,NaN,NaN,((h+p)/2-n)/l,((f+g)/2-r)/c),[h,f,L,O]=d(this,jt).subarray(14,18),d(this,Qn).push(NaN,NaN,NaN,NaN,((L+h)/2-n)/l,((O+f)/2-r)/c),!0):([L,O,h,f,p,g]=d(this,jt).subarray(0,6),d(this,Es).push(((L+5*h)/6-n)/l,((O+5*f)/6-r)/c,((5*h+p)/6-n)/l,((5*f+g)/6-r)/c,((h+p)/2-n)/l,((f+g)/2-r)/c),[p,g,h,f,L,O]=d(this,jt).subarray(12,18),d(this,Qn).push(((L+5*h)/6-n)/l,((O+5*f)/6-r)/c,((5*h+p)/6-n)/l,((5*f+g)/6-r)/c,((h+p)/2-n)/l,((f+g)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,Es),e=d(this,Qn);if(isNaN(d(this,jt)[6])&&!this.isEmpty())return _(this,Ie,VR).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);_(this,Ie,IR).call(this,n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return _(this,Ie,UR).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,r,l,c){return new YR(t,e,n,r,l,c)}getOutlines(){var v;const t=d(this,Es),e=d(this,Qn),n=d(this,jt),[r,l,c,h]=d(this,en),f=new Float64Array((((v=d(this,Tr))==null?void 0:v.length)??0)+2);for(let b=0,A=f.length-2;b<A;b+=2)f[b]=(d(this,Tr)[b]-r)/c,f[b+1]=(d(this,Tr)[b+1]-l)/h;if(f[f.length-2]=(d(this,sl)-r)/c,f[f.length-1]=(d(this,al)-l)/h,isNaN(n[6])&&!this.isEmpty())return _(this,Ie,GR).call(this,f);const p=new Float64Array(d(this,Es).length+24+d(this,Qn).length);let g=t.length;for(let b=0;b<g;b+=2){if(isNaN(t[b])){p[b]=p[b+1]=NaN;continue}p[b]=t[b],p[b+1]=t[b+1]}g=_(this,Ie,XR).call(this,p,g);for(let b=e.length-6;b>=6;b-=6)for(let A=0;A<6;A+=2){if(isNaN(e[b+A])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[b+A],p[g+1]=e[b+A+1],g+=2}return _(this,Ie,qR).call(this,p,g),this.newFreeDrawOutline(p,f,d(this,en),d(this,du),d(this,uu),d(this,hu))}};en=new WeakMap,Qn=new WeakMap,uu=new WeakMap,hu=new WeakMap,Es=new WeakMap,jt=new WeakMap,sl=new WeakMap,al=new WeakMap,Af=new WeakMap,Sf=new WeakMap,du=new WeakMap,fu=new WeakMap,Tr=new WeakMap,xf=new WeakMap,bg=new WeakMap,Ag=new WeakMap,Ie=new WeakSet,$h=function(){const t=d(this,jt).subarray(4,6),e=d(this,jt).subarray(16,18),[n,r,l,c]=d(this,en);return[(d(this,sl)+(t[0]-e[0])/2-n)/l,(d(this,al)+(t[1]-e[1])/2-r)/c,(d(this,sl)+(e[0]-t[0])/2-n)/l,(d(this,al)+(e[1]-t[1])/2-r)/c]},VR=function(){const[t,e,n,r]=d(this,en),[l,c,h,f]=_(this,Ie,$h).call(this);return`M${(d(this,jt)[2]-t)/n} ${(d(this,jt)[3]-e)/r} L${(d(this,jt)[4]-t)/n} ${(d(this,jt)[5]-e)/r} L${l} ${c} L${h} ${f} L${(d(this,jt)[16]-t)/n} ${(d(this,jt)[17]-e)/r} L${(d(this,jt)[14]-t)/n} ${(d(this,jt)[15]-e)/r} Z`},UR=function(t){const e=d(this,Qn);t.push(`L${e[4]} ${e[5]} Z`)},IR=function(t){const[e,n,r,l]=d(this,en),c=d(this,jt).subarray(4,6),h=d(this,jt).subarray(16,18),[f,p,g,v]=_(this,Ie,$h).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-n)/l} L${f} ${p} L${g} ${v} L${(h[0]-e)/r} ${(h[1]-n)/l}`)},GR=function(t){const e=d(this,jt),[n,r,l,c]=d(this,en),[h,f,p,g]=_(this,Ie,$h).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-r)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-r)/c],0),this.newFreeDrawOutline(v,t,d(this,en),d(this,du),d(this,uu),d(this,hu))},qR=function(t,e){const n=d(this,Qn);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},XR=function(t,e){const n=d(this,jt).subarray(4,6),r=d(this,jt).subarray(16,18),[l,c,h,f]=d(this,en),[p,g,v,b]=_(this,Ie,$h).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/h,(n[1]-c)/f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,(r[0]-l)/h,(r[1]-c)/f],e),e+=24},T(ta,xf,8),T(ta,bg,2),T(ta,Ag,d(ta,xf)+d(ta,bg));let eg=ta;var pu,rl,ma,Ef,nn,_f,Ce,Ui,Qh,Zh,KR;class YR extends zR{constructor(e,n,r,l,c,h){super();T(this,Ui);T(this,pu);T(this,rl,null);T(this,ma);T(this,Ef);T(this,nn);T(this,_f);T(this,Ce);E(this,Ce,e),E(this,nn,n),E(this,pu,r),E(this,_f,l),E(this,ma,c),E(this,Ef,h),_(this,Ui,KR).call(this,h);const{x:f,y:p,width:g,height:v}=d(this,rl);for(let b=0,A=e.length;b<A;b+=2)e[b]=(e[b]-f)/g,e[b+1]=(e[b+1]-p)/v;for(let b=0,A=n.length;b<A;b+=2)n[b]=(n[b]-f)/g,n[b+1]=(n[b+1]-p)/v}toSVGPath(){const e=[`M${d(this,Ce)[4]} ${d(this,Ce)[5]}`];for(let n=6,r=d(this,Ce).length;n<r;n+=6){if(isNaN(d(this,Ce)[n])){e.push(`L${d(this,Ce)[n+4]} ${d(this,Ce)[n+5]}`);continue}e.push(`C${d(this,Ce)[n]} ${d(this,Ce)[n+1]} ${d(this,Ce)[n+2]} ${d(this,Ce)[n+3]} ${d(this,Ce)[n+4]} ${d(this,Ce)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,l],c){const h=r-e,f=l-n;let p,g;switch(c){case 0:p=_(this,Ui,Qh).call(this,d(this,Ce),e,l,h,-f),g=_(this,Ui,Qh).call(this,d(this,nn),e,l,h,-f);break;case 90:p=_(this,Ui,Zh).call(this,d(this,Ce),e,n,h,f),g=_(this,Ui,Zh).call(this,d(this,nn),e,n,h,f);break;case 180:p=_(this,Ui,Qh).call(this,d(this,Ce),r,n,-h,f),g=_(this,Ui,Qh).call(this,d(this,nn),r,n,-h,f);break;case 270:p=_(this,Ui,Zh).call(this,d(this,Ce),r,l,-h,-f),g=_(this,Ui,Zh).call(this,d(this,nn),r,l,-h,-f);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return d(this,rl)}newOutliner(e,n,r,l,c,h=0){return new eg(e,n,r,l,c,h)}getNewOutline(e,n){const{x:r,y:l,width:c,height:h}=d(this,rl),[f,p,g,v]=d(this,pu),b=c*g,A=h*v,x=r*g+f,w=l*v+p,M=this.newOutliner({x:d(this,nn)[0]*b+x,y:d(this,nn)[1]*A+w},d(this,pu),d(this,_f),e,d(this,Ef),n??d(this,ma));for(let C=2;C<d(this,nn).length;C+=2)M.add({x:d(this,nn)[C]*b+x,y:d(this,nn)[C+1]*A+w});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}pu=new WeakMap,rl=new WeakMap,ma=new WeakMap,Ef=new WeakMap,nn=new WeakMap,_f=new WeakMap,Ce=new WeakMap,Ui=new WeakSet,Qh=function(e,n,r,l,c){const h=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)h[f]=n+e[f]*l,h[f+1]=r+e[f+1]*c;return h},Zh=function(e,n,r,l,c){const h=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)h[f]=n+e[f+1]*l,h[f+1]=r+e[f]*c;return h},KR=function(e){const n=d(this,Ce);let r=n[4],l=n[5],c=r,h=l,f=r,p=l,g=r,v=l;const b=e?Math.max:Math.min;for(let C=6,L=n.length;C<L;C+=6){if(isNaN(n[C]))c=Math.min(c,n[C+4]),h=Math.min(h,n[C+5]),f=Math.max(f,n[C+4]),p=Math.max(p,n[C+5]),v<n[C+5]?(g=n[C+4],v=n[C+5]):v===n[C+5]&&(g=b(g,n[C+4]));else{const O=pt.bezierBoundingBox(r,l,...n.slice(C,C+6));c=Math.min(c,O[0]),h=Math.min(h,O[1]),f=Math.max(f,O[2]),p=Math.max(p,O[3]),v<O[3]?(g=O[2],v=O[3]):v===O[3]&&(g=b(g,O[2]))}r=n[C+4],l=n[C+5]}const A=c-d(this,ma),x=h-d(this,ma),w=f-c+2*d(this,ma),M=p-h+2*d(this,ma);E(this,rl,{x:A,y:x,width:w,height:M,lastPoint:[g,v]})};var wf,Cr,Zn,Oi,WR,Pm,$R,QR,Cb;class w1{constructor(t,e=0,n=0,r=!0){T(this,Oi);T(this,wf);T(this,Cr,[]);T(this,Zn,[]);let l=1/0,c=-1/0,h=1/0,f=-1/0;const p=10**-4;for(const{x:M,y:C,width:L,height:O}of t){const j=Math.floor((M-e)/p)*p,P=Math.ceil((M+L+e)/p)*p,z=Math.floor((C-e)/p)*p,q=Math.ceil((C+O+e)/p)*p,I=[j,z,q,!0],G=[P,z,q,!1];d(this,Cr).push(I,G),l=Math.min(l,j),c=Math.max(c,P),h=Math.min(h,z),f=Math.max(f,q)}const g=c-l+2*n,v=f-h+2*n,b=l-n,A=h-n,x=d(this,Cr).at(r?-1:-2),w=[x[0],x[2]];for(const M of d(this,Cr)){const[C,L,O]=M;M[0]=(C-b)/g,M[1]=(L-A)/v,M[2]=(O-A)/v}E(this,wf,{x:b,y:A,width:g,height:v,lastPoint:w})}getOutlines(){d(this,Cr).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of d(this,Cr))e[3]?(t.push(..._(this,Oi,Cb).call(this,e)),_(this,Oi,$R).call(this,e)):(_(this,Oi,QR).call(this,e),t.push(..._(this,Oi,Cb).call(this,e)));return _(this,Oi,WR).call(this,t)}}wf=new WeakMap,Cr=new WeakMap,Zn=new WeakMap,Oi=new WeakSet,WR=function(t){const e=[],n=new Set;for(const c of t){const[h,f,p]=c;e.push([h,f,c],[h,p,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const f=e[c][2],p=e[c+1][2];f.push(p),p.push(f),n.add(f),n.add(p)}const r=[];let l;for(;n.size>0;){const c=n.values().next().value;let[h,f,p,g,v]=c;n.delete(c);let b=h,A=f;for(l=[h,p],r.push(l);;){let x;if(n.has(g))x=g;else if(n.has(v))x=v;else break;n.delete(x),[h,f,p,g,v]=x,b!==h&&(l.push(b,A,h,A===f?f:p),b=h),A=A===f?p:f}l.push(b,A)}return new g3(r,d(this,wf))},Pm=function(t){const e=d(this,Zn);let n=0,r=e.length-1;for(;n<=r;){const l=n+r>>1,c=e[l][0];if(c===t)return l;c<t?n=l+1:r=l-1}return r+1},$R=function([,t,e]){const n=_(this,Oi,Pm).call(this,t);d(this,Zn).splice(n,0,[t,e])},QR=function([,t,e]){const n=_(this,Oi,Pm).call(this,t);for(let r=n;r<d(this,Zn).length;r++){const[l,c]=d(this,Zn)[r];if(l!==t)break;if(l===t&&c===e){d(this,Zn).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[l,c]=d(this,Zn)[r];if(l!==t)break;if(l===t&&c===e){d(this,Zn).splice(r,1);return}}},Cb=function(t){const[e,n,r]=t,l=[[e,n,r]],c=_(this,Oi,Pm).call(this,r);for(let h=0;h<c;h++){const[f,p]=d(this,Zn)[h];for(let g=0,v=l.length;g<v;g++){const[,b,A]=l[g];if(!(p<=b||A<=f)){if(b>=f){if(A>p)l[g][1]=p;else{if(v===1)return[];l.splice(g,1),g--,v--}continue}l[g][2]=f,A>p&&l.push([e,p,A])}}}return l};var Tf,mu;class g3 extends zR{constructor(e,n){super();T(this,Tf);T(this,mu);E(this,mu,e),E(this,Tf,n)}toSVGPath(){const e=[];for(const n of d(this,mu)){let[r,l]=n;e.push(`M${r} ${l}`);for(let c=2;c<n.length;c+=2){const h=n[c],f=n[c+1];h===r?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${h}`),r=h)}e.push("Z")}return e.join(" ")}serialize([e,n,r,l],c){const h=[],f=r-e,p=l-n;for(const g of d(this,mu)){const v=new Array(g.length);for(let b=0;b<g.length;b+=2)v[b]=e+g[b]*f,v[b+1]=l-g[b+1]*p;h.push(v)}return h}get box(){return d(this,Tf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Tf=new WeakMap,mu=new WeakMap;class Rb extends eg{newFreeDrawOutline(t,e,n,r,l,c){return new y3(t,e,n,r,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class y3 extends YR{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,r,l,c=0){return new Rb(t,e,n,r,l,c)}}var Jn,ol,gu,ze,Cf,yu,Rf,Mf,Rr,ts,vu,Df,te,Mb,Db,Lb,go,ZR,rr;const ji=class ji{constructor({editor:t=null,uiManager:e=null}){T(this,te);T(this,Jn,null);T(this,ol,null);T(this,gu);T(this,ze,null);T(this,Cf,!1);T(this,yu,!1);T(this,Rf,null);T(this,Mf);T(this,Rr,null);T(this,ts,null);T(this,vu);var n;t?(E(this,yu,!1),E(this,vu,Tt.HIGHLIGHT_COLOR),E(this,Rf,t)):(E(this,yu,!0),E(this,vu,Tt.HIGHLIGHT_DEFAULT_COLOR)),E(this,ts,(t==null?void 0:t._uiManager)||e),E(this,Mf,d(this,ts)._eventBus),E(this,gu,(t==null?void 0:t.color)||((n=d(this,ts))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),d(ji,Df)||E(ji,Df,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ut(this,"_keyboardManager",new If([[["Escape","mac+Escape"],ji.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ji.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ji.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ji.prototype._moveToPrevious],[["Home","mac+Home"],ji.prototype._moveToBeginning],[["End","mac+End"],ji.prototype._moveToEnd]]))}renderButton(){const t=E(this,Jn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,ts)._signal;t.addEventListener("click",_(this,te,go).bind(this),{signal:e}),t.addEventListener("keydown",_(this,te,Lb).bind(this),{signal:e});const n=E(this,ol,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=d(this,gu),t.append(n),t}renderMainDropdown(){const t=E(this,ze,_(this,te,Mb).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,Jn)){_(this,te,go).call(this,t);return}const e=t.target.getAttribute("data-color");e&&_(this,te,Db).call(this,e,t)}_moveToNext(t){var e,n;if(!d(this,te,rr)){_(this,te,go).call(this,t);return}if(t.target===d(this,Jn)){(e=d(this,ze).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=d(this,ze))==null?void 0:e.firstChild)||t.target===d(this,Jn)){d(this,te,rr)&&this._hideDropdownFromKeyboard();return}d(this,te,rr)||_(this,te,go).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!d(this,te,rr)){_(this,te,go).call(this,t);return}(e=d(this,ze).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,te,rr)){_(this,te,go).call(this,t);return}(e=d(this,ze).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,ze))==null||t.classList.add("hidden"),(e=d(this,Rr))==null||e.abort(),E(this,Rr,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,yu)){if(!d(this,te,rr)){(t=d(this,Rf))==null||t.unselect();return}this.hideDropdown(),d(this,Jn).focus({preventScroll:!0,focusVisible:d(this,Cf)})}}updateColor(t){if(d(this,ol)&&(d(this,ol).style.backgroundColor=t),!d(this,ze))return;const e=d(this,ts).highlightColors.values();for(const n of d(this,ze).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,Jn))==null||t.remove(),E(this,Jn,null),E(this,ol,null),(e=d(this,ze))==null||e.remove(),E(this,ze,null)}};Jn=new WeakMap,ol=new WeakMap,gu=new WeakMap,ze=new WeakMap,Cf=new WeakMap,yu=new WeakMap,Rf=new WeakMap,Mf=new WeakMap,Rr=new WeakMap,ts=new WeakMap,vu=new WeakMap,Df=new WeakMap,te=new WeakSet,Mb=function(){const t=document.createElement("div"),e=d(this,ts)._signal;t.addEventListener("contextmenu",Pn,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of d(this,ts).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=n,l.setAttribute("data-l10n-id",d(ji,Df)[n]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===d(this,gu)),l.addEventListener("click",_(this,te,Db).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",_(this,te,Lb).bind(this),{signal:e}),t},Db=function(t,e){e.stopPropagation(),d(this,Mf).dispatch("switchannotationeditorparams",{source:this,type:d(this,vu),value:t})},Lb=function(t){ji._keyboardManager.exec(this,t)},go=function(t){if(d(this,te,rr)){this.hideDropdown();return}if(E(this,Cf,t.detail===0),d(this,Rr)||(E(this,Rr,new AbortController),window.addEventListener("pointerdown",_(this,te,ZR).bind(this),{signal:d(this,ts).combinedSignal(d(this,Rr))})),d(this,ze)){d(this,ze).classList.remove("hidden");return}const e=E(this,ze,_(this,te,Mb).call(this));d(this,Jn).append(e)},ZR=function(t){var e;(e=d(this,ze))!=null&&e.contains(t.target)||this.hideDropdown()},rr=function(){return d(this,ze)&&!d(this,ze).classList.contains("hidden")},T(ji,Df,null);let ig=ji;var bu,Lf,ga,ll,Au,Rn,Of,kf,cl,es,yi,zi,Su,ya,Ve,xu,Mn,Pf,Mt,Ob,Nm,JR,tM,eM,kb,yo,On,bc,iM,Fm,Jh,nM,sM,aM,rM,oM;const Yt=class Yt extends Qt{constructor(e){super({...e,name:"highlightEditor"});T(this,Mt);T(this,bu,null);T(this,Lf,0);T(this,ga);T(this,ll,null);T(this,Au,null);T(this,Rn,null);T(this,Of,null);T(this,kf,0);T(this,cl,null);T(this,es,null);T(this,yi,null);T(this,zi,!1);T(this,Su,null);T(this,ya);T(this,Ve,null);T(this,xu,"");T(this,Mn);T(this,Pf,"");this.color=e.color||Yt._defaultColor,E(this,Mn,e.thickness||Yt._defaultThickness),E(this,ya,e.opacity||Yt._defaultOpacity),E(this,ga,e.boxes||null),E(this,Pf,e.methodOfCreation||""),E(this,xu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(E(this,zi,!0),_(this,Mt,Nm).call(this,e),_(this,Mt,yo).call(this)):d(this,ga)&&(E(this,bu,e.anchorNode),E(this,Lf,e.anchorOffset),E(this,Of,e.focusNode),E(this,kf,e.focusOffset),_(this,Mt,Ob).call(this),_(this,Mt,yo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Yt.prototype;return Ut(this,"_keyboardManager",new If([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,zi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,Mn),methodOfCreation:d(this,Pf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var r;Qt.initialize(e,n),Yt._defaultColor||(Yt._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case Tt.HIGHLIGHT_DEFAULT_COLOR:Yt._defaultColor=n;break;case Tt.HIGHLIGHT_THICKNESS:Yt._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return d(this,Su)}updateParams(e,n){switch(e){case Tt.HIGHLIGHT_COLOR:_(this,Mt,JR).call(this,n);break;case Tt.HIGHLIGHT_THICKNESS:_(this,Mt,tM).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.HIGHLIGHT_DEFAULT_COLOR,Yt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,Yt._defaultThickness]]}get propertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,this.color||Yt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,d(this,Mn)||Yt._defaultThickness],[Tt.HIGHLIGHT_FREE,d(this,zi)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(E(this,Au,new ig({editor:this})),e.addColorPicker(d(this,Au))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Mt,Jh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,_(this,Mt,Jh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,Mt,kb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Mt,yo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let n=!1;this.parent&&!e?_(this,Mt,kb).call(this):e&&(_(this,Mt,yo).call(this,e),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var l,c,h;const{drawLayer:n}=this.parent;let r;d(this,zi)?(e=(e-this.rotation+360)%360,r=_(l=Yt,On,bc).call(l,d(this,es).box,e)):r=_(c=Yt,On,bc).call(c,this,e),n.rotate(d(this,yi),e),n.rotate(d(this,Ve),e),n.updateBox(d(this,yi),r),n.updateBox(d(this,Ve),_(h=Yt,On,bc).call(h,d(this,Rn).box,e))}render(){if(this.div)return this.div;const e=super.render();d(this,xu)&&(e.setAttribute("aria-label",d(this,xu)),e.setAttribute("role","mark")),d(this,zi)?e.classList.add("free"):this.div.addEventListener("keydown",_(this,Mt,iM).bind(this),{signal:this._uiManager._signal});const n=E(this,cl,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,ll);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),Jm(this,d(this,cl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(d(this,Ve),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(d(this,Ve),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:_(this,Mt,Fm).call(this,!0);break;case 1:case 3:_(this,Mt,Fm).call(this,!1);break}}select(){var e,n;super.select(),d(this,Ve)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,Ve),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(d(this,Ve),"selected"))}unselect(){var e;super.unselect(),d(this,Ve)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,Ve),"selected"),d(this,zi)||_(this,Mt,Fm).call(this,!1))}get _mustFixPosition(){return!d(this,zi)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(d(this,yi),e),this.parent.drawLayer.show(d(this,Ve),e))}static startHighlighting(e,n,{target:r,x:l,y:c}){const{x:h,y:f,width:p,height:g}=r.getBoundingClientRect(),v=new AbortController,b=e.combinedSignal(v),A=w=>{w.preventDefault(),w.stopPropagation()},x=w=>{v.abort(),_(this,On,rM).call(this,e,w)};window.addEventListener("blur",x,{signal:b}),window.addEventListener("pointerup",x,{signal:b}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Pn,{signal:b}),r.addEventListener("pointermove",_(this,On,aM).bind(this,e),{signal:b}),this._freeHighlight=new Rb({x:l,y:c},[h,f,p,g],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,r){var w,M,C,L;let l=null;if(e instanceof OR){const{data:{quadPoints:O,rect:j,rotation:P,id:z,color:q,opacity:I,popupRef:G},parent:{page:{pageNumber:tt}}}=e;l=e={annotationType:Ot.HIGHLIGHT,color:Array.from(q),opacity:I,quadPoints:O,boxes:null,pageIndex:tt-1,rect:j.slice(0),rotation:P,id:z,deleted:!1,popupRef:G}}else if(e instanceof KA){const{data:{inkLists:O,rect:j,rotation:P,id:z,color:q,borderStyle:{rawWidth:I},popupRef:G},parent:{page:{pageNumber:tt}}}=e;l=e={annotationType:Ot.HIGHLIGHT,color:Array.from(q),thickness:I,inkLists:O,boxes:null,pageIndex:tt-1,rect:j.slice(0),rotation:P,id:z,deleted:!1,popupRef:G}}const{color:c,quadPoints:h,inkLists:f,opacity:p}=e,g=await super.deserialize(e,n,r);g.color=pt.makeHexColor(...c),E(g,ya,p||1),f&&E(g,Mn,e.thickness),g.annotationElementId=e.id||null,g._initialData=l;const[v,b]=g.pageDimensions,[A,x]=g.pageTranslation;if(h){const O=E(g,ga,[]);for(let j=0;j<h.length;j+=8)O.push({x:(h[j]-A)/v,y:1-(h[j+1]-x)/b,width:(h[j+2]-h[j])/v,height:(h[j+1]-h[j+5])/b});_(w=g,Mt,Ob).call(w),_(M=g,Mt,yo).call(M),g.rotate(g.rotation)}else if(f){E(g,zi,!0);const O=f[0],j={x:O[0]-A,y:b-(O[1]-x)},P=new Rb(j,[0,0,v,b],1,d(g,Mn)/2,!0,.001);for(let I=0,G=O.length;I<G;I+=2)j.x=O[I]-A,j.y=b-(O[I+1]-x),P.add(j);const{id:z,clipPathId:q}=n.drawLayer.draw(P,g.color,g._defaultOpacity,!0);_(C=g,Mt,Nm).call(C,{highlightOutlines:P.getOutlines(),highlightId:z,clipPathId:q}),_(L=g,Mt,yo).call(L)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Qt._colorManager.convert(this.color),l={annotationType:Ot.HIGHLIGHT,color:r,opacity:d(this,ya),thickness:d(this,Mn),quadPoints:_(this,Mt,nM).call(this),outlines:_(this,Mt,sM).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:_(this,Mt,Jh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,Mt,oM).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};bu=new WeakMap,Lf=new WeakMap,ga=new WeakMap,ll=new WeakMap,Au=new WeakMap,Rn=new WeakMap,Of=new WeakMap,kf=new WeakMap,cl=new WeakMap,es=new WeakMap,yi=new WeakMap,zi=new WeakMap,Su=new WeakMap,ya=new WeakMap,Ve=new WeakMap,xu=new WeakMap,Mn=new WeakMap,Pf=new WeakMap,Mt=new WeakSet,Ob=function(){const e=new w1(d(this,ga),.001);E(this,es,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,es).box;const n=new w1(d(this,ga),.0025,.001,this._uiManager.direction==="ltr");E(this,Rn,n.getOutlines());const{lastPoint:r}=d(this,Rn).box;E(this,Su,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Nm=function({highlightOutlines:e,highlightId:n,clipPathId:r}){var v,b;if(E(this,es,e),E(this,Rn,e.getNewOutline(d(this,Mn)/2+1.5,.0025)),n>=0)E(this,yi,n),E(this,ll,r),this.parent.drawLayer.finalizeLine(n,e),E(this,Ve,this.parent.drawLayer.drawOutline(d(this,Rn)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,yi),e),this.parent.drawLayer.updateBox(d(this,yi),_(v=Yt,On,bc).call(v,d(this,es).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,Ve),d(this,Rn)),this.parent.drawLayer.updateBox(d(this,Ve),_(b=Yt,On,bc).call(b,d(this,Rn).box,A))}const{x:c,y:h,width:f,height:p}=e.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=p;break;case 90:{const[A,x]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*x/A,this.height=p*A/x;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[A,x]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*x/A,this.height=p*A/x;break}}const{lastPoint:g}=d(this,Rn).box;E(this,Su,[(g[0]-c)/f,(g[1]-h)/p])},JR=function(e){const n=(c,h)=>{var f,p,g;this.color=c,(f=this.parent)==null||f.drawLayer.changeColor(d(this,yi),c),(p=d(this,Au))==null||p.updateColor(c),E(this,ya,h),(g=this.parent)==null||g.drawLayer.changeOpacity(d(this,yi),h)},r=this.color,l=d(this,ya);this.addCommands({cmd:n.bind(this,e,Yt._defaultOpacity),undo:n.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},tM=function(e){const n=d(this,Mn),r=l=>{E(this,Mn,l),_(this,Mt,eM).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},eM=function(e){if(!d(this,zi))return;_(this,Mt,Nm).call(this,{highlightOutlines:d(this,es).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},kb=function(){d(this,yi)===null||!this.parent||(this.parent.drawLayer.remove(d(this,yi)),E(this,yi,null),this.parent.drawLayer.remove(d(this,Ve)),E(this,Ve,null))},yo=function(e=this.parent){d(this,yi)===null&&({id:wi(this,yi)._,clipPathId:wi(this,ll)._}=e.drawLayer.draw(d(this,es),this.color,d(this,ya)),E(this,Ve,e.drawLayer.drawOutline(d(this,Rn))),d(this,cl)&&(d(this,cl).style.clipPath=d(this,ll)))},On=new WeakSet,bc=function({x:e,y:n,width:r,height:l},c){switch(c){case 90:return{x:1-n-l,y:e,width:l,height:r};case 180:return{x:1-e-r,y:1-n-l,width:r,height:l};case 270:return{x:n,y:1-e-r,width:l,height:r}}return{x:e,y:n,width:r,height:l}},iM=function(e){Yt._keyboardManager.exec(this,e)},Fm=function(e){if(!d(this,bu))return;const n=window.getSelection();e?n.setPosition(d(this,bu),d(this,Lf)):n.setPosition(d(this,Of),d(this,kf))},Jh=function(){return d(this,zi)?this.rotation:0},nM=function(){if(d(this,zi))return null;const[e,n]=this.pageDimensions,[r,l]=this.pageTranslation,c=d(this,ga),h=new Float32Array(c.length*8);let f=0;for(const{x:p,y:g,width:v,height:b}of c){const A=p*e+r,x=(1-g-b)*n+l;h[f]=h[f+4]=A,h[f+1]=h[f+3]=x,h[f+2]=h[f+6]=A+v*e,h[f+5]=h[f+7]=x+b*n,f+=8}return h},sM=function(e){return d(this,es).serialize(e,_(this,Mt,Jh).call(this))},aM=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},rM=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},oM=function(e){const{color:n}=this._initialData;return e.color.some((r,l)=>r!==n[l])},T(Yt,On),wt(Yt,"_defaultColor",null),wt(Yt,"_defaultOpacity",1),wt(Yt,"_defaultThickness",12),wt(Yt,"_type","highlight"),wt(Yt,"_editorType",Ot.HIGHLIGHT),wt(Yt,"_freeHighlightId",-1),wt(Yt,"_freeHighlight",null),wt(Yt,"_freeHighlightClipId","");let ng=Yt;var ul,hl,_s,va,Dn,dl,fl,pl,ba,Eu,ml,gl,Mr,st,lM,cM,uM,hM,Nb,dM,Fb,fM,pM,mM,gM,yM,vo,jb,Bb,Hb,jm,Bm,Ac,zb,Hm,ka,vM,Vb,bM,AM,Ub,zm,td;const pe=class pe extends Qt{constructor(e){super({...e,name:"inkEditor"});T(this,st);T(this,ul,0);T(this,hl,0);T(this,_s,null);T(this,va,new Path2D);T(this,Dn,!1);T(this,dl,null);T(this,fl,!1);T(this,pl,!1);T(this,ba,null);T(this,Eu,null);T(this,ml,0);T(this,gl,0);T(this,Mr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){Qt.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case Tt.INK_THICKNESS:pe._defaultThickness=n;break;case Tt.INK_COLOR:pe._defaultColor=n;break;case Tt.INK_OPACITY:pe._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case Tt.INK_THICKNESS:_(this,st,lM).call(this,n);break;case Tt.INK_COLOR:_(this,st,cM).call(this,n);break;case Tt.INK_OPACITY:_(this,st,uM).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Tt.INK_THICKNESS,pe._defaultThickness],[Tt.INK_COLOR,pe._defaultColor||Qt._defaultLineColor],[Tt.INK_OPACITY,Math.round(pe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Tt.INK_THICKNESS,this.thickness||pe._defaultThickness],[Tt.INK_COLOR,this.color||pe._defaultColor||Qt._defaultLineColor],[Tt.INK_OPACITY,Math.round(100*(this.opacity??pe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,st,jm).call(this),_(this,st,Bm).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,st,Ac).call(this)),_(this,st,td).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,_s)&&(clearTimeout(d(this,_s)),E(this,_s,null)),(e=d(this,ba))==null||e.disconnect(),E(this,ba,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,r=this.width*e,l=this.height*n;this.setDimensions(r,l)}enableEditMode(){d(this,Dn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,_(this,st,jb).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),_(this,st,Bb).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,Dn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Dn,!0),this.div.classList.add("disabled"),_(this,st,td).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||d(this,Dn)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,st,dM).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),_(this,st,Fb).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),_(this,st,Hb).call(this,e)}canvasPointerleave(e){_(this,st,Hb).call(this,e)}get isResizable(){return!this.isEmpty()&&d(this,Dn)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,c,h]=_(this,st,hM).call(this);if(this.setAt(r,l,0,0),this.setDims(c,h),_(this,st,jm).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(e*f,n*p,this.width*f,this.height*p),E(this,pl,!0),_(this,st,Ac).call(this),this.setDims(this.width*f,this.height*p),_(this,st,vo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,st,Bm).call(this),this.div}setDimensions(e,n){const r=Math.round(e),l=Math.round(n);if(d(this,ml)===r&&d(this,gl)===l)return;E(this,ml,r),E(this,gl,l),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=e/c,this.height=n/h,this.fixAndSetPosition(),d(this,Dn)&&_(this,st,zb).call(this,e,n),_(this,st,Ac).call(this),_(this,st,vo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,r){var M,C,L;if(e instanceof KA)return null;const l=await super.deserialize(e,n,r);l.thickness=e.thickness,l.color=pt.makeHexColor(...e.color),l.opacity=e.opacity;const[c,h]=l.pageDimensions,f=l.width*c,p=l.height*h,g=l.parentScale,v=e.thickness/2;E(l,Dn,!0),E(l,ml,Math.round(f)),E(l,gl,Math.round(p));const{paths:b,rect:A,rotation:x}=e;for(let{bezier:O}of b){O=_(M=pe,ka,bM).call(M,O,A,x);const j=[];l.paths.push(j);let P=g*(O[0]-v),z=g*(O[1]-v);for(let I=2,G=O.length;I<G;I+=6){const tt=g*(O[I]-v),it=g*(O[I+1]-v),vt=g*(O[I+2]-v),ft=g*(O[I+3]-v),ut=g*(O[I+4]-v),mt=g*(O[I+5]-v);j.push([[P,z],[tt,it],[vt,ft],[ut,mt]]),P=ut,z=mt}const q=_(this,ka,vM).call(this,j);l.bezierPath2D.push(q)}const w=_(C=l,st,Ub).call(C);return E(l,hl,Math.max(Qt.MIN_SIZE,w[2]-w[0])),E(l,ul,Math.max(Qt.MIN_SIZE,w[3]-w[1])),_(L=l,st,zb).call(L,f,p),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=Qt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ot.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:_(this,st,AM).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ul=new WeakMap,hl=new WeakMap,_s=new WeakMap,va=new WeakMap,Dn=new WeakMap,dl=new WeakMap,fl=new WeakMap,pl=new WeakMap,ba=new WeakMap,Eu=new WeakMap,ml=new WeakMap,gl=new WeakMap,Mr=new WeakMap,st=new WeakSet,lM=function(e){const n=l=>{this.thickness=l,_(this,st,td).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},cM=function(e){const n=l=>{this.color=l,_(this,st,vo).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},uM=function(e){const n=l=>{this.opacity=l,_(this,st,vo).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},hM=function(){const{parentRotation:e,parentDimensions:[n,r]}=this;switch(e){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},Nb=function(){const{ctx:e,color:n,opacity:r,thickness:l,parentScale:c,scaleFactor:h}=this;e.lineWidth=l*c/h,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${HF(r)}`},dM=function(e,n){this.canvas.addEventListener("contextmenu",Pn,{signal:this._uiManager._signal}),_(this,st,Bb).call(this),E(this,dl,new AbortController);const r=this._uiManager.combinedSignal(d(this,dl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,d(this,pl)||(E(this,pl,!0),_(this,st,Ac).call(this),this.thickness||(this.thickness=pe._defaultThickness),this.color||(this.color=pe._defaultColor||Qt._defaultLineColor),this.opacity??(this.opacity=pe._defaultOpacity)),this.currentPath.push([e,n]),E(this,fl,!1),_(this,st,Nb).call(this),E(this,Mr,()=>{_(this,st,mM).call(this),d(this,Mr)&&window.requestAnimationFrame(d(this,Mr))}),window.requestAnimationFrame(d(this,Mr))},Fb=function(e,n){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&n===l)return;const c=this.currentPath;let h=d(this,va);if(c.push([e,n]),E(this,fl,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(e,n);return}c.length===3&&(E(this,va,h=new Path2D),h.moveTo(...c[0])),_(this,st,gM).call(this,h,...c.at(-3),...c.at(-2),e,n)},fM=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);d(this,va).lineTo(...e)},pM=function(e,n){E(this,Mr,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),_(this,st,Fb).call(this,e,n),_(this,st,fM).call(this);let r;if(this.currentPath.length!==1)r=_(this,st,yM).call(this);else{const p=[e,n];r=[[p,p.slice(),p.slice(),p]]}const l=d(this,va),c=this.currentPath;this.currentPath=[],E(this,va,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,st,jm).call(this),_(this,st,Bm).call(this)),_(this,st,td).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},mM=function(){if(!d(this,fl))return;E(this,fl,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(h=>h[0]),l=n.map(h=>h[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(d(this,va)),c.restore()},gM=function(e,n,r,l,c,h,f){const p=(n+l)/2,g=(r+c)/2,v=(l+h)/2,b=(c+f)/2;e.bezierCurveTo(p+2*(l-p)/3,g+2*(c-g)/3,v+2*(l-v)/3,b+2*(c-b)/3,v,b)},yM=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let r,[l,c]=e[0];for(r=1;r<e.length-2;r++){const[A,x]=e[r],[w,M]=e[r+1],C=(A+w)/2,L=(x+M)/2,O=[l+2*(A-l)/3,c+2*(x-c)/3],j=[C+2*(A-C)/3,L+2*(x-L)/3];n.push([[l,c],O,j,[C,L]]),[l,c]=[C,L]}const[h,f]=e[r],[p,g]=e[r+1],v=[l+2*(h-l)/3,c+2*(f-c)/3],b=[p+2*(h-p)/3,g+2*(f-g)/3];return n.push([[l,c],v,b,[p,g]]),n},vo=function(){if(this.isEmpty()){_(this,st,Hm).call(this);return}_(this,st,Nb).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),_(this,st,Hm).call(this);for(const r of this.bezierPath2D)n.stroke(r)},jb=function(){if(d(this,Eu))return;E(this,Eu,new AbortController);const e=this._uiManager.combinedSignal(d(this,Eu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Bb=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Hb=function(e){var n;(n=d(this,dl))==null||n.abort(),E(this,dl,null),_(this,st,jb).call(this),d(this,_s)&&clearTimeout(d(this,_s)),E(this,_s,setTimeout(()=>{E(this,_s,null),this.canvas.removeEventListener("contextmenu",Pn)},10)),_(this,st,pM).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},jm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Bm=function(){E(this,ba,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),d(this,ba).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,ba))==null||e.disconnect(),E(this,ba,null)},{once:!0})},Ac=function(){if(!d(this,pl))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),_(this,st,Hm).call(this)},zb=function(e,n){const r=_(this,st,zm).call(this),l=(e-r)/d(this,hl),c=(n-r)/d(this,ul);this.scaleFactor=Math.min(l,c)},Hm=function(){const e=_(this,st,zm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},ka=new WeakSet,vM=function(e){const n=new Path2D;for(let r=0,l=e.length;r<l;r++){const[c,h,f,p]=e[r];r===0&&n.moveTo(...c),n.bezierCurveTo(h[0],h[1],f[0],f[1],p[0],p[1])}return n},Vb=function(e,n,r){const[l,c,h,f]=n;switch(r){case 0:for(let p=0,g=e.length;p<g;p+=2)e[p]+=l,e[p+1]=f-e[p+1];break;case 90:for(let p=0,g=e.length;p<g;p+=2){const v=e[p];e[p]=e[p+1]+l,e[p+1]=v+c}break;case 180:for(let p=0,g=e.length;p<g;p+=2)e[p]=h-e[p],e[p+1]+=c;break;case 270:for(let p=0,g=e.length;p<g;p+=2){const v=e[p];e[p]=h-e[p+1],e[p+1]=f-v}break;default:throw new Error("Invalid rotation")}return e},bM=function(e,n,r){const[l,c,h,f]=n;switch(r){case 0:for(let p=0,g=e.length;p<g;p+=2)e[p]-=l,e[p+1]=f-e[p+1];break;case 90:for(let p=0,g=e.length;p<g;p+=2){const v=e[p];e[p]=e[p+1]-c,e[p+1]=v-l}break;case 180:for(let p=0,g=e.length;p<g;p+=2)e[p]=h-e[p],e[p+1]-=c;break;case 270:for(let p=0,g=e.length;p<g;p+=2){const v=e[p];e[p]=f-e[p+1],e[p+1]=h-v}break;default:throw new Error("Invalid rotation")}return e},AM=function(e,n,r,l){var g,v;const c=[],h=this.thickness/2,f=e*n+h,p=e*r+h;for(const b of this.paths){const A=[],x=[];for(let w=0,M=b.length;w<M;w++){const[C,L,O,j]=b[w];if(C[0]===j[0]&&C[1]===j[1]&&M===1){const ft=e*C[0]+f,ut=e*C[1]+p;A.push(ft,ut),x.push(ft,ut);break}const P=e*C[0]+f,z=e*C[1]+p,q=e*L[0]+f,I=e*L[1]+p,G=e*O[0]+f,tt=e*O[1]+p,it=e*j[0]+f,vt=e*j[1]+p;w===0&&(A.push(P,z),x.push(P,z)),A.push(q,I,G,tt,it,vt),x.push(q,I),w===M-1&&x.push(it,vt)}c.push({bezier:_(g=pe,ka,Vb).call(g,A,l,this.rotation),points:_(v=pe,ka,Vb).call(v,x,l,this.rotation)})}return c},Ub=function(){let e=1/0,n=-1/0,r=1/0,l=-1/0;for(const c of this.paths)for(const[h,f,p,g]of c){const v=pt.bezierBoundingBox(...h,...f,...p,...g);e=Math.min(e,v[0]),r=Math.min(r,v[1]),n=Math.max(n,v[2]),l=Math.max(l,v[3])}return[e,r,n,l]},zm=function(){return d(this,Dn)?Math.ceil(this.thickness*this.parentScale):0},td=function(e=!1){if(this.isEmpty())return;if(!d(this,Dn)){_(this,st,vo).call(this);return}const n=_(this,st,Ub).call(this),r=_(this,st,zm).call(this);E(this,hl,Math.max(Qt.MIN_SIZE,n[2]-n[0])),E(this,ul,Math.max(Qt.MIN_SIZE,n[3]-n[1]));const l=Math.ceil(r+d(this,hl)*this.scaleFactor),c=Math.ceil(r+d(this,ul)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=l/h,this.height=c/f,this.setAspectRatio(l,c);const p=this.translationX,g=this.translationY;this.translationX=-n[0],this.translationY=-n[1],_(this,st,Ac).call(this),_(this,st,vo).call(this),E(this,ml,l),E(this,gl,c),this.setDims(l,c);const v=e?r/this.scaleFactor/2:0;this.translate(p-this.translationX-v,g-this.translationY-v)},T(pe,ka),wt(pe,"_defaultColor",null),wt(pe,"_defaultOpacity",1),wt(pe,"_defaultThickness",1),wt(pe,"_type","ink"),wt(pe,"_editorType",Ot.INK);let Pb=pe;var ge,ri,Dr,Aa,Lr,_u,ws,Sa,Ts,sn,wu,Ht,ed,id,Vm,Gb,SM,Um,qb,Im,xM,EM;const hd=class hd extends Qt{constructor(e){super({...e,name:"stampEditor"});T(this,Ht);T(this,ge,null);T(this,ri,null);T(this,Dr,null);T(this,Aa,null);T(this,Lr,null);T(this,_u,"");T(this,ws,null);T(this,Sa,null);T(this,Ts,null);T(this,sn,!1);T(this,wu,!1);E(this,Aa,e.bitmapUrl),E(this,Lr,e.bitmapFile)}static initialize(e,n){Qt.initialize(e,n)}static get supportedTypes(){return Ut(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ut(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(Ot.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:h}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:c,height:h,channels:l.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e,n;d(this,ri)&&(E(this,ge,null),this._uiManager.imageManager.deleteId(d(this,ri)),(e=d(this,ws))==null||e.remove(),E(this,ws,null),(n=d(this,Sa))==null||n.disconnect(),E(this,Sa,null),d(this,Ts)&&(clearTimeout(d(this,Ts)),E(this,Ts,null))),super.remove()}rebuild(){if(!this.parent){d(this,ri)&&_(this,Ht,Vm).call(this);return}super.rebuild(),this.div!==null&&(d(this,ri)&&d(this,ws)===null&&_(this,Ht,Vm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,Dr)||d(this,ge)||d(this,Aa)||d(this,Lr)||d(this,ri))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,ge)?_(this,Ht,Gb).call(this):_(this,Ht,Vm).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,n*l,this.width*r,this.height*l)}return this.div}copyCanvas(e,n,r=!1){var A;e||(e=224);const{width:l,height:c}=d(this,ge),h=new H0;let f=d(this,ge),p=l,g=c,v=null;if(n){if(l>n||c>n){const I=Math.min(n/l,n/c);p=Math.floor(l*I),g=Math.floor(c*I)}v=document.createElement("canvas");const x=v.width=Math.ceil(p*h.sx),w=v.height=Math.ceil(g*h.sy);d(this,sn)||(f=_(this,Ht,Um).call(this,x,w));const M=v.getContext("2d");M.filter=this._uiManager.hcmFilter;let C="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",L="#42414d");const O=15,j=O*h.sx,P=O*h.sy,z=new OffscreenCanvas(j*2,P*2),q=z.getContext("2d");q.fillStyle=C,q.fillRect(0,0,j*2,P*2),q.fillStyle=L,q.fillRect(0,0,j,P),q.fillRect(j,P,j,P),M.fillStyle=M.createPattern(z,"repeat"),M.fillRect(0,0,x,w),M.drawImage(f,0,0,f.width,f.height,0,0,x,w)}let b=null;if(r){let x,w;if(h.symmetric&&f.width<e&&f.height<e)x=f.width,w=f.height;else if(f=d(this,ge),l>e||c>e){const L=Math.min(e/l,e/c);x=Math.floor(l*L),w=Math.floor(c*L),d(this,sn)||(f=_(this,Ht,Um).call(this,x,w))}const C=new OffscreenCanvas(x,w).getContext("2d",{willReadFrequently:!0});C.drawImage(f,0,0,f.width,f.height,0,0,x,w),b={width:x,height:w,data:C.getImageData(0,0,x,w).data}}return{canvas:v,width:p,height:g,imageData:b}}getImageForAltText(){return d(this,ws)}static async deserialize(e,n,r){var w;let l=null;if(e instanceof kR){const{data:{rect:M,rotation:C,id:L,structParent:O,popupRef:j},container:P,parent:{page:{pageNumber:z}}}=e,q=P.querySelector("canvas"),I=r.imageManager.getFromCanvas(P.id,q);q.remove();const G=((w=await n._structTree.getAriaAttributes(`${jA}${L}`))==null?void 0:w.get("aria-label"))||"";l=e={annotationType:Ot.STAMP,bitmapId:I.id,bitmap:I.bitmap,pageIndex:z-1,rect:M.slice(0),rotation:C,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:O,popupRef:j}}const c=await super.deserialize(e,n,r),{rect:h,bitmap:f,bitmapUrl:p,bitmapId:g,isSvg:v,accessibilityData:b}=e;g&&r.imageManager.isValidId(g)?(E(c,ri,g),f&&E(c,ge,f)):E(c,Aa,p),E(c,sn,v);const[A,x]=c.pageDimensions;return c.width=(h[2]-h[0])/A,c.height=(h[3]-h[1])/x,c.annotationElementId=e.id||null,b&&(c.altTextData=b),c._initialData=l,E(c,wu,!!l),c}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ot.STAMP,bitmapId:d(this,ri),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,sn),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=_(this,Ht,Im).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=_(this,Ht,EM).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const h=d(this,sn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(d(this,ri)))n.stamps.set(d(this,ri),{area:h,serialized:r}),r.bitmap=_(this,Ht,Im).call(this,!1);else if(d(this,sn)){const f=n.stamps.get(d(this,ri));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=_(this,Ht,Im).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ge=new WeakMap,ri=new WeakMap,Dr=new WeakMap,Aa=new WeakMap,Lr=new WeakMap,_u=new WeakMap,ws=new WeakMap,Sa=new WeakMap,Ts=new WeakMap,sn=new WeakMap,wu=new WeakMap,Ht=new WeakSet,ed=function(e,n=!1){if(!e){this.remove();return}E(this,ge,e.bitmap),n||(E(this,ri,e.id),E(this,sn,e.isSvg)),e.file&&E(this,_u,e.file.name),_(this,Ht,Gb).call(this)},id=function(){if(E(this,Dr,null),this._uiManager.enableWaiting(!1),!!d(this,ws)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ge)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ge)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Vm=function(){if(d(this,ri)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,ri)).then(r=>_(this,Ht,ed).call(this,r,!0)).finally(()=>_(this,Ht,id).call(this));return}if(d(this,Aa)){const r=d(this,Aa);E(this,Aa,null),this._uiManager.enableWaiting(!0),E(this,Dr,this._uiManager.imageManager.getFromUrl(r).then(l=>_(this,Ht,ed).call(this,l)).finally(()=>_(this,Ht,id).call(this)));return}if(d(this,Lr)){const r=d(this,Lr);E(this,Lr,null),this._uiManager.enableWaiting(!0),E(this,Dr,this._uiManager.imageManager.getFromFile(r).then(l=>_(this,Ht,ed).call(this,l)).finally(()=>_(this,Ht,id).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=hd.supportedTypesStr;const n=this._uiManager._signal;E(this,Dr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,Ht,ed).call(this,l)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>_(this,Ht,id).call(this))),e.click()},Gb=function(){const{div:e}=this;let{width:n,height:r}=d(this,ge);const[l,c]=this.pageDimensions,h=.75;if(this.width)n=this.width*l,r=this.height*c;else if(n>h*l||r>h*c){const v=Math.min(h*l/n,h*c/r);n*=v,r*=v}const[f,p]=this.parentDimensions;this.setDims(n*f/l,r*p/c),this._uiManager.enableWaiting(!1);const g=E(this,ws,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),_(this,Ht,qb).call(this,n,r),_(this,Ht,xM).call(this),d(this,wu)||(this.parent.addUndoableEditor(this),E(this,wu,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,_u)&&g.setAttribute("aria-label",d(this,_u))},SM=function(e,n){var h;const[r,l]=this.parentDimensions;this.width=e/r,this.height=n/l,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,Ts)!==null&&clearTimeout(d(this,Ts)),E(this,Ts,setTimeout(()=>{E(this,Ts,null),_(this,Ht,qb).call(this,e,n)},200))},Um=function(e,n){const{width:r,height:l}=d(this,ge);let c=r,h=l,f=d(this,ge);for(;c>2*e||h>2*n;){const p=c,g=h;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*n&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const v=new OffscreenCanvas(c,h);v.getContext("2d").drawImage(f,0,0,p,g,0,0,c,h),f=v.transferToImageBitmap()}return f},qb=function(e,n){const r=new H0,l=Math.ceil(e*r.sx),c=Math.ceil(n*r.sy),h=d(this,ws);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=d(this,sn)?d(this,ge):_(this,Ht,Um).call(this,l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,c)},Im=function(e){if(e){if(d(this,sn)){const l=this._uiManager.imageManager.getSvgUrl(d(this,ri));if(l)return l}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,ge),n.getContext("2d").drawImage(d(this,ge),0,0),n.toDataURL()}if(d(this,sn)){const[n,r]=this.pageDimensions,l=Math.round(this.width*n*jr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*jr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(l,c);return h.getContext("2d").drawImage(d(this,ge),0,0,d(this,ge).width,d(this,ge).height,0,0,l,c),h.transferToImageBitmap()}return structuredClone(d(this,ge))},xM=function(){this._uiManager._signal&&(E(this,Sa,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&_(this,Ht,SM).call(this,n.width,n.height)})),d(this,Sa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Sa))==null||e.disconnect(),E(this,Sa,null)},{once:!0}))},EM=function(e){var p;const{rect:n,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,c=e.rect.every((g,v)=>Math.abs(g-n[v])<1),h=e.pageIndex===r,f=(((p=e.accessibilityData)==null?void 0:p.alt)||"")===l;return{isSame:c&&h&&f,isSameAltText:f}},wt(hd,"_type","stamp"),wt(hd,"_editorType",Ot.STAMP);let Ib=hd;var yl,Tu,Cs,Or,xa,an,kr,Cu,Ru,vi,Ea,yt,Pr,li,_M,Yb,Kb,Wb,Gm;const Vn=class Vn{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:f,viewport:p,l10n:g}){T(this,li);T(this,yl);T(this,Tu,!1);T(this,Cs,null);T(this,Or,null);T(this,xa,null);T(this,an,new Map);T(this,kr,!1);T(this,Cu,!1);T(this,Ru,!1);T(this,vi,null);T(this,Ea,null);T(this,yt);const v=[...d(Vn,Pr).values()];if(!Vn._initialized){Vn._initialized=!0;for(const b of v)b.initialize(g,t)}t.registerEditorTypes(v),E(this,yt,t),this.pageIndex=e,this.div=n,E(this,yl,l),E(this,Cs,c),this.viewport=p,E(this,vi,f),this.drawLayer=h,this._structTree=r,d(this,yt).addLayer(this)}get isEmpty(){return d(this,an).size===0}get isInvisible(){return this.isEmpty&&d(this,yt).getMode()===Ot.NONE}updateToolbar(t){d(this,yt).updateToolbar(t)}updateMode(t=d(this,yt).getMode()){switch(_(this,li,Gm).call(this),t){case Ot.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ot.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ot.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of d(Vn,Pr).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,vi))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(d(this,yt).getMode()!==Ot.INK)return;if(!t){for(const n of d(this,an).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){d(this,yt).setEditingState(t)}addCommands(t){d(this,yt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,Cs))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of d(this,an).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(d(this,yt).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!d(this,Cs))return;const e=d(this,Cs).getEditableAnnotations();for(const n of e){if(n.hide(),d(this,yt).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;E(this,Ru,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of d(this,an).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(d(this,Cs)){const l=d(this,Cs).getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(d(this,yt).isDeletedAnnotationElement(h))continue;let f=e.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=t.get(h),f&&(d(this,yt).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}_(this,li,Gm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const l of d(Vn,Pr).values())n.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Ru,!1)}getEditableAnnotation(t){var e;return((e=d(this,Cs))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,yt).getActive()!==t&&d(this,yt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,vi))!=null&&t.div&&!d(this,Ea)){E(this,Ea,new AbortController);const e=d(this,yt).combinedSignal(d(this,Ea));d(this,vi).div.addEventListener("pointerdown",_(this,li,_M).bind(this),{signal:e}),d(this,vi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,vi))!=null&&t.div&&d(this,Ea)&&(d(this,Ea).abort(),E(this,Ea,null),d(this,vi).div.classList.remove("highlighting"))}enableClick(){if(d(this,Or))return;E(this,Or,new AbortController);const t=d(this,yt).combinedSignal(d(this,Or));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=d(this,Or))==null||t.abort(),E(this,Or,null)}attach(t){d(this,an).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,yt).isDeletedAnnotationElement(e)&&d(this,yt).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,an).delete(t.id),(e=d(this,yl))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,Ru)&&t.annotationElementId&&d(this,yt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,yt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,d(this,Cu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,yt).addDeletedAnnotationElement(t.annotationElementId),Qt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,yt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),d(this,yt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,xa)&&(t._focusEventsAllowed=!1,E(this,xa,setTimeout(()=>{E(this,xa,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,yt)._signal}),e.focus())},0))),t._structTreeParentId=(n=d(this,yl))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return d(this,yt).getId()}combinedSignal(t){return d(this,yt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,li,Yb))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,yt).updateToolbar(t),d(this,yt).updateMode(t);const{offsetX:n,offsetY:r}=_(this,li,Wb).call(this),l=this.getNextId(),c=_(this,li,Kb).call(this,{parent:this,id:l,x:n,y:r,uiManager:d(this,yt),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=d(Vn,Pr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,yt)))||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),l=_(this,li,Kb).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:d(this,yt),isCentered:e,...n});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(_(this,li,Wb).call(this),!0)}setSelected(t){d(this,yt).setSelected(t)}toggleSelected(t){d(this,yt).toggleSelected(t)}unselect(t){d(this,yt).unselect(t)}pointerup(t){const{isMac:e}=Di.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,kr)){if(E(this,kr,!1),!d(this,Tu)){E(this,Tu,!0);return}if(d(this,yt).getMode()===Ot.STAMP){d(this,yt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(d(this,yt).getMode()===Ot.HIGHLIGHT&&this.enableTextSelection(),d(this,kr)){E(this,kr,!1);return}const{isMac:e}=Di.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;E(this,kr,!0);const n=d(this,yt).getActive();E(this,Tu,!n||n.isEmpty())}findNewParent(t,e,n){const r=d(this,yt).findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=d(this,yt).getActive())==null?void 0:t.parent)===this&&(d(this,yt).commitOrRemove(),d(this,yt).setActiveEditor(null)),d(this,xa)&&(clearTimeout(d(this,xa)),E(this,xa,null));for(const n of d(this,an).values())(e=d(this,yl))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,an).clear(),d(this,yt).removeLayer(this)}render({viewport:t}){this.viewport=t,Al(this.div,t);for(const e of d(this,yt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,yt).commitOrRemove(),_(this,li,Gm).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Al(this.div,{rotation:n}),e!==n)for(const r of d(this,an).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,yt).viewParameters.realScale}};yl=new WeakMap,Tu=new WeakMap,Cs=new WeakMap,Or=new WeakMap,xa=new WeakMap,an=new WeakMap,kr=new WeakMap,Cu=new WeakMap,Ru=new WeakMap,vi=new WeakMap,Ea=new WeakMap,yt=new WeakMap,Pr=new WeakMap,li=new WeakSet,_M=function(t){d(this,yt).unselectAll();const{target:e}=t;if(e===d(this,vi).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,vi).div.contains(e)){const{isMac:n}=Di.platform;if(t.button!==0||t.ctrlKey&&n)return;d(this,yt).showAllEditors("highlight",!0,!0),d(this,vi).div.classList.add("free"),this.toggleDrawing(),ng.startHighlighting(this,d(this,yt).direction==="ltr",{target:d(this,vi).div,x:t.x,y:t.y}),d(this,vi).div.addEventListener("pointerup",()=>{d(this,vi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,yt)._signal}),t.preventDefault()}},Yb=function(){return d(Vn,Pr).get(d(this,yt).getMode())},Kb=function(t){const e=d(this,li,Yb);return e?new e.prototype.constructor(t):null},Wb=function(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+n),f=Math.min(window.innerHeight,e+r),p=(l+h)/2-t,g=(c+f)/2-e,[v,b]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:v,offsetY:b}},Gm=function(){E(this,Cu,!0);for(const t of d(this,an).values())t.isEmpty()&&t.remove();E(this,Cu,!1)},wt(Vn,"_initialized",!1),T(Vn,Pr,new Map([wb,Pb,Ib,ng].map(t=>[t._editorType,t])));let Xb=Vn;var Rs,Nf,Pe,_a,Ff,Qb,wl,Zb,wM;const ni=class ni{constructor({pageIndex:t}){T(this,wl);T(this,Rs,null);T(this,Nf,0);T(this,Pe,new Map);T(this,_a,new Map);this.pageIndex=t}setParent(t){if(!d(this,Rs)){E(this,Rs,t);return}if(d(this,Rs)!==t){if(d(this,Pe).size>0)for(const e of d(this,Pe).values())e.remove(),t.append(e);E(this,Rs,t)}}static get _svgFactory(){return Ut(this,"_svgFactory",new YA)}draw(t,e,n,r=!1){const l=wi(this,Nf)._++,c=_(this,wl,Zb).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const h=ni._svgFactory.createElement("defs");c.append(h);const f=ni._svgFactory.createElement("path");h.append(f);const p=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",p),f.setAttribute("d",t.toSVGPath()),r&&d(this,_a).set(l,f);const g=_(this,wl,wM).call(this,h,p),v=ni._svgFactory.createElement("use");return c.append(v),c.setAttribute("fill",e),c.setAttribute("fill-opacity",n),v.setAttribute("href",`#${p}`),d(this,Pe).set(l,c),{id:l,clipPathId:`url(#${g})`}}drawOutline(t){const e=wi(this,Nf)._++,n=_(this,wl,Zb).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const r=ni._svgFactory.createElement("defs");n.append(r);const l=ni._svgFactory.createElement("path");r.append(l);const c=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const g=ni._svgFactory.createElement("mask");r.append(g),h=`mask_p${this.pageIndex}_${e}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const v=ni._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=ni._svgFactory.createElement("use");g.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=ni._svgFactory.createElement("use");n.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return n.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),d(this,Pe).set(e,n),e}finalizeLine(t,e){const n=d(this,_a).get(t);d(this,_a).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){d(this,Pe).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){d(this,_a).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;_(n=ni,Ff,Qb).call(n,d(this,Pe).get(t),e)}show(t,e){d(this,Pe).get(t).classList.toggle("hidden",!e)}rotate(t,e){d(this,Pe).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){d(this,Pe).get(t).setAttribute("fill",e)}changeOpacity(t,e){d(this,Pe).get(t).setAttribute("fill-opacity",e)}addClass(t,e){d(this,Pe).get(t).classList.add(e)}removeClass(t,e){d(this,Pe).get(t).classList.remove(e)}getSVGRoot(t){return d(this,Pe).get(t)}remove(t){d(this,_a).delete(t),d(this,Rs)!==null&&(d(this,Pe).get(t).remove(),d(this,Pe).delete(t))}destroy(){E(this,Rs,null);for(const t of d(this,Pe).values())t.remove();d(this,Pe).clear(),d(this,_a).clear()}};Rs=new WeakMap,Nf=new WeakMap,Pe=new WeakMap,_a=new WeakMap,Ff=new WeakSet,Qb=function(t,{x:e=0,y:n=0,width:r=1,height:l=1}={}){const{style:c}=t;c.top=`${100*n}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*l}%`},wl=new WeakSet,Zb=function(t){var n;const e=ni._svgFactory.create(1,1,!0);return d(this,Rs).append(e),e.setAttribute("aria-hidden",!0),_(n=ni,Ff,Qb).call(n,e,t),e},wM=function(t,e){const n=ni._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const l=ni._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},T(ni,Ff);let $b=ni;var v3=Rt.AbortException,b3=Rt.AnnotationEditorLayer,A3=Rt.AnnotationEditorParamsType,S3=Rt.AnnotationEditorType,x3=Rt.AnnotationEditorUIManager,TM=Rt.AnnotationLayer,CM=Rt.AnnotationMode,E3=Rt.ColorPicker,_3=Rt.DOMSVGFactory,w3=Rt.DrawLayer,T3=Rt.FeatureTest,WA=Rt.GlobalWorkerOptions,C3=Rt.ImageKind,R3=Rt.InvalidPDFException,M3=Rt.MissingPDFException,D3=Rt.OPS,L3=Rt.OutputScale,O3=Rt.PDFDataRangeTransport,k3=Rt.PDFDateString,P3=Rt.PDFWorker,N3=Rt.PasswordResponses,F3=Rt.PermissionFlag,j3=Rt.PixelsPerInch,B3=Rt.RenderingCancelledException,RM=Rt.TextLayer,H3=Rt.UnexpectedResponseException,z3=Rt.Util,V3=Rt.VerbosityLevel,U3=Rt.XfaLayer,I3=Rt.build,G3=Rt.createValidAbsoluteUrl,q3=Rt.fetchData,MM=Rt.getDocument,X3=Rt.getFilenameFromUrl,Y3=Rt.getPdfFilenameFromUrl,K3=Rt.getXfaPageViewport,W3=Rt.isDataScheme,$3=Rt.isPdfFile,Q3=Rt.noContextMenu,Z3=Rt.normalizeUnicode,J3=Rt.setLayerDimensions,tB=Rt.shadow,eB=Rt.version;const iB=Object.freeze(Object.defineProperty({__proto__:null,AbortException:v3,AnnotationEditorLayer:b3,AnnotationEditorParamsType:A3,AnnotationEditorType:S3,AnnotationEditorUIManager:x3,AnnotationLayer:TM,AnnotationMode:CM,ColorPicker:E3,DOMSVGFactory:_3,DrawLayer:w3,FeatureTest:T3,GlobalWorkerOptions:WA,ImageKind:C3,InvalidPDFException:R3,MissingPDFException:M3,OPS:D3,OutputScale:L3,PDFDataRangeTransport:O3,PDFDateString:k3,PDFWorker:P3,PasswordResponses:N3,PermissionFlag:F3,PixelsPerInch:j3,RenderingCancelledException:B3,TextLayer:RM,UnexpectedResponseException:H3,Util:z3,VerbosityLevel:V3,XfaLayer:U3,build:I3,createValidAbsoluteUrl:G3,fetchData:q3,getDocument:MM,getFilenameFromUrl:X3,getPdfFilenameFromUrl:Y3,getXfaPageViewport:K3,isDataScheme:W3,isPdfFile:$3,noContextMenu:Q3,normalizeUnicode:Z3,setLayerDimensions:J3,shadow:tB,version:eB},Symbol.toStringTag,{value:"Module"}));var Ke=function(a,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,l;n<r;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return a.concat(l||Array.prototype.slice.call(t))},nB=["onCopy","onCut","onPaste"],sB=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],aB=["onFocus","onBlur"],rB=["onInput","onInvalid","onReset","onSubmit"],oB=["onLoad","onError"],lB=["onKeyDown","onKeyPress","onKeyUp"],cB=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],uB=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],hB=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],dB=["onSelect"],fB=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pB=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],mB=["onScroll"],gB=["onWheel"],yB=["onAnimationStart","onAnimationEnd","onAnimationIteration"],vB=["onTransitionEnd"],bB=["onToggle"],AB=["onChange"],SB=Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke([],nB,!0),sB,!0),aB,!0),rB,!0),oB,!0),lB,!0),cB,!0),uB,!0),hB,!0),dB,!0),fB,!0),pB,!0),mB,!0),gB,!0),yB,!0),vB,!0),AB,!0),bB,!0);function DM(a,t){var e={};return SB.forEach(function(n){var r=a[n];r&&(t?e[n]=function(l){return r(l,t(n))}:e[n]=r)}),e}function qf(a){var t=!1,e=new Promise(function(n,r){a.then(function(l){return!t&&n(l)}).catch(function(l){return!t&&r(l)})});return{promise:e,cancel:function(){t=!0}}}function LM(a){var t,e,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=LM(a[t]))&&(n&&(n+=" "),n+=e)}else for(e in a)a[e]&&(n&&(n+=" "),n+=e);return n}function Pg(){for(var a,t,e=0,n="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=LM(a))&&(n&&(n+=" "),n+=t);return n}var xB="Invariant failed";function ne(a,t){if(!a)throw new Error(xB)}var y0,T1;function EB(){if(T1)return y0;T1=1;var a=function(){};return y0=a,y0}var _B=EB();const Ai=B1(_B);var C1=Object.prototype.hasOwnProperty;function R1(a,t,e){for(e of a.keys())if(Mc(e,t))return e}function Mc(a,t){var e,n,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((n=a.length)===t.length)for(;n--&&Mc(a[n],t[n]););return n===-1}if(e===Set){if(a.size!==t.size)return!1;for(n of a)if(r=n,r&&typeof r=="object"&&(r=R1(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(n of a)if(r=n[0],r&&typeof r=="object"&&(r=R1(t,r),!r)||!Mc(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((n=a.byteLength)===t.byteLength)for(;n--&&a.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===t.byteLength)for(;n--&&a[n]===t[n];);return n===-1}if(!e||typeof a=="object"){n=0;for(e in a)if(C1.call(a,e)&&++n&&!C1.call(t,e)||!(e in t)||!Mc(a[e],t[e]))return!1;return Object.keys(t).length===n}}return a!==a&&t!==t}const OM=W.createContext(null);function Dc({children:a,type:t}){return F.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const wB="noopener noreferrer nofollow";class TB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ne(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ne(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ne(this.pdfDocument),ne(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ne(Array.isArray(e));const n=e[0];new Promise(r=>{ne(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(l=>{r(l)}).catch(()=>{ne(!1)}):typeof n=="number"?r(n):ne(!1)}).then(r=>{const l=r+1;ne(this.pdfViewer),ne(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ne(this.pdfViewer),ne(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||wB,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const M1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Ng=typeof window<"u",kM=Ng&&window.location.protocol==="file:";function CB(a){return typeof a<"u"}function fo(a){return CB(a)&&a!==null}function RB(a){return typeof a=="string"}function MB(a){return a instanceof ArrayBuffer}function DB(a){return ne(Ng),a instanceof Blob}function Jb(a){return RB(a)&&/^data:/.test(a)}function D1(a){ne(Jb(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function LB(){return Ng&&window.devicePixelRatio||1}const PM="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function L1(){Ai(!kM,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${PM}`)}function OB(){Ai(!kM,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${PM}`)}function El(a){a!=null&&a.cancel&&a.cancel()}function tA(a,t){return Object.defineProperty(a,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function kB(a){return a.name==="RenderingCancelledException"}function PB(a){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}function NB(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function Ou(){return W.useReducer(NB,{value:void 0,error:void 0})}var FB=function(a,t,e,n){function r(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function h(g){try{p(n.next(g))}catch(v){c(v)}}function f(g){try{p(n.throw(g))}catch(v){c(v)}}function p(g){g.done?l(g.value):r(g.value).then(h,f)}p((n=n.apply(a,t||[])).next())})},O1=function(a,t){var e={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(e[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(e[n[r]]=a[n[r]]);return e};const{PDFDataRangeTransport:jB}=iB,BB=(a,t)=>{switch(t){case M1.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case M1.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function k1(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const HB=W.forwardRef(function(t,e){var{children:n,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:f,inputRef:p,imageResourcesPath:g,loading:v="Loading PDF",noData:b="No PDF file specified.",onItemClick:A,onLoadError:x,onLoadProgress:w,onLoadSuccess:M,onPassword:C=BB,onSourceError:L,onSourceSuccess:O,options:j,renderMode:P,rotate:z}=t,q=O1(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[I,G]=Ou(),{value:tt,error:it}=I,[vt,ft]=Ou(),{value:ut,error:mt}=vt,$=W.useRef(new TB),Y=W.useRef([]),Z=W.useRef(void 0),xt=W.useRef(void 0);f&&f!==Z.current&&k1(f)&&(Ai(!Mc(f,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=f),j&&j!==xt.current&&(Ai(!Mc(j,xt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),xt.current=j);const k=W.useRef({scrollPageIntoView:zt=>{const{dest:le,pageNumber:we,pageIndex:ce=we-1}=zt;if(A){A({dest:le,pageIndex:ce,pageNumber:we});return}const ns=Y.current[ce];if(ns){ns.scrollIntoView();return}Ai(!1,`An internal link leading to page ${we} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});W.useImperativeHandle(e,()=>({linkService:$,pages:Y,viewer:k}),[]);function J(){O&&O()}function ot(){it&&(Ai(!1,it.toString()),L&&L(it))}function at(){G({type:"RESET"})}W.useEffect(at,[f,G]);const nt=W.useCallback(()=>FB(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return Jb(f)?{data:D1(f)}:(L1(),{url:f});if(f instanceof jB)return{range:f};if(MB(f))return{data:f};if(Ng&&DB(f))return{data:yield PB(f)};if(ne(typeof f=="object"),ne(k1(f)),"url"in f&&typeof f.url=="string"){if(Jb(f.url)){const{url:zt}=f,le=O1(f,["url"]),we=D1(zt);return Object.assign({data:we},le)}L1()}return f}),[f]);W.useEffect(()=>{const zt=qf(nt());return zt.promise.then(le=>{G({type:"RESOLVE",value:le})}).catch(le=>{G({type:"REJECT",error:le})}),()=>{El(zt)}},[nt,G]),W.useEffect(()=>{if(!(typeof tt>"u")){if(tt===!1){ot();return}J()}},[tt]);function Et(){ut&&(M&&M(ut),Y.current=new Array(ut.numPages),$.current.setDocument(ut))}function ht(){mt&&(Ai(!1,mt.toString()),x&&x(mt))}W.useEffect(function(){ft({type:"RESET"})},[ft,tt]),W.useEffect(function(){if(!tt)return;const le=j?Object.assign(Object.assign({},tt),j):tt,we=MM(le);w&&(we.onProgress=w),C&&(we.onPassword=C);const ce=we,ns=ce.promise.then(ss=>{ft({type:"RESOLVE",value:ss})}).catch(ss=>{ce.destroyed||ft({type:"REJECT",error:ss})});return()=>{ns.finally(()=>ce.destroy())}},[j,ft,tt]),W.useEffect(()=>{if(!(typeof ut>"u")){if(ut===!1){ht();return}Et()}},[ut]),W.useEffect(function(){$.current.setViewer(k.current),$.current.setExternalLinkRel(c),$.current.setExternalLinkTarget(h)},[c,h]);const _t=W.useCallback((zt,le)=>{Y.current[zt]=le},[]),Dt=W.useCallback(zt=>{delete Y.current[zt]},[]),Gt=W.useMemo(()=>({imageResourcesPath:g,linkService:$.current,onItemClick:A,pdf:ut,registerPage:_t,renderMode:P,rotate:z,unregisterPage:Dt}),[g,A,ut,_t,P,z,Dt]),St=W.useMemo(()=>DM(q,()=>ut),[q,ut]);function ci(){return F.jsx(OM.Provider,{value:Gt,children:n})}function Nn(){return f?ut==null?F.jsx(Dc,{type:"loading",children:typeof v=="function"?v():v}):ut===!1?F.jsx(Dc,{type:"error",children:typeof l=="function"?l():l}):ci():F.jsx(Dc,{type:"no-data",children:typeof b=="function"?b():b})}return F.jsx("div",Object.assign({className:Pg("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},St,{children:Nn()}))});function NM(){return W.useContext(OM)}function FM(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(l){e.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const jM=W.createContext(null),BM={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},zB=/^H(\d+)$/;function VB(a){return a in BM}function Fg(a){return"children"in a}function HM(a){return Fg(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function UB(a){const t={};if(Fg(a)){const{role:e}=a,n=e.match(zB);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(VB(e)){const r=BM[e];r&&(t.role=r)}}return t}function zM(a){const t={};if(Fg(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),HM(a)){const[e]=a.children;if(e){const n=zM(e);return Object.assign(Object.assign({},t),n)}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function IB(a){return a?Object.assign(Object.assign({},UB(a)),zM(a)):null}function VM({className:a,node:t}){const e=W.useMemo(()=>IB(t),[t]),n=W.useMemo(()=>!Fg(t)||HM(t)?null:t.children.map((r,l)=>F.jsx(VM,{node:r},l)),[t]);return F.jsx("span",Object.assign({className:a},e,{children:n}))}function jg(){return W.useContext(jM)}function GB(){const a=jg();ne(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[n,r]=Ou(),{value:l,error:c}=n,{customTextRenderer:h,page:f}=a;function p(){l&&e&&e(l)}function g(){c&&(Ai(!1,c.toString()),t&&t(c))}return W.useEffect(function(){r({type:"RESET"})},[r,f]),W.useEffect(function(){if(h||!f)return;const b=qf(f.getStructTree()),A=b;return b.promise.then(x=>{r({type:"RESOLVE",value:x})}).catch(x=>{r({type:"REJECT",error:x})}),()=>El(A)},[h,f,r]),W.useEffect(()=>{if(l!==void 0){if(l===!1){g();return}p()}},[l]),l?F.jsx(VM,{className:"react-pdf__Page__structTree structTree",node:l}):null}const P1=CM;function qB(a){const t=jg();ne(t);const e=Object.assign(Object.assign({},t),a),{_className:n,canvasBackground:r,devicePixelRatio:l=LB(),onRenderError:c,onRenderSuccess:h,page:f,renderForms:p,renderTextLayer:g,rotate:v,scale:b}=e,{canvasRef:A}=a;ne(f);const x=W.useRef(null);function w(){f&&h&&h(tA(f,b))}function M(j){kB(j)||(Ai(!1,j.toString()),c&&c(j))}const C=W.useMemo(()=>f.getViewport({scale:b*l,rotation:v}),[l,f,v,b]),L=W.useMemo(()=>f.getViewport({scale:b,rotation:v}),[f,v,b]);W.useEffect(function(){if(!f)return;f.cleanup();const{current:P}=x;if(!P)return;P.width=C.width,P.height=C.height,P.style.width=`${Math.floor(L.width)}px`,P.style.height=`${Math.floor(L.height)}px`,P.style.visibility="hidden";const z={annotationMode:p?P1.ENABLE_FORMS:P1.ENABLE,canvasContext:P.getContext("2d",{alpha:!1}),viewport:C};r&&(z.background=r);const q=f.render(z),I=q;return q.promise.then(()=>{P.style.visibility="",w()}).catch(M),()=>El(I)},[r,f,p,C,L]);const O=W.useCallback(()=>{const{current:j}=x;j&&(j.width=0,j.height=0)},[]);return W.useEffect(()=>O,[O]),F.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:FM(A,x),style:{display:"block",userSelect:"none"},children:g?F.jsx(GB,{}):null})}function XB(a){return"str"in a}function YB(){const a=jg();ne(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:h,pageNumber:f,rotate:p,scale:g}=a;ne(c);const[v,b]=Ou(),{value:A,error:x}=v,w=W.useRef(null);Ai(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){A&&n&&n(A)}function C(){x&&(Ai(!1,x.toString()),e&&e(x))}W.useEffect(function(){b({type:"RESET"})},[c,b]),W.useEffect(function(){if(!c)return;const I=qf(c.getTextContent()),G=I;return I.promise.then(tt=>{b({type:"RESOLVE",value:tt})}).catch(tt=>{b({type:"REJECT",error:tt})}),()=>El(G)},[c,b]),W.useEffect(()=>{if(A!==void 0){if(A===!1){C();return}M()}},[A]);const L=W.useCallback(()=>{l&&l()},[l]),O=W.useCallback(q=>{Ai(!1,q.toString()),r&&r(q)},[r]);function j(){const q=w.current;q&&q.classList.add("selecting")}function P(){const q=w.current;q&&q.classList.remove("selecting")}const z=W.useMemo(()=>c.getViewport({scale:g,rotation:p}),[c,p,g]);return W.useLayoutEffect(function(){if(!c||!A)return;const{current:I}=w;if(!I)return;I.innerHTML="";const G=c.streamTextContent({includeMarkedContent:!0}),tt={container:I,textContentSource:G,viewport:z},it=new RM(tt),vt=it;return it.render().then(()=>{const ft=document.createElement("div");ft.className="endOfContent",I.append(ft);const ut=I.querySelectorAll('[role="presentation"]');if(t){let mt=0;A.items.forEach(($,Y)=>{if(!XB($))return;const Z=ut[mt];if(!Z)return;const xt=t(Object.assign({pageIndex:h,pageNumber:f,itemIndex:Y},$));Z.innerHTML=xt,mt+=$.str&&$.hasEOL?2:1})}L()}).catch(O),()=>El(vt)},[t,O,L,c,h,f,A,z]),F.jsx("div",{className:Pg("react-pdf__Page__textContent","textLayer"),onMouseUp:P,onMouseDown:j,ref:w})}function KB(){const a=NM(),t=jg();ne(t);const e=Object.assign(Object.assign({},a),t),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:p,pdf:g,renderForms:v,rotate:b,scale:A=1}=e;ne(g),ne(p),ne(r);const[x,w]=Ou(),{value:M,error:C}=x,L=W.useRef(null);Ai(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){M&&c&&c(M)}function j(){C&&(Ai(!1,C.toString()),l&&l(C))}W.useEffect(function(){w({type:"RESET"})},[w,p]),W.useEffect(function(){if(!p)return;const G=qf(p.getAnnotations()),tt=G;return G.promise.then(it=>{w({type:"RESOLVE",value:it})}).catch(it=>{w({type:"REJECT",error:it})}),()=>{El(tt)}},[w,p]),W.useEffect(()=>{if(M!==void 0){if(M===!1){j();return}O()}},[M]);function P(){f&&f()}function z(I){Ai(!1,`${I}`),h&&h(I)}const q=W.useMemo(()=>p.getViewport({scale:A,rotation:b}),[p,b,A]);return W.useEffect(function(){if(!g||!p||!r||!M)return;const{current:G}=L;if(!G)return;const tt=q.clone({dontFlip:!0}),it={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:G,l10n:null,page:p,structTreeLayer:null,viewport:tt},vt={annotations:M,annotationStorage:g.annotationStorage,div:G,imageResourcesPath:n,linkService:r,page:p,renderForms:v,viewport:tt};G.innerHTML="";try{new TM(it).render(vt),P()}catch(ft){z(ft)}return()=>{}},[M,n,r,p,g,v,q]),F.jsx("div",{className:Pg("react-pdf__Page__annotations","annotationLayer"),ref:L})}var WB=function(a,t){var e={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(e[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(e[n[r]]=a[n[r]]);return e};const N1=1;function $B(a){const t=NM(),e=Object.assign(Object.assign({},t),a),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:h,className:f,customRenderer:p,customTextRenderer:g,devicePixelRatio:v,error:b="Failed to load the page.",height:A,inputRef:x,loading:w="Loading page",noData:M="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:L,onGetStructTreeError:O,onGetStructTreeSuccess:j,onGetTextError:P,onGetTextSuccess:z,onLoadError:q,onLoadSuccess:I,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:tt,onRenderError:it,onRenderSuccess:vt,onRenderTextLayerError:ft,onRenderTextLayerSuccess:ut,pageIndex:mt,pageNumber:$,pdf:Y,registerPage:Z,renderAnnotationLayer:xt=!0,renderForms:k=!1,renderMode:J="canvas",renderTextLayer:ot=!0,rotate:at,scale:nt=N1,unregisterPage:Et,width:ht}=e,_t=WB(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Dt,Gt]=Ou(),{value:St,error:ci}=Dt,Nn=W.useRef(null);ne(Y);const zt=fo($)?$-1:mt??null,le=$??(fo(mt)?mt+1:null),we=at??(St?St.rotate:null),ce=W.useMemo(()=>{if(!St)return null;let Ls=1;const Os=nt??N1;if(ht||A){const Dl=St.getViewport({scale:1,rotation:we});ht?Ls=ht/Dl.width:A&&(Ls=A/Dl.height)}return Os*Ls},[A,St,we,nt,ht]);W.useEffect(function(){return()=>{fo(zt)&&r&&Et&&Et(zt)}},[r,Y,zt,Et]);function ns(){if(I){if(!St||!ce)return;I(tA(St,ce))}if(r&&Z){if(!fo(zt)||!Nn.current)return;Z(zt,Nn.current)}}function ss(){ci&&(Ai(!1,ci.toString()),q&&q(ci))}W.useEffect(function(){Gt({type:"RESET"})},[Gt,Y,zt]),W.useEffect(function(){if(!Y||!le)return;const Os=qf(Y.getPage(le)),Dl=Os;return Os.promise.then(Ll=>{Gt({type:"RESOLVE",value:Ll})}).catch(Ll=>{Gt({type:"REJECT",error:Ll})}),()=>El(Dl)},[Gt,Y,le]),W.useEffect(()=>{if(St!==void 0){if(St===!1){ss();return}ns()}},[St,ce]);const Nu=W.useMemo(()=>St&&fo(zt)&&le&&fo(we)&&fo(ce)?{_className:n,canvasBackground:l,customTextRenderer:g,devicePixelRatio:v,onGetAnnotationsError:C,onGetAnnotationsSuccess:L,onGetStructTreeError:O,onGetStructTreeSuccess:j,onGetTextError:P,onGetTextSuccess:z,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:tt,onRenderError:it,onRenderSuccess:vt,onRenderTextLayerError:ft,onRenderTextLayerSuccess:ut,page:St,pageIndex:zt,pageNumber:le,renderForms:k,renderTextLayer:ot,rotate:we,scale:ce}:null,[n,l,g,v,C,L,O,j,P,z,G,tt,it,vt,ft,ut,St,zt,le,k,ot,we,ce]),Fu=W.useMemo(()=>DM(_t,()=>St&&(ce?tA(St,ce):void 0)),[_t,St,ce]),Pa=`${zt}@${ce}/${we}`;function Bg(){switch(J){case"custom":return ne(p),F.jsx(p,{},`${Pa}_custom`);case"none":return null;case"canvas":default:return F.jsx(qB,{canvasRef:c},`${Pa}_canvas`)}}function Hg(){return ot?F.jsx(YB,{},`${Pa}_text`):null}function un(){return xt?F.jsx(KB,{},`${Pa}_annotations`):null}function zg(){return F.jsxs(jM.Provider,{value:Nu,children:[Bg(),Hg(),un(),h]})}function Xf(){return le?Y===null||St===void 0||St===null?F.jsx(Dc,{type:"loading",children:typeof w=="function"?w():w}):Y===!1||St===!1?F.jsx(Dc,{type:"error",children:typeof b=="function"?b():b}):zg():F.jsx(Dc,{type:"no-data",children:typeof M=="function"?M():M})}return F.jsx("div",Object.assign({className:Pg(n,f),"data-page-number":le,ref:FM(x,Nn),style:{"--scale-factor":`${ce}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Fu,{children:Xf()}))}OB();WA.workerSrc="pdf.worker.mjs";WA.workerSrc=new URL("/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const QB=[{title:"Curso de Power BI",issuer:"Santander",date:"Septiembre 2024",file:"/assets/PowerBI_Cert.pdf",link:"/assets/PowerBI_Cert.pdf"},{title:"English Advanced C1",issuer:"Cambridge University",date:"Marzo 2025",file:"/assets/Statment_of_Result.pdf",link:"/assets/Statment_of_Result.pdf"}],ZB=()=>{const a=W.useRef(null);return F.jsxs("section",{id:"certifications",className:"text-[var(--foreground)] w-full mx-auto max-w-5xl px-4 mb-32 ",children:[F.jsx("h1",{className:"font-bold text-2xl sm:text-3xl mb-6",children:"Certificaciones"}),F.jsx("div",{className:"relative justify-items-center",children:F.jsx("div",{ref:a,className:"flex md:flex-row flex-col gap-6 md:gap-6 py-4",children:QB.map((t,e)=>t.isComingSoon?F.jsx("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-[var(--muted-foreground)] text-[var(--muted-foreground)] rounded-xl w-[90vw] sm:w-[420px] flex-shrink-0 text-center p-6 hover:border-[var(--accent)] transition-all",children:F.jsx("span",{className:"text-lg font-semibold tracking-wide animate-pulse",children:"Ms prximamente..."})},e):F.jsxs("div",{className:"bg-[var(--card)] rounded-2xl shadow-lg flex-shrink-0 flex flex-col overflow-hidden",children:[F.jsx("div",{className:"w-full h-[60vw] sm:h-52 border-b border-[var(--muted)] overflow-hidden",children:F.jsx(HB,{file:t.file,children:F.jsx($B,{pageNumber:1,width:window.innerWidth<640?window.innerWidth*.9:420,renderAnnotationLayer:!1,renderTextLayer:!1})})}),F.jsxs("div",{className:"flex flex-col items-center text-center md:p-4 px-4 py-2 space-y-2",children:[F.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:t.title}),F.jsxs("p",{className:"text-sm text-[var(--muted-foreground)]",children:[t.issuer,"  ",t.date]}),F.jsx("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:t.link&&F.jsxs(F.Fragment,{children:[F.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[var(--accent)] hover:underline hover:opacity-90",children:"Ver certificado"}),F.jsx("a",{href:t.link,download:!0,className:"text-sm text-[var(--accent)] hover:underline hover:opacity-90",children:"Descargar certificado"})]})})]})]},e))})})]})};function JB(){const[a,t]=W.useState(()=>{const c=localStorage.getItem("theme");return c==="dark"||!c&&window.matchMedia("(prefers-color-scheme: dark)").matches});W.useEffect(()=>{a?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[a]);const[e,n]=W.useState({}),[r,l]=W.useState(!1);return F.jsx(F.Fragment,{children:F.jsxs("div",{className:`relative overflow-x-clip h-full w-full ${a?"bg-zinc-900":"bg-white"}`,children:[r&&F.jsx("div",{className:"fixed z-40 pointer-events-none rounded-full opacity-30 animate-ripple bg-[var(--primary)]",style:{width:300,height:300,position:"fixed",...e}}),F.jsx("div",{className:"absolute z-[0] bottom-0 left-[-20%] right-0 top-[-10%] h-[500px] w-[500px] rounded-full bg-[radial-gradient(circle_farthest-side,rgba(192,132,252,.15),rgba(255,255,255,0))]"}),F.jsx("div",{className:"absolute z-[0] bottom-0 right-[-20%] top-[-10%] h-[500px] w-[500px] rounded-full bg-[radial-gradient(circle_farthest-side,rgba(192,132,252,.15),rgba(255,255,255,0))]"}),F.jsx("button",{className:"fixed top-4 right-4 z-50 px-4 py-2 rounded-full bg-[var(--button)] text-[var(--muted-foreground)] hover:brightness-110 transition-colors duration-1000 flex items-center space-x-2 shadow-sm hover:shadow-purple-300/20 cursor-pointer",onClick:c=>{const h=c.clientX,f=c.clientY;n({left:h-150,top:f-150}),l(!0),setTimeout(()=>l(!1),600),document.documentElement.classList.add("theme-transition"),setTimeout(()=>{t(p=>!p),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},1e3)},20)},onMouseDown:c=>c.currentTarget.classList.add("scale-95"),onMouseUp:c=>c.currentTarget.classList.remove("scale-95"),children:F.jsx("span",{className:"transition-transform duration-300 ease-in-out transform hover:rotate-12  ",children:a?F.jsx(TL,{className:"w-5 h-5"}):F.jsx(wL,{className:"w-5 h-5"})})}),F.jsxs("div",{className:`flex flex-col space-y-24 px-4 py-4 scroll-smooth transition-colors duration-500 ${a?"bg-zinc-900":"bg-gray-100"}`,children:[F.jsx(lF,{isDarkMode:a}),F.jsx(nF,{}),F.jsx(aF,{}),F.jsx(oF,{}),F.jsx(ZB,{}),F.jsx(pF,{})]}),F.jsx(mF,{})]})})}yL.createRoot(document.getElementById("root")).render(F.jsx(W.StrictMode,{children:F.jsx(JB,{})}));
